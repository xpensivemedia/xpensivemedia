function x2(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function jd(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rf={exports:{}},Sl={},Pf={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function T2(){if(dv)return Ue;dv=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function E($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,D={};function N($,J,fe){this.props=$,this.context=J,this.refs=D,this.updater=fe||C}N.prototype.isReactComponent={},N.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},N.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function K(){}K.prototype=N.prototype;function H($,J,fe){this.props=$,this.context=J,this.refs=D,this.updater=fe||C}var z=H.prototype=new K;z.constructor=H,j(z,N.prototype),z.isPureReactComponent=!0;var ee=Array.isArray,ge=Object.prototype.hasOwnProperty,ce={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function T($,J,fe){var Te,Pe={},De=null,Ne=null;if(J!=null)for(Te in J.ref!==void 0&&(Ne=J.ref),J.key!==void 0&&(De=""+J.key),J)ge.call(J,Te)&&!L.hasOwnProperty(Te)&&(Pe[Te]=J[Te]);var Ie=arguments.length-2;if(Ie===1)Pe.children=fe;else if(1<Ie){for(var Me=Array(Ie),tt=0;tt<Ie;tt++)Me[tt]=arguments[tt+2];Pe.children=Me}if($&&$.defaultProps)for(Te in Ie=$.defaultProps,Ie)Pe[Te]===void 0&&(Pe[Te]=Ie[Te]);return{$$typeof:r,type:$,key:De,ref:Ne,props:Pe,_owner:ce.current}}function P($,J){return{$$typeof:r,type:$.type,key:J,ref:$.ref,props:$.props,_owner:$._owner}}function S($){return typeof $=="object"&&$!==null&&$.$$typeof===r}function A($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(fe){return J[fe]})}var R=/\/+/g;function k($,J){return typeof $=="object"&&$!==null&&$.key!=null?A(""+$.key):J.toString(36)}function ie($,J,fe,Te,Pe){var De=typeof $;(De==="undefined"||De==="boolean")&&($=null);var Ne=!1;if($===null)Ne=!0;else switch(De){case"string":case"number":Ne=!0;break;case"object":switch($.$$typeof){case r:case e:Ne=!0}}if(Ne)return Ne=$,Pe=Pe(Ne),$=Te===""?"."+k(Ne,0):Te,ee(Pe)?(fe="",$!=null&&(fe=$.replace(R,"$&/")+"/"),ie(Pe,J,fe,"",function(tt){return tt})):Pe!=null&&(S(Pe)&&(Pe=P(Pe,fe+(!Pe.key||Ne&&Ne.key===Pe.key?"":(""+Pe.key).replace(R,"$&/")+"/")+$)),J.push(Pe)),1;if(Ne=0,Te=Te===""?".":Te+":",ee($))for(var Ie=0;Ie<$.length;Ie++){De=$[Ie];var Me=Te+k(De,Ie);Ne+=ie(De,J,fe,Me,Pe)}else if(Me=E($),typeof Me=="function")for($=Me.call($),Ie=0;!(De=$.next()).done;)De=De.value,Me=Te+k(De,Ie++),Ne+=ie(De,J,fe,Me,Pe);else if(De==="object")throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Ne}function re($,J,fe){if($==null)return $;var Te=[],Pe=0;return ie($,Te,"","",function(De){return J.call(fe,De,Pe++)}),Te}function Z($){if($._status===-1){var J=$._result;J=J(),J.then(function(fe){($._status===0||$._status===-1)&&($._status=1,$._result=fe)},function(fe){($._status===0||$._status===-1)&&($._status=2,$._result=fe)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var he={current:null},Y={transition:null},le={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:Y,ReactCurrentOwner:ce};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:re,forEach:function($,J,fe){re($,function(){J.apply(this,arguments)},fe)},count:function($){var J=0;return re($,function(){J++}),J},toArray:function($){return re($,function(J){return J})||[]},only:function($){if(!S($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ue.Component=N,Ue.Fragment=t,Ue.Profiler=i,Ue.PureComponent=H,Ue.StrictMode=n,Ue.Suspense=f,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ue.act=oe,Ue.cloneElement=function($,J,fe){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Te=j({},$.props),Pe=$.key,De=$.ref,Ne=$._owner;if(J!=null){if(J.ref!==void 0&&(De=J.ref,Ne=ce.current),J.key!==void 0&&(Pe=""+J.key),$.type&&$.type.defaultProps)var Ie=$.type.defaultProps;for(Me in J)ge.call(J,Me)&&!L.hasOwnProperty(Me)&&(Te[Me]=J[Me]===void 0&&Ie!==void 0?Ie[Me]:J[Me])}var Me=arguments.length-2;if(Me===1)Te.children=fe;else if(1<Me){Ie=Array(Me);for(var tt=0;tt<Me;tt++)Ie[tt]=arguments[tt+2];Te.children=Ie}return{$$typeof:r,type:$.type,key:Pe,ref:De,props:Te,_owner:Ne}},Ue.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Ue.createElement=T,Ue.createFactory=function($){var J=T.bind(null,$);return J.type=$,J},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function($){return{$$typeof:h,render:$}},Ue.isValidElement=S,Ue.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:Z}},Ue.memo=function($,J){return{$$typeof:m,type:$,compare:J===void 0?null:J}},Ue.startTransition=function($){var J=Y.transition;Y.transition={};try{$()}finally{Y.transition=J}},Ue.unstable_act=oe,Ue.useCallback=function($,J){return he.current.useCallback($,J)},Ue.useContext=function($){return he.current.useContext($)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function($){return he.current.useDeferredValue($)},Ue.useEffect=function($,J){return he.current.useEffect($,J)},Ue.useId=function(){return he.current.useId()},Ue.useImperativeHandle=function($,J,fe){return he.current.useImperativeHandle($,J,fe)},Ue.useInsertionEffect=function($,J){return he.current.useInsertionEffect($,J)},Ue.useLayoutEffect=function($,J){return he.current.useLayoutEffect($,J)},Ue.useMemo=function($,J){return he.current.useMemo($,J)},Ue.useReducer=function($,J,fe){return he.current.useReducer($,J,fe)},Ue.useRef=function($){return he.current.useRef($)},Ue.useState=function($){return he.current.useState($)},Ue.useSyncExternalStore=function($,J,fe){return he.current.useSyncExternalStore($,J,fe)},Ue.useTransition=function(){return he.current.useTransition()},Ue.version="18.3.1",Ue}var hv;function Hp(){return hv||(hv=1,Pf.exports=T2()),Pf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function k2(){if(fv)return Sl;fv=1;var r=Hp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var v,b={},E=null,C=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(C=f.ref);for(v in f)n.call(f,v)&&!a.hasOwnProperty(v)&&(b[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)b[v]===void 0&&(b[v]=f[v]);return{$$typeof:e,type:h,key:E,ref:C,props:b,_owner:i.current}}return Sl.Fragment=t,Sl.jsx=u,Sl.jsxs=u,Sl}var pv;function S2(){return pv||(pv=1,Rf.exports=k2()),Rf.exports}var w=S2(),B=Hp();const Ln=jd(B),A2=x2({__proto__:null,default:Ln},[B]);var jc={},Nf={exports:{}},kr={},Of={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function I2(){return mv||(mv=1,(function(r){function e(Y,le){var oe=Y.length;Y.push(le);e:for(;0<oe;){var $=oe-1>>>1,J=Y[$];if(0<i(J,le))Y[$]=le,Y[oe]=J,oe=$;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var le=Y[0],oe=Y.pop();if(oe!==le){Y[0]=oe;e:for(var $=0,J=Y.length,fe=J>>>1;$<fe;){var Te=2*($+1)-1,Pe=Y[Te],De=Te+1,Ne=Y[De];if(0>i(Pe,oe))De<J&&0>i(Ne,Pe)?(Y[$]=Ne,Y[De]=oe,$=De):(Y[$]=Pe,Y[Te]=oe,$=Te);else if(De<J&&0>i(Ne,oe))Y[$]=Ne,Y[De]=oe,$=De;else break e}}return le}function i(Y,le){var oe=Y.sortIndex-le.sortIndex;return oe!==0?oe:Y.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,b=null,E=3,C=!1,j=!1,D=!1,N=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(Y){for(var le=t(m);le!==null;){if(le.callback===null)n(m);else if(le.startTime<=Y)n(m),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(m)}}function ee(Y){if(D=!1,z(Y),!j)if(t(f)!==null)j=!0,Z(ge);else{var le=t(m);le!==null&&he(ee,le.startTime-Y)}}function ge(Y,le){j=!1,D&&(D=!1,K(T),T=-1),C=!0;var oe=E;try{for(z(le),b=t(f);b!==null&&(!(b.expirationTime>le)||Y&&!A());){var $=b.callback;if(typeof $=="function"){b.callback=null,E=b.priorityLevel;var J=$(b.expirationTime<=le);le=r.unstable_now(),typeof J=="function"?b.callback=J:b===t(f)&&n(f),z(le)}else n(f);b=t(f)}if(b!==null)var fe=!0;else{var Te=t(m);Te!==null&&he(ee,Te.startTime-le),fe=!1}return fe}finally{b=null,E=oe,C=!1}}var ce=!1,L=null,T=-1,P=5,S=-1;function A(){return!(r.unstable_now()-S<P)}function R(){if(L!==null){var Y=r.unstable_now();S=Y;var le=!0;try{le=L(!0,Y)}finally{le?k():(ce=!1,L=null)}}else ce=!1}var k;if(typeof H=="function")k=function(){H(R)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,re=ie.port2;ie.port1.onmessage=R,k=function(){re.postMessage(null)}}else k=function(){N(R,0)};function Z(Y){L=Y,ce||(ce=!0,k())}function he(Y,le){T=N(function(){Y(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_continueExecution=function(){j||C||(j=!0,Z(ge))},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var oe=E;E=le;try{return Y()}finally{E=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var oe=E;E=Y;try{return le()}finally{E=oe}},r.unstable_scheduleCallback=function(Y,le,oe){var $=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?$+oe:$):oe=$,Y){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=oe+J,Y={id:v++,callback:le,priorityLevel:Y,startTime:oe,expirationTime:J,sortIndex:-1},oe>$?(Y.sortIndex=oe,e(m,Y),t(f)===null&&Y===t(m)&&(D?(K(T),T=-1):D=!0,he(ee,oe-$))):(Y.sortIndex=J,e(f,Y),j||C||(j=!0,Z(ge))),Y},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(Y){var le=E;return function(){var oe=E;E=le;try{return Y.apply(this,arguments)}finally{E=oe}}}})(jf)),jf}var gv;function C2(){return gv||(gv=1,Of.exports=I2()),Of.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function R2(){if(yv)return kr;yv=1;var r=Hp(),e=C2();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function E(s){return f.call(b,s)?!0:f.call(v,s)?!1:m.test(s)?b[s]=!0:(v[s]=!0,!1)}function C(s,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,o,l,d){if(o===null||typeof o>"u"||C(s,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(s,o,l,d,p,y,x){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=x}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new D(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];N[o]=new D(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new D(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new D(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new D(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new D(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new D(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new D(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new D(s,5,!1,s.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function H(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(K,H);N[o]=new D(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(K,H);N[o]=new D(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(K,H);N[o]=new D(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new D(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new D(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,o,l,d){var p=N.hasOwnProperty(o)?N[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(j(o,l,p,d)&&(l=null),d||p===null?E(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,d=p.attributeNamespace,l===null?s.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?s.setAttributeNS(d,o,l):s.setAttribute(o,l))))}var ee=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=Symbol.for("react.element"),ce=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),Y=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,$;function J(s){if($===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+s}var fe=!1;function Te(s,o){if(!s||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(W){var d=W}Reflect.construct(s,[],o)}else{try{o.call()}catch(W){d=W}s.call(o.prototype)}else{try{throw Error()}catch(W){d=W}s()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var p=W.stack.split(`
`),y=d.stack.split(`
`),x=p.length-1,O=y.length-1;1<=x&&0<=O&&p[x]!==y[O];)O--;for(;1<=x&&0<=O;x--,O--)if(p[x]!==y[O]){if(x!==1||O!==1)do if(x--,O--,0>O||p[x]!==y[O]){var V=`
`+p[x].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=x&&0<=O);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?J(s):""}function Pe(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=Te(s.type,!1),s;case 11:return s=Te(s.type.render,!1),s;case 1:return s=Te(s.type,!0),s;default:return""}}function De(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case ce:return"Portal";case P:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case ie:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case A:return(s.displayName||"Context")+".Consumer";case S:return(s._context.displayName||"Context")+".Provider";case R:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case re:return o=s.displayName||null,o!==null?o:De(s.type)||"Memo";case Z:o=s._payload,s=s._init;try{return De(s(o))}catch{}}return null}function Ne(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(o);case 8:return o===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ie(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Me(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function tt(s){var o=Me(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return p.call(this)},set:function(x){d=""+x,y.call(this,x)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ft(s){s._valueTracker||(s._valueTracker=tt(s))}function nr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return s&&(d=Me(s)?s.checked?"true":"false":s.value),s=d,s!==l?(o.setValue(s),!0):!1}function Ge(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Fe(s,o){var l=o.checked;return oe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function wt(s,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Ie(o.value!=null?o.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function yr(s,o){o=o.checked,o!=null&&z(s,"checked",o,!1)}function ms(s,o){yr(s,o);var l=Ie(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?io(s,o.type,l):o.hasOwnProperty("defaultValue")&&io(s,o.type,Ie(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function wu(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function io(s,o,l){(o!=="number"||Ge(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Wn=Array.isArray;function Hn(s,o,l,d){if(s=s.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=o.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&d&&(s[l].defaultSelected=!0)}else{for(l=""+Ie(l),o=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}o!==null||s[p].disabled||(o=s[p])}o!==null&&(o.selected=!0)}}function ja(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function oo(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Wn(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:Ie(l)}}function ao(s,o){var l=Ie(o.value),d=Ie(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function Da(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ot(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ot(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Kn,La=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,p){MSApp.execUnsafeLocalFunction(function(){return s(o,l,d,p)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Kn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function gs(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},li=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(s){li.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),ai[o]=ai[s]})});function Va(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||ai.hasOwnProperty(s)&&ai[s]?(""+o).trim():o+"px"}function Ma(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Va(l,o[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,p):s[l]=p}}var $a=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ua(s,o){if(o){if($a[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Fa(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ui=null;function lo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var uo=null,Br=null,xn=null;function co(s){if(s=dl(s)){if(typeof uo!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Qu(o),uo(s.stateNode,s.type,o))}}function Tn(s){Br?xn?xn.push(s):xn=[s]:Br=s}function Ba(){if(Br){var s=Br,o=xn;if(xn=Br=null,co(s),o)for(s=0;s<o.length;s++)co(o[s])}}function ci(s,o){return s(o)}function za(){}var Gn=!1;function qa(s,o,l){if(Gn)return s(o,l);Gn=!0;try{return ci(s,o,l)}finally{Gn=!1,(Br!==null||xn!==null)&&(za(),Ba())}}function _t(s,o){var l=s.stateNode;if(l===null)return null;var d=Qu(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var ho=!1;if(h)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){ho=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{ho=!1}function di(s,o,l,d,p,y,x,O,V){var W=Array.prototype.slice.call(arguments,3);try{o.apply(l,W)}catch(se){this.onError(se)}}var hi=!1,fo=null,rn=!1,Wa=null,nh={onError:function(s){hi=!0,fo=s}};function po(s,o,l,d,p,y,x,O,V){hi=!1,fo=null,di.apply(nh,arguments)}function _u(s,o,l,d,p,y,x,O,V){if(po.apply(this,arguments),hi){if(hi){var W=fo;hi=!1,fo=null}else throw Error(t(198));rn||(rn=!0,Wa=W)}}function nn(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function fi(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function sn(s){if(nn(s)!==s)throw Error(t(188))}function bu(s){var o=s.alternate;if(!o){if(o=nn(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,d=o;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return sn(p),s;if(y===d)return sn(p),o;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var x=!1,O=p.child;O;){if(O===l){x=!0,l=p,d=y;break}if(O===d){x=!0,d=p,l=y;break}O=O.sibling}if(!x){for(O=y.child;O;){if(O===l){x=!0,l=y,d=p;break}if(O===d){x=!0,d=y,l=p;break}O=O.sibling}if(!x)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function Ha(s){return s=bu(s),s!==null?mo(s):null}function mo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=mo(s);if(o!==null)return o;s=s.sibling}return null}var go=e.unstable_scheduleCallback,Ka=e.unstable_cancelCallback,Eu=e.unstable_shouldYield,sh=e.unstable_requestPaint,nt=e.unstable_now,xu=e.unstable_getCurrentPriorityLevel,pi=e.unstable_ImmediatePriority,ys=e.unstable_UserBlockingPriority,zr=e.unstable_NormalPriority,Ga=e.unstable_LowPriority,Tu=e.unstable_IdlePriority,mi=null,Cr=null;function ku(s){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(mi,s,void 0,(s.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:Au,Qa=Math.log,Su=Math.LN2;function Au(s){return s>>>=0,s===0?32:31-(Qa(s)/Su|0)|0}var yo=64,vo=4194304;function vs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function gi(s,o){var l=s.pendingLanes;if(l===0)return 0;var d=0,p=s.suspendedLanes,y=s.pingedLanes,x=l&268435455;if(x!==0){var O=x&~p;O!==0?d=vs(O):(y&=x,y!==0&&(d=vs(y)))}else x=l&~p,x!==0?d=vs(x):y!==0&&(d=vs(y));if(d===0)return 0;if(o!==0&&o!==d&&(o&p)===0&&(p=d&-d,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)l=31-dr(o),p=1<<l,d|=s[l],o&=~p;return d}function ih(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qn(s,o){for(var l=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes;0<y;){var x=31-dr(y),O=1<<x,V=p[x];V===-1?((O&l)===0||(O&d)!==0)&&(p[x]=ih(O,o)):V<=o&&(s.expiredLanes|=O),y&=~O}}function Rr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yi(){var s=yo;return yo<<=1,(yo&4194240)===0&&(yo=64),s}function ws(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function _s(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-dr(o),s[o]=l}function rt(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-dr(l),y=1<<p;o[p]=0,d[p]=-1,s[p]=-1,l&=~y}}function bs(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var d=31-dr(l),p=1<<d;p&o|s[d]&o&&(s[d]|=o),l&=~p}}var ze=0;function Es(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Iu,wo,Cu,Ru,Pu,Ja=!1,kn=[],Gt=null,on=null,an=null,xs=new Map,qr=new Map,Sn=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nu(s,o){switch(s){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":xs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(o.pointerId)}}function vr(s,o,l,d,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},o!==null&&(o=dl(o),o!==null&&wo(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),s)}function ah(s,o,l,d,p){switch(o){case"focusin":return Gt=vr(Gt,s,o,l,d,p),!0;case"dragenter":return on=vr(on,s,o,l,d,p),!0;case"mouseover":return an=vr(an,s,o,l,d,p),!0;case"pointerover":var y=p.pointerId;return xs.set(y,vr(xs.get(y)||null,s,o,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,qr.set(y,vr(qr.get(y)||null,s,o,l,d,p)),!0}return!1}function Ou(s){var o=Ei(s.target);if(o!==null){var l=nn(o);if(l!==null){if(o=l.tag,o===13){if(o=fi(l),o!==null){s.blockedOn=o,Pu(s.priority,function(){Cu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jn(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=_o(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);ui=d,l.target.dispatchEvent(d),ui=null}else return o=dl(l),o!==null&&wo(o),s.blockedOn=l,!1;o.shift()}return!0}function vi(s,o,l){Jn(s)&&l.delete(o)}function ju(){Ja=!1,Gt!==null&&Jn(Gt)&&(Gt=null),on!==null&&Jn(on)&&(on=null),an!==null&&Jn(an)&&(an=null),xs.forEach(vi),qr.forEach(vi)}function ln(s,o){s.blockedOn===o&&(s.blockedOn=null,Ja||(Ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ju)))}function un(s){function o(p){return ln(p,s)}if(0<kn.length){ln(kn[0],s);for(var l=1;l<kn.length;l++){var d=kn[l];d.blockedOn===s&&(d.blockedOn=null)}}for(Gt!==null&&ln(Gt,s),on!==null&&ln(on,s),an!==null&&ln(an,s),xs.forEach(o),qr.forEach(o),l=0;l<Sn.length;l++)d=Sn[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<Sn.length&&(l=Sn[0],l.blockedOn===null);)Ou(l),l.blockedOn===null&&Sn.shift()}var Yn=ee.ReactCurrentBatchConfig,Ts=!0;function dt(s,o,l,d){var p=ze,y=Yn.transition;Yn.transition=null;try{ze=1,Ya(s,o,l,d)}finally{ze=p,Yn.transition=y}}function lh(s,o,l,d){var p=ze,y=Yn.transition;Yn.transition=null;try{ze=4,Ya(s,o,l,d)}finally{ze=p,Yn.transition=y}}function Ya(s,o,l,d){if(Ts){var p=_o(s,o,l,d);if(p===null)wh(s,o,d,wi,l),Nu(s,d);else if(ah(p,s,o,l,d))d.stopPropagation();else if(Nu(s,d),o&4&&-1<oh.indexOf(s)){for(;p!==null;){var y=dl(p);if(y!==null&&Iu(y),y=_o(s,o,l,d),y===null&&wh(s,o,d,wi,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else wh(s,o,d,null,l)}}var wi=null;function _o(s,o,l,d){if(wi=null,s=lo(d),s=Ei(s),s!==null)if(o=nn(s),o===null)s=null;else if(l=o.tag,l===13){if(s=fi(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return wi=s,null}function Xa(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xu()){case pi:return 1;case ys:return 4;case zr:case Ga:return 16;case Tu:return 536870912;default:return 16}default:return 16}}var Pr=null,bo=null,wr=null;function Za(){if(wr)return wr;var s,o=bo,l=o.length,d,p="value"in Pr?Pr.value:Pr.textContent,y=p.length;for(s=0;s<l&&o[s]===p[s];s++);var x=l-s;for(d=1;d<=x&&o[l-d]===p[y-d];d++);return wr=p.slice(s,1<d?1-d:void 0)}function Eo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function An(){return!0}function el(){return!1}function Qt(s){function o(l,d,p,y,x){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(l=s[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?An:el,this.isPropagationStopped=el,this}return oe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=An)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=An)},persist:function(){},isPersistent:An}),o}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=Qt(cn),In=oe({},cn,{view:0,detail:0}),uh=Qt(In),To,Xn,ks,_i=oe({},In,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ks&&(ks&&s.type==="mousemove"?(To=s.screenX-ks.screenX,Xn=s.screenY-ks.screenY):Xn=To=0,ks=s),To)},movementY:function(s){return"movementY"in s?s.movementY:Xn}}),ko=Qt(_i),tl=oe({},_i,{dataTransfer:0}),Du=Qt(tl),So=oe({},In,{relatedTarget:0}),Ao=Qt(So),Lu=oe({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zn=Qt(Lu),Vu=oe({},cn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Mu=Qt(Vu),$u=oe({},cn,{data:0}),rl=Qt($u),Io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Uu[s])?!!o[s]:!1}function Cn(){return Fu}var c=oe({},In,{key:function(s){if(s.key){var o=Io[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Eo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(s){return s.type==="keypress"?Eo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Eo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=Qt(c),_=oe({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Qt(_),U=oe({},In,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn}),G=Qt(U),de=oe({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=Qt(de),Dt=oe({},_i,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),qe=Qt(Dt),Bt=[9,13,27,32],St=h&&"CompositionEvent"in window,Wr=null;h&&"documentMode"in document&&(Wr=document.documentMode);var Nr=h&&"TextEvent"in window&&!Wr,bi=h&&(!St||Wr&&8<Wr&&11>=Wr),Co=" ",ig=!1;function og(s,o){switch(s){case"keyup":return Bt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ag(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ro=!1;function _E(s,o){switch(s){case"compositionend":return ag(o);case"keypress":return o.which!==32?null:(ig=!0,Co);case"textInput":return s=o.data,s===Co&&ig?null:s;default:return null}}function bE(s,o){if(Ro)return s==="compositionend"||!St&&og(s,o)?(s=Za(),wr=bo=Pr=null,Ro=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return bi&&o.locale!=="ko"?null:o.data;default:return null}}var EE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!EE[s.type]:o==="textarea"}function ug(s,o,l,d){Tn(d),o=Hu(o,"onChange"),0<o.length&&(l=new xo("onChange","change",null,l,d),s.push({event:l,listeners:o}))}var nl=null,sl=null;function xE(s){Ag(s,0)}function Bu(s){var o=Do(s);if(nr(o))return s}function TE(s,o){if(s==="change")return o}var cg=!1;if(h){var ch;if(h){var dh="oninput"in document;if(!dh){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),dh=typeof dg.oninput=="function"}ch=dh}else ch=!1;cg=ch&&(!document.documentMode||9<document.documentMode)}function hg(){nl&&(nl.detachEvent("onpropertychange",fg),sl=nl=null)}function fg(s){if(s.propertyName==="value"&&Bu(sl)){var o=[];ug(o,sl,s,lo(s)),qa(xE,o)}}function kE(s,o,l){s==="focusin"?(hg(),nl=o,sl=l,nl.attachEvent("onpropertychange",fg)):s==="focusout"&&hg()}function SE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bu(sl)}function AE(s,o){if(s==="click")return Bu(o)}function IE(s,o){if(s==="input"||s==="change")return Bu(o)}function CE(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var dn=typeof Object.is=="function"?Object.is:CE;function il(s,o){if(dn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(o,p)||!dn(s[p],o[p]))return!1}return!0}function pg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function mg(s,o){var l=pg(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=o&&d>=o)return{node:l,offset:o-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=pg(l)}}function gg(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?gg(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function yg(){for(var s=window,o=Ge();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Ge(s.document)}return o}function hh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function RE(s){var o=yg(),l=s.focusedElem,d=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&gg(l.ownerDocument.documentElement,l)){if(d!==null&&hh(l)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!s.extend&&y>d&&(p=d,d=y,y=p),p=mg(l,y);var x=mg(l,d);p&&x&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),s.removeAllRanges(),y>d?(s.addRange(o),s.extend(x.node,x.offset)):(o.setEnd(x.node,x.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var PE=h&&"documentMode"in document&&11>=document.documentMode,Po=null,fh=null,ol=null,ph=!1;function vg(s,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ph||Po==null||Po!==Ge(d)||(d=Po,"selectionStart"in d&&hh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ol&&il(ol,d)||(ol=d,d=Hu(fh,"onSelect"),0<d.length&&(o=new xo("onSelect","select",null,o,l),s.push({event:o,listeners:d}),o.target=Po)))}function zu(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var No={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},mh={},wg={};h&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function qu(s){if(mh[s])return mh[s];if(!No[s])return s;var o=No[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in wg)return mh[s]=o[l];return s}var _g=qu("animationend"),bg=qu("animationiteration"),Eg=qu("animationstart"),xg=qu("transitionend"),Tg=new Map,kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(s,o){Tg.set(s,o),a(o,[s])}for(var gh=0;gh<kg.length;gh++){var yh=kg[gh],NE=yh.toLowerCase(),OE=yh[0].toUpperCase()+yh.slice(1);Ss(NE,"on"+OE)}Ss(_g,"onAnimationEnd"),Ss(bg,"onAnimationIteration"),Ss(Eg,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(xg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jE=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function Sg(s,o,l){var d=s.type||"unknown-event";s.currentTarget=l,_u(d,o,void 0,s),s.currentTarget=null}function Ag(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],p=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var x=d.length-1;0<=x;x--){var O=d[x],V=O.instance,W=O.currentTarget;if(O=O.listener,V!==y&&p.isPropagationStopped())break e;Sg(p,O,W),y=V}else for(x=0;x<d.length;x++){if(O=d[x],V=O.instance,W=O.currentTarget,O=O.listener,V!==y&&p.isPropagationStopped())break e;Sg(p,O,W),y=V}}}if(rn)throw s=Wa,rn=!1,Wa=null,s}function lt(s,o){var l=o[kh];l===void 0&&(l=o[kh]=new Set);var d=s+"__bubble";l.has(d)||(Ig(o,s,2,!1),l.add(d))}function vh(s,o,l){var d=0;o&&(d|=4),Ig(l,s,d,o)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function ll(s){if(!s[Wu]){s[Wu]=!0,n.forEach(function(l){l!=="selectionchange"&&(jE.has(l)||vh(l,!1,s),vh(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Wu]||(o[Wu]=!0,vh("selectionchange",!1,o))}}function Ig(s,o,l,d){switch(Xa(o)){case 1:var p=dt;break;case 4:p=lh;break;default:p=Ya}l=p.bind(null,o,l,s),p=void 0,!ho||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(o,l,{capture:!0,passive:p}):s.addEventListener(o,l,!0):p!==void 0?s.addEventListener(o,l,{passive:p}):s.addEventListener(o,l,!1)}function wh(s,o,l,d,p){var y=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var O=d.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(x===4)for(x=d.return;x!==null;){var V=x.tag;if((V===3||V===4)&&(V=x.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;x=x.return}for(;O!==null;){if(x=Ei(O),x===null)return;if(V=x.tag,V===5||V===6){d=y=x;continue e}O=O.parentNode}}d=d.return}qa(function(){var W=y,se=lo(l),ae=[];e:{var ne=Tg.get(s);if(ne!==void 0){var me=xo,we=s;switch(s){case"keypress":if(Eo(l)===0)break e;case"keydown":case"keyup":me=g;break;case"focusin":we="focus",me=Ao;break;case"focusout":we="blur",me=Ao;break;case"beforeblur":case"afterblur":me=Ao;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=G;break;case _g:case bg:case Eg:me=Zn;break;case xg:me=Ze;break;case"scroll":me=uh;break;case"wheel":me=qe;break;case"copy":case"cut":case"paste":me=Mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=I}var _e=(o&4)!==0,bt=!_e&&s==="scroll",F=_e?ne!==null?ne+"Capture":null:ne;_e=[];for(var M=W,q;M!==null;){q=M;var ue=q.stateNode;if(q.tag===5&&ue!==null&&(q=ue,F!==null&&(ue=_t(M,F),ue!=null&&_e.push(ul(M,ue,q)))),bt)break;M=M.return}0<_e.length&&(ne=new me(ne,we,null,l,se),ae.push({event:ne,listeners:_e}))}}if((o&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",ne&&l!==ui&&(we=l.relatedTarget||l.fromElement)&&(Ei(we)||we[es]))break e;if((me||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,me?(we=l.relatedTarget||l.toElement,me=W,we=we?Ei(we):null,we!==null&&(bt=nn(we),we!==bt||we.tag!==5&&we.tag!==6)&&(we=null)):(me=null,we=W),me!==we)){if(_e=ko,ue="onMouseLeave",F="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(_e=I,ue="onPointerLeave",F="onPointerEnter",M="pointer"),bt=me==null?ne:Do(me),q=we==null?ne:Do(we),ne=new _e(ue,M+"leave",me,l,se),ne.target=bt,ne.relatedTarget=q,ue=null,Ei(se)===W&&(_e=new _e(F,M+"enter",we,l,se),_e.target=q,_e.relatedTarget=bt,ue=_e),bt=ue,me&&we)t:{for(_e=me,F=we,M=0,q=_e;q;q=Oo(q))M++;for(q=0,ue=F;ue;ue=Oo(ue))q++;for(;0<M-q;)_e=Oo(_e),M--;for(;0<q-M;)F=Oo(F),q--;for(;M--;){if(_e===F||F!==null&&_e===F.alternate)break t;_e=Oo(_e),F=Oo(F)}_e=null}else _e=null;me!==null&&Cg(ae,ne,me,_e,!1),we!==null&&bt!==null&&Cg(ae,bt,we,_e,!0)}}e:{if(ne=W?Do(W):window,me=ne.nodeName&&ne.nodeName.toLowerCase(),me==="select"||me==="input"&&ne.type==="file")var be=TE;else if(lg(ne))if(cg)be=IE;else{be=SE;var ke=kE}else(me=ne.nodeName)&&me.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(be=AE);if(be&&(be=be(s,W))){ug(ae,be,l,se);break e}ke&&ke(s,ne,W),s==="focusout"&&(ke=ne._wrapperState)&&ke.controlled&&ne.type==="number"&&io(ne,"number",ne.value)}switch(ke=W?Do(W):window,s){case"focusin":(lg(ke)||ke.contentEditable==="true")&&(Po=ke,fh=W,ol=null);break;case"focusout":ol=fh=Po=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,vg(ae,l,se);break;case"selectionchange":if(PE)break;case"keydown":case"keyup":vg(ae,l,se)}var Se;if(St)e:{switch(s){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ro?og(s,l)&&(je="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&(bi&&l.locale!=="ko"&&(Ro||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ro&&(Se=Za()):(Pr=se,bo="value"in Pr?Pr.value:Pr.textContent,Ro=!0)),ke=Hu(W,je),0<ke.length&&(je=new rl(je,s,null,l,se),ae.push({event:je,listeners:ke}),Se?je.data=Se:(Se=ag(l),Se!==null&&(je.data=Se)))),(Se=Nr?_E(s,l):bE(s,l))&&(W=Hu(W,"onBeforeInput"),0<W.length&&(se=new rl("onBeforeInput","beforeinput",null,l,se),ae.push({event:se,listeners:W}),se.data=Se))}Ag(ae,o)})}function ul(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Hu(s,o){for(var l=o+"Capture",d=[];s!==null;){var p=s,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=_t(s,l),y!=null&&d.unshift(ul(s,y,p)),y=_t(s,o),y!=null&&d.push(ul(s,y,p))),s=s.return}return d}function Oo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Cg(s,o,l,d,p){for(var y=o._reactName,x=[];l!==null&&l!==d;){var O=l,V=O.alternate,W=O.stateNode;if(V!==null&&V===d)break;O.tag===5&&W!==null&&(O=W,p?(V=_t(l,y),V!=null&&x.unshift(ul(l,V,O))):p||(V=_t(l,y),V!=null&&x.push(ul(l,V,O)))),l=l.return}x.length!==0&&s.push({event:o,listeners:x})}var DE=/\r\n?/g,LE=/\u0000|\uFFFD/g;function Rg(s){return(typeof s=="string"?s:""+s).replace(DE,`
`).replace(LE,"")}function Ku(s,o,l){if(o=Rg(o),Rg(s)!==o&&l)throw Error(t(425))}function Gu(){}var _h=null,bh=null;function Eh(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var xh=typeof setTimeout=="function"?setTimeout:void 0,VE=typeof clearTimeout=="function"?clearTimeout:void 0,Pg=typeof Promise=="function"?Promise:void 0,ME=typeof queueMicrotask=="function"?queueMicrotask:typeof Pg<"u"?function(s){return Pg.resolve(null).then(s).catch($E)}:xh;function $E(s){setTimeout(function(){throw s})}function Th(s,o){var l=o,d=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){s.removeChild(p),un(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);un(o)}function As(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Ng(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Rn="__reactFiber$"+jo,cl="__reactProps$"+jo,es="__reactContainer$"+jo,kh="__reactEvents$"+jo,UE="__reactListeners$"+jo,FE="__reactHandles$"+jo;function Ei(s){var o=s[Rn];if(o)return o;for(var l=s.parentNode;l;){if(o=l[es]||l[Rn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=Ng(s);s!==null;){if(l=s[Rn])return l;s=Ng(s)}return o}s=l,l=s.parentNode}return null}function dl(s){return s=s[Rn]||s[es],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Do(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Qu(s){return s[cl]||null}var Sh=[],Lo=-1;function Is(s){return{current:s}}function ut(s){0>Lo||(s.current=Sh[Lo],Sh[Lo]=null,Lo--)}function st(s,o){Lo++,Sh[Lo]=s.current,s.current=o}var Cs={},sr=Is(Cs),_r=Is(!1),xi=Cs;function Vo(s,o){var l=s.type.contextTypes;if(!l)return Cs;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=o[y];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=p),p}function br(s){return s=s.childContextTypes,s!=null}function Ju(){ut(_r),ut(sr)}function Og(s,o,l){if(sr.current!==Cs)throw Error(t(168));st(sr,o),st(_r,l)}function jg(s,o,l){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(t(108,Ne(s)||"Unknown",p));return oe({},l,d)}function Yu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Cs,xi=sr.current,st(sr,s),st(_r,_r.current),!0}function Dg(s,o,l){var d=s.stateNode;if(!d)throw Error(t(169));l?(s=jg(s,o,xi),d.__reactInternalMemoizedMergedChildContext=s,ut(_r),ut(sr),st(sr,s)):ut(_r),st(_r,l)}var ts=null,Xu=!1,Ah=!1;function Lg(s){ts===null?ts=[s]:ts.push(s)}function BE(s){Xu=!0,Lg(s)}function Rs(){if(!Ah&&ts!==null){Ah=!0;var s=0,o=ze;try{var l=ts;for(ze=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}ts=null,Xu=!1}catch(p){throw ts!==null&&(ts=ts.slice(s+1)),go(pi,Rs),p}finally{ze=o,Ah=!1}}return null}var Mo=[],$o=0,Zu=null,ec=0,Hr=[],Kr=0,Ti=null,rs=1,ns="";function ki(s,o){Mo[$o++]=ec,Mo[$o++]=Zu,Zu=s,ec=o}function Vg(s,o,l){Hr[Kr++]=rs,Hr[Kr++]=ns,Hr[Kr++]=Ti,Ti=s;var d=rs;s=ns;var p=32-dr(d)-1;d&=~(1<<p),l+=1;var y=32-dr(o)+p;if(30<y){var x=p-p%5;y=(d&(1<<x)-1).toString(32),d>>=x,p-=x,rs=1<<32-dr(o)+p|l<<p|d,ns=y+s}else rs=1<<y|l<<p|d,ns=s}function Ih(s){s.return!==null&&(ki(s,1),Vg(s,1,0))}function Ch(s){for(;s===Zu;)Zu=Mo[--$o],Mo[$o]=null,ec=Mo[--$o],Mo[$o]=null;for(;s===Ti;)Ti=Hr[--Kr],Hr[Kr]=null,ns=Hr[--Kr],Hr[Kr]=null,rs=Hr[--Kr],Hr[Kr]=null}var Or=null,jr=null,ht=!1,hn=null;function Mg(s,o){var l=Yr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function $g(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Or=s,jr=As(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Or=s,jr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ti!==null?{id:rs,overflow:ns}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Yr(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,Or=s,jr=null,!0):!1;default:return!1}}function Rh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ph(s){if(ht){var o=jr;if(o){var l=o;if(!$g(s,o)){if(Rh(s))throw Error(t(418));o=As(l.nextSibling);var d=Or;o&&$g(s,o)?Mg(d,l):(s.flags=s.flags&-4097|2,ht=!1,Or=s)}}else{if(Rh(s))throw Error(t(418));s.flags=s.flags&-4097|2,ht=!1,Or=s}}}function Ug(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Or=s}function tc(s){if(s!==Or)return!1;if(!ht)return Ug(s),ht=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Eh(s.type,s.memoizedProps)),o&&(o=jr)){if(Rh(s))throw Fg(),Error(t(418));for(;o;)Mg(s,o),o=As(o.nextSibling)}if(Ug(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){jr=As(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}jr=null}}else jr=Or?As(s.stateNode.nextSibling):null;return!0}function Fg(){for(var s=jr;s;)s=As(s.nextSibling)}function Uo(){jr=Or=null,ht=!1}function Nh(s){hn===null?hn=[s]:hn.push(s)}var zE=ee.ReactCurrentBatchConfig;function hl(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,s));var p=d,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(x){var O=p.refs;x===null?delete O[y]:O[y]=x},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function rc(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Bg(s){var o=s._init;return o(s._payload)}function zg(s){function o(F,M){if(s){var q=F.deletions;q===null?(F.deletions=[M],F.flags|=16):q.push(M)}}function l(F,M){if(!s)return null;for(;M!==null;)o(F,M),M=M.sibling;return null}function d(F,M){for(F=new Map;M!==null;)M.key!==null?F.set(M.key,M):F.set(M.index,M),M=M.sibling;return F}function p(F,M){return F=Ms(F,M),F.index=0,F.sibling=null,F}function y(F,M,q){return F.index=q,s?(q=F.alternate,q!==null?(q=q.index,q<M?(F.flags|=2,M):q):(F.flags|=2,M)):(F.flags|=1048576,M)}function x(F){return s&&F.alternate===null&&(F.flags|=2),F}function O(F,M,q,ue){return M===null||M.tag!==6?(M=Tf(q,F.mode,ue),M.return=F,M):(M=p(M,q),M.return=F,M)}function V(F,M,q,ue){var be=q.type;return be===L?se(F,M,q.props.children,ue,q.key):M!==null&&(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Z&&Bg(be)===M.type)?(ue=p(M,q.props),ue.ref=hl(F,M,q),ue.return=F,ue):(ue=Sc(q.type,q.key,q.props,null,F.mode,ue),ue.ref=hl(F,M,q),ue.return=F,ue)}function W(F,M,q,ue){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=kf(q,F.mode,ue),M.return=F,M):(M=p(M,q.children||[]),M.return=F,M)}function se(F,M,q,ue,be){return M===null||M.tag!==7?(M=Oi(q,F.mode,ue,be),M.return=F,M):(M=p(M,q),M.return=F,M)}function ae(F,M,q){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Tf(""+M,F.mode,q),M.return=F,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ge:return q=Sc(M.type,M.key,M.props,null,F.mode,q),q.ref=hl(F,null,M),q.return=F,q;case ce:return M=kf(M,F.mode,q),M.return=F,M;case Z:var ue=M._init;return ae(F,ue(M._payload),q)}if(Wn(M)||le(M))return M=Oi(M,F.mode,q,null),M.return=F,M;rc(F,M)}return null}function ne(F,M,q,ue){var be=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return be!==null?null:O(F,M,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ge:return q.key===be?V(F,M,q,ue):null;case ce:return q.key===be?W(F,M,q,ue):null;case Z:return be=q._init,ne(F,M,be(q._payload),ue)}if(Wn(q)||le(q))return be!==null?null:se(F,M,q,ue,null);rc(F,q)}return null}function me(F,M,q,ue,be){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return F=F.get(q)||null,O(M,F,""+ue,be);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case ge:return F=F.get(ue.key===null?q:ue.key)||null,V(M,F,ue,be);case ce:return F=F.get(ue.key===null?q:ue.key)||null,W(M,F,ue,be);case Z:var ke=ue._init;return me(F,M,q,ke(ue._payload),be)}if(Wn(ue)||le(ue))return F=F.get(q)||null,se(M,F,ue,be,null);rc(M,ue)}return null}function we(F,M,q,ue){for(var be=null,ke=null,Se=M,je=M=0,Wt=null;Se!==null&&je<q.length;je++){Se.index>je?(Wt=Se,Se=null):Wt=Se.sibling;var Qe=ne(F,Se,q[je],ue);if(Qe===null){Se===null&&(Se=Wt);break}s&&Se&&Qe.alternate===null&&o(F,Se),M=y(Qe,M,je),ke===null?be=Qe:ke.sibling=Qe,ke=Qe,Se=Wt}if(je===q.length)return l(F,Se),ht&&ki(F,je),be;if(Se===null){for(;je<q.length;je++)Se=ae(F,q[je],ue),Se!==null&&(M=y(Se,M,je),ke===null?be=Se:ke.sibling=Se,ke=Se);return ht&&ki(F,je),be}for(Se=d(F,Se);je<q.length;je++)Wt=me(Se,F,je,q[je],ue),Wt!==null&&(s&&Wt.alternate!==null&&Se.delete(Wt.key===null?je:Wt.key),M=y(Wt,M,je),ke===null?be=Wt:ke.sibling=Wt,ke=Wt);return s&&Se.forEach(function($s){return o(F,$s)}),ht&&ki(F,je),be}function _e(F,M,q,ue){var be=le(q);if(typeof be!="function")throw Error(t(150));if(q=be.call(q),q==null)throw Error(t(151));for(var ke=be=null,Se=M,je=M=0,Wt=null,Qe=q.next();Se!==null&&!Qe.done;je++,Qe=q.next()){Se.index>je?(Wt=Se,Se=null):Wt=Se.sibling;var $s=ne(F,Se,Qe.value,ue);if($s===null){Se===null&&(Se=Wt);break}s&&Se&&$s.alternate===null&&o(F,Se),M=y($s,M,je),ke===null?be=$s:ke.sibling=$s,ke=$s,Se=Wt}if(Qe.done)return l(F,Se),ht&&ki(F,je),be;if(Se===null){for(;!Qe.done;je++,Qe=q.next())Qe=ae(F,Qe.value,ue),Qe!==null&&(M=y(Qe,M,je),ke===null?be=Qe:ke.sibling=Qe,ke=Qe);return ht&&ki(F,je),be}for(Se=d(F,Se);!Qe.done;je++,Qe=q.next())Qe=me(Se,F,je,Qe.value,ue),Qe!==null&&(s&&Qe.alternate!==null&&Se.delete(Qe.key===null?je:Qe.key),M=y(Qe,M,je),ke===null?be=Qe:ke.sibling=Qe,ke=Qe);return s&&Se.forEach(function(E2){return o(F,E2)}),ht&&ki(F,je),be}function bt(F,M,q,ue){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ge:e:{for(var be=q.key,ke=M;ke!==null;){if(ke.key===be){if(be=q.type,be===L){if(ke.tag===7){l(F,ke.sibling),M=p(ke,q.props.children),M.return=F,F=M;break e}}else if(ke.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Z&&Bg(be)===ke.type){l(F,ke.sibling),M=p(ke,q.props),M.ref=hl(F,ke,q),M.return=F,F=M;break e}l(F,ke);break}else o(F,ke);ke=ke.sibling}q.type===L?(M=Oi(q.props.children,F.mode,ue,q.key),M.return=F,F=M):(ue=Sc(q.type,q.key,q.props,null,F.mode,ue),ue.ref=hl(F,M,q),ue.return=F,F=ue)}return x(F);case ce:e:{for(ke=q.key;M!==null;){if(M.key===ke)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){l(F,M.sibling),M=p(M,q.children||[]),M.return=F,F=M;break e}else{l(F,M);break}else o(F,M);M=M.sibling}M=kf(q,F.mode,ue),M.return=F,F=M}return x(F);case Z:return ke=q._init,bt(F,M,ke(q._payload),ue)}if(Wn(q))return we(F,M,q,ue);if(le(q))return _e(F,M,q,ue);rc(F,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,M!==null&&M.tag===6?(l(F,M.sibling),M=p(M,q),M.return=F,F=M):(l(F,M),M=Tf(q,F.mode,ue),M.return=F,F=M),x(F)):l(F,M)}return bt}var Fo=zg(!0),qg=zg(!1),nc=Is(null),sc=null,Bo=null,Oh=null;function jh(){Oh=Bo=sc=null}function Dh(s){var o=nc.current;ut(nc),s._currentValue=o}function Lh(s,o,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===l)break;s=s.return}}function zo(s,o){sc=s,Oh=Bo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Er=!0),s.firstContext=null)}function Gr(s){var o=s._currentValue;if(Oh!==s)if(s={context:s,memoizedValue:o,next:null},Bo===null){if(sc===null)throw Error(t(308));Bo=s,sc.dependencies={lanes:0,firstContext:s}}else Bo=Bo.next=s;return o}var Si=null;function Vh(s){Si===null?Si=[s]:Si.push(s)}function Wg(s,o,l,d){var p=o.interleaved;return p===null?(l.next=l,Vh(o)):(l.next=p.next,p.next=l),o.interleaved=l,ss(s,d)}function ss(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Ps=!1;function Mh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hg(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function is(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ns(s,o,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ke&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,ss(s,l)}return p=d.interleaved,p===null?(o.next=o,Vh(d)):(o.next=p.next,p.next=o),d.interleaved=o,ss(s,l)}function ic(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,bs(s,l)}}function Kg(s,o){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?p=y=o:y=y.next=o}else p=y=o;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function oc(s,o,l,d){var p=s.updateQueue;Ps=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var V=O,W=V.next;V.next=null,x===null?y=W:x.next=W,x=V;var se=s.alternate;se!==null&&(se=se.updateQueue,O=se.lastBaseUpdate,O!==x&&(O===null?se.firstBaseUpdate=W:O.next=W,se.lastBaseUpdate=V))}if(y!==null){var ae=p.baseState;x=0,se=W=V=null,O=y;do{var ne=O.lane,me=O.eventTime;if((d&ne)===ne){se!==null&&(se=se.next={eventTime:me,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var we=s,_e=O;switch(ne=o,me=l,_e.tag){case 1:if(we=_e.payload,typeof we=="function"){ae=we.call(me,ae,ne);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,ne=typeof we=="function"?we.call(me,ae,ne):we,ne==null)break e;ae=oe({},ae,ne);break e;case 2:Ps=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,ne=p.effects,ne===null?p.effects=[O]:ne.push(O))}else me={eventTime:me,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},se===null?(W=se=me,V=ae):se=se.next=me,x|=ne;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);if(se===null&&(V=ae),p.baseState=V,p.firstBaseUpdate=W,p.lastBaseUpdate=se,o=p.shared.interleaved,o!==null){p=o;do x|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);Ci|=x,s.lanes=x,s.memoizedState=ae}}function Gg(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var fl={},Pn=Is(fl),pl=Is(fl),ml=Is(fl);function Ai(s){if(s===fl)throw Error(t(174));return s}function $h(s,o){switch(st(ml,o),st(pl,s),st(Pn,fl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:jt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=jt(o,s)}ut(Pn),st(Pn,o)}function qo(){ut(Pn),ut(pl),ut(ml)}function Qg(s){Ai(ml.current);var o=Ai(Pn.current),l=jt(o,s.type);o!==l&&(st(pl,s),st(Pn,l))}function Uh(s){pl.current===s&&(ut(Pn),ut(pl))}var ft=Is(0);function ac(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Fh=[];function Bh(){for(var s=0;s<Fh.length;s++)Fh[s]._workInProgressVersionPrimary=null;Fh.length=0}var lc=ee.ReactCurrentDispatcher,zh=ee.ReactCurrentBatchConfig,Ii=0,pt=null,Lt=null,zt=null,uc=!1,gl=!1,yl=0,qE=0;function ir(){throw Error(t(321))}function qh(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!dn(s[l],o[l]))return!1;return!0}function Wh(s,o,l,d,p,y){if(Ii=y,pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,lc.current=s===null||s.memoizedState===null?GE:QE,s=l(d,p),gl){y=0;do{if(gl=!1,yl=0,25<=y)throw Error(t(301));y+=1,zt=Lt=null,o.updateQueue=null,lc.current=JE,s=l(d,p)}while(gl)}if(lc.current=hc,o=Lt!==null&&Lt.next!==null,Ii=0,zt=Lt=pt=null,uc=!1,o)throw Error(t(300));return s}function Hh(){var s=yl!==0;return yl=0,s}function Nn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?pt.memoizedState=zt=s:zt=zt.next=s,zt}function Qr(){if(Lt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Lt.next;var o=zt===null?pt.memoizedState:zt.next;if(o!==null)zt=o,Lt=s;else{if(s===null)throw Error(t(310));Lt=s,s={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},zt===null?pt.memoizedState=zt=s:zt=zt.next=s}return zt}function vl(s,o){return typeof o=="function"?o(s):o}function Kh(s){var o=Qr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var d=Lt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var O=x=null,V=null,W=y;do{var se=W.lane;if((Ii&se)===se)V!==null&&(V=V.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:s(d,W.action);else{var ae={lane:se,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};V===null?(O=V=ae,x=d):V=V.next=ae,pt.lanes|=se,Ci|=se}W=W.next}while(W!==null&&W!==y);V===null?x=d:V.next=O,dn(d,o.memoizedState)||(Er=!0),o.memoizedState=d,o.baseState=x,o.baseQueue=V,l.lastRenderedState=d}if(s=l.interleaved,s!==null){p=s;do y=p.lane,pt.lanes|=y,Ci|=y,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Gh(s){var o=Qr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var d=l.dispatch,p=l.pending,y=o.memoizedState;if(p!==null){l.pending=null;var x=p=p.next;do y=s(y,x.action),x=x.next;while(x!==p);dn(y,o.memoizedState)||(Er=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,d]}function Jg(){}function Yg(s,o){var l=pt,d=Qr(),p=o(),y=!dn(d.memoizedState,p);if(y&&(d.memoizedState=p,Er=!0),d=d.queue,Qh(ey.bind(null,l,d,s),[s]),d.getSnapshot!==o||y||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,wl(9,Zg.bind(null,l,d,p,o),void 0,null),qt===null)throw Error(t(349));(Ii&30)!==0||Xg(l,o,p)}return p}function Xg(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Zg(s,o,l,d){o.value=l,o.getSnapshot=d,ty(o)&&ry(s)}function ey(s,o,l){return l(function(){ty(o)&&ry(s)})}function ty(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!dn(s,l)}catch{return!0}}function ry(s){var o=ss(s,1);o!==null&&gn(o,s,1,-1)}function ny(s){var o=Nn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:s},o.queue=s,s=s.dispatch=KE.bind(null,pt,s),[o.memoizedState,s]}function wl(s,o,l,d){return s={tag:s,create:o,destroy:l,deps:d,next:null},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,o.lastEffect=s)),s}function sy(){return Qr().memoizedState}function cc(s,o,l,d){var p=Nn();pt.flags|=s,p.memoizedState=wl(1|o,l,void 0,d===void 0?null:d)}function dc(s,o,l,d){var p=Qr();d=d===void 0?null:d;var y=void 0;if(Lt!==null){var x=Lt.memoizedState;if(y=x.destroy,d!==null&&qh(d,x.deps)){p.memoizedState=wl(o,l,y,d);return}}pt.flags|=s,p.memoizedState=wl(1|o,l,y,d)}function iy(s,o){return cc(8390656,8,s,o)}function Qh(s,o){return dc(2048,8,s,o)}function oy(s,o){return dc(4,2,s,o)}function ay(s,o){return dc(4,4,s,o)}function ly(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function uy(s,o,l){return l=l!=null?l.concat([s]):null,dc(4,4,ly.bind(null,o,s),l)}function Jh(){}function cy(s,o){var l=Qr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&qh(o,d[1])?d[0]:(l.memoizedState=[s,o],s)}function dy(s,o){var l=Qr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&qh(o,d[1])?d[0]:(s=s(),l.memoizedState=[s,o],s)}function hy(s,o,l){return(Ii&21)===0?(s.baseState&&(s.baseState=!1,Er=!0),s.memoizedState=l):(dn(l,o)||(l=yi(),pt.lanes|=l,Ci|=l,s.baseState=!0),o)}function WE(s,o){var l=ze;ze=l!==0&&4>l?l:4,s(!0);var d=zh.transition;zh.transition={};try{s(!1),o()}finally{ze=l,zh.transition=d}}function fy(){return Qr().memoizedState}function HE(s,o,l){var d=Ls(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},py(s))my(o,l);else if(l=Wg(s,o,l,d),l!==null){var p=pr();gn(l,s,d,p),gy(l,o,d)}}function KE(s,o,l){var d=Ls(s),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(py(s))my(o,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var x=o.lastRenderedState,O=y(x,l);if(p.hasEagerState=!0,p.eagerState=O,dn(O,x)){var V=o.interleaved;V===null?(p.next=p,Vh(o)):(p.next=V.next,V.next=p),o.interleaved=p;return}}catch{}finally{}l=Wg(s,o,p,d),l!==null&&(p=pr(),gn(l,s,d,p),gy(l,o,d))}}function py(s){var o=s.alternate;return s===pt||o!==null&&o===pt}function my(s,o){gl=uc=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function gy(s,o,l){if((l&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,bs(s,l)}}var hc={readContext:Gr,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},GE={readContext:Gr,useCallback:function(s,o){return Nn().memoizedState=[s,o===void 0?null:o],s},useContext:Gr,useEffect:iy,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,cc(4194308,4,ly.bind(null,o,s),l)},useLayoutEffect:function(s,o){return cc(4194308,4,s,o)},useInsertionEffect:function(s,o){return cc(4,2,s,o)},useMemo:function(s,o){var l=Nn();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var d=Nn();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=HE.bind(null,pt,s),[d.memoizedState,s]},useRef:function(s){var o=Nn();return s={current:s},o.memoizedState=s},useState:ny,useDebugValue:Jh,useDeferredValue:function(s){return Nn().memoizedState=s},useTransition:function(){var s=ny(!1),o=s[0];return s=WE.bind(null,s[1]),Nn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var d=pt,p=Nn();if(ht){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),qt===null)throw Error(t(349));(Ii&30)!==0||Xg(d,o,l)}p.memoizedState=l;var y={value:l,getSnapshot:o};return p.queue=y,iy(ey.bind(null,d,y,s),[s]),d.flags|=2048,wl(9,Zg.bind(null,d,y,l,o),void 0,null),l},useId:function(){var s=Nn(),o=qt.identifierPrefix;if(ht){var l=ns,d=rs;l=(d&~(1<<32-dr(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=yl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=qE++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},QE={readContext:Gr,useCallback:cy,useContext:Gr,useEffect:Qh,useImperativeHandle:uy,useInsertionEffect:oy,useLayoutEffect:ay,useMemo:dy,useReducer:Kh,useRef:sy,useState:function(){return Kh(vl)},useDebugValue:Jh,useDeferredValue:function(s){var o=Qr();return hy(o,Lt.memoizedState,s)},useTransition:function(){var s=Kh(vl)[0],o=Qr().memoizedState;return[s,o]},useMutableSource:Jg,useSyncExternalStore:Yg,useId:fy,unstable_isNewReconciler:!1},JE={readContext:Gr,useCallback:cy,useContext:Gr,useEffect:Qh,useImperativeHandle:uy,useInsertionEffect:oy,useLayoutEffect:ay,useMemo:dy,useReducer:Gh,useRef:sy,useState:function(){return Gh(vl)},useDebugValue:Jh,useDeferredValue:function(s){var o=Qr();return Lt===null?o.memoizedState=s:hy(o,Lt.memoizedState,s)},useTransition:function(){var s=Gh(vl)[0],o=Qr().memoizedState;return[s,o]},useMutableSource:Jg,useSyncExternalStore:Yg,useId:fy,unstable_isNewReconciler:!1};function fn(s,o){if(s&&s.defaultProps){o=oe({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Yh(s,o,l,d){o=s.memoizedState,l=l(d,o),l=l==null?o:oe({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var fc={isMounted:function(s){return(s=s._reactInternals)?nn(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var d=pr(),p=Ls(s),y=is(d,p);y.payload=o,l!=null&&(y.callback=l),o=Ns(s,y,p),o!==null&&(gn(o,s,p,d),ic(o,s,p))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var d=pr(),p=Ls(s),y=is(d,p);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Ns(s,y,p),o!==null&&(gn(o,s,p,d),ic(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=pr(),d=Ls(s),p=is(l,d);p.tag=2,o!=null&&(p.callback=o),o=Ns(s,p,d),o!==null&&(gn(o,s,d,l),ic(o,s,d))}};function yy(s,o,l,d,p,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,x):o.prototype&&o.prototype.isPureReactComponent?!il(l,d)||!il(p,y):!0}function vy(s,o,l){var d=!1,p=Cs,y=o.contextType;return typeof y=="object"&&y!==null?y=Gr(y):(p=br(o)?xi:sr.current,d=o.contextTypes,y=(d=d!=null)?Vo(s,p):Cs),o=new o(l,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=fc,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=y),o}function wy(s,o,l,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==s&&fc.enqueueReplaceState(o,o.state,null)}function Xh(s,o,l,d){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},Mh(s);var y=o.contextType;typeof y=="object"&&y!==null?p.context=Gr(y):(y=br(o)?xi:sr.current,p.context=Vo(s,y)),p.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Yh(s,o,y,l),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&fc.enqueueReplaceState(p,p.state,null),oc(s,l,p,d),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function Wo(s,o){try{var l="",d=o;do l+=Pe(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:p,digest:null}}function Zh(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function ef(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var YE=typeof WeakMap=="function"?WeakMap:Map;function _y(s,o,l){l=is(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){_c||(_c=!0,gf=d),ef(s,o)},l}function by(s,o,l){l=is(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;l.payload=function(){return d(p)},l.callback=function(){ef(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){ef(s,o),typeof d!="function"&&(js===null?js=new Set([this]):js.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})}),l}function Ey(s,o,l){var d=s.pingCache;if(d===null){d=s.pingCache=new YE;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(l)||(p.add(l),s=d2.bind(null,s,o,l),o.then(s,s))}function xy(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Ty(s,o,l,d,p){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=is(-1,1),o.tag=2,Ns(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var XE=ee.ReactCurrentOwner,Er=!1;function fr(s,o,l,d){o.child=s===null?qg(o,null,l,d):Fo(o,s.child,l,d)}function ky(s,o,l,d,p){l=l.render;var y=o.ref;return zo(o,p),d=Wh(s,o,l,d,y,p),l=Hh(),s!==null&&!Er?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,os(s,o,p)):(ht&&l&&Ih(o),o.flags|=1,fr(s,o,d,p),o.child)}function Sy(s,o,l,d,p){if(s===null){var y=l.type;return typeof y=="function"&&!xf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Ay(s,o,y,d,p)):(s=Sc(l.type,null,d,o,o.mode,p),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&p)===0){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:il,l(x,d)&&s.ref===o.ref)return os(s,o,p)}return o.flags|=1,s=Ms(y,d),s.ref=o.ref,s.return=o,o.child=s}function Ay(s,o,l,d,p){if(s!==null){var y=s.memoizedProps;if(il(y,d)&&s.ref===o.ref)if(Er=!1,o.pendingProps=d=y,(s.lanes&p)!==0)(s.flags&131072)!==0&&(Er=!0);else return o.lanes=s.lanes,os(s,o,p)}return tf(s,o,l,d,p)}function Iy(s,o,l){var d=o.pendingProps,p=d.children,y=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ko,Dr),Dr|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,st(Ko,Dr),Dr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,st(Ko,Dr),Dr|=d}else y!==null?(d=y.baseLanes|l,o.memoizedState=null):d=l,st(Ko,Dr),Dr|=d;return fr(s,o,p,l),o.child}function Cy(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function tf(s,o,l,d,p){var y=br(l)?xi:sr.current;return y=Vo(o,y),zo(o,p),l=Wh(s,o,l,d,y,p),d=Hh(),s!==null&&!Er?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,os(s,o,p)):(ht&&d&&Ih(o),o.flags|=1,fr(s,o,l,p),o.child)}function Ry(s,o,l,d,p){if(br(l)){var y=!0;Yu(o)}else y=!1;if(zo(o,p),o.stateNode===null)mc(s,o),vy(o,l,d),Xh(o,l,d,p),d=!0;else if(s===null){var x=o.stateNode,O=o.memoizedProps;x.props=O;var V=x.context,W=l.contextType;typeof W=="object"&&W!==null?W=Gr(W):(W=br(l)?xi:sr.current,W=Vo(o,W));var se=l.getDerivedStateFromProps,ae=typeof se=="function"||typeof x.getSnapshotBeforeUpdate=="function";ae||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==d||V!==W)&&wy(o,x,d,W),Ps=!1;var ne=o.memoizedState;x.state=ne,oc(o,d,x,p),V=o.memoizedState,O!==d||ne!==V||_r.current||Ps?(typeof se=="function"&&(Yh(o,l,se,d),V=o.memoizedState),(O=Ps||yy(o,l,O,d,ne,V,W))?(ae||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=V),x.props=d,x.state=V,x.context=W,d=O):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,Hg(s,o),O=o.memoizedProps,W=o.type===o.elementType?O:fn(o.type,O),x.props=W,ae=o.pendingProps,ne=x.context,V=l.contextType,typeof V=="object"&&V!==null?V=Gr(V):(V=br(l)?xi:sr.current,V=Vo(o,V));var me=l.getDerivedStateFromProps;(se=typeof me=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==ae||ne!==V)&&wy(o,x,d,V),Ps=!1,ne=o.memoizedState,x.state=ne,oc(o,d,x,p);var we=o.memoizedState;O!==ae||ne!==we||_r.current||Ps?(typeof me=="function"&&(Yh(o,l,me,d),we=o.memoizedState),(W=Ps||yy(o,l,W,d,ne,we,V)||!1)?(se||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,we,V),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,we,V)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=we),x.props=d,x.state=we,x.context=V,d=W):(typeof x.componentDidUpdate!="function"||O===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),d=!1)}return rf(s,o,l,d,y,p)}function rf(s,o,l,d,p,y){Cy(s,o);var x=(o.flags&128)!==0;if(!d&&!x)return p&&Dg(o,l,!1),os(s,o,y);d=o.stateNode,XE.current=o;var O=x&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&x?(o.child=Fo(o,s.child,null,y),o.child=Fo(o,null,O,y)):fr(s,o,O,y),o.memoizedState=d.state,p&&Dg(o,l,!0),o.child}function Py(s){var o=s.stateNode;o.pendingContext?Og(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Og(s,o.context,!1),$h(s,o.containerInfo)}function Ny(s,o,l,d,p){return Uo(),Nh(p),o.flags|=256,fr(s,o,l,d),o.child}var nf={dehydrated:null,treeContext:null,retryLane:0};function sf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Oy(s,o,l){var d=o.pendingProps,p=ft.current,y=!1,x=(o.flags&128)!==0,O;if((O=x)||(O=s!==null&&s.memoizedState===null?!1:(p&2)!==0),O?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),st(ft,p&1),s===null)return Ph(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(x=d.children,s=d.fallback,y?(d=o.mode,y=o.child,x={mode:"hidden",children:x},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=Ac(x,d,0,null),s=Oi(s,d,l,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=sf(l),o.memoizedState=nf,s):of(o,x));if(p=s.memoizedState,p!==null&&(O=p.dehydrated,O!==null))return ZE(s,o,x,d,O,p,l);if(y){y=d.fallback,x=o.mode,p=s.child,O=p.sibling;var V={mode:"hidden",children:d.children};return(x&1)===0&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=V,o.deletions=null):(d=Ms(p,V),d.subtreeFlags=p.subtreeFlags&14680064),O!==null?y=Ms(O,y):(y=Oi(y,x,l,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,x=s.child.memoizedState,x=x===null?sf(l):{baseLanes:x.baseLanes|l,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=s.childLanes&~l,o.memoizedState=nf,d}return y=s.child,s=y.sibling,d=Ms(y,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=d,o.memoizedState=null,d}function of(s,o){return o=Ac({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function pc(s,o,l,d){return d!==null&&Nh(d),Fo(o,s.child,null,l),s=of(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function ZE(s,o,l,d,p,y,x){if(l)return o.flags&256?(o.flags&=-257,d=Zh(Error(t(422))),pc(s,o,x,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=d.fallback,p=o.mode,d=Ac({mode:"visible",children:d.children},p,0,null),y=Oi(y,p,x,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,(o.mode&1)!==0&&Fo(o,s.child,null,x),o.child.memoizedState=sf(x),o.memoizedState=nf,y);if((o.mode&1)===0)return pc(s,o,x,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var O=d.dgst;return d=O,y=Error(t(419)),d=Zh(y,d,void 0),pc(s,o,x,d)}if(O=(x&s.childLanes)!==0,Er||O){if(d=qt,d!==null){switch(x&-x){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|x))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ss(s,p),gn(d,s,p,-1))}return Ef(),d=Zh(Error(t(421))),pc(s,o,x,d)}return p.data==="$?"?(o.flags|=128,o.child=s.child,o=h2.bind(null,s),p._reactRetry=o,null):(s=y.treeContext,jr=As(p.nextSibling),Or=o,ht=!0,hn=null,s!==null&&(Hr[Kr++]=rs,Hr[Kr++]=ns,Hr[Kr++]=Ti,rs=s.id,ns=s.overflow,Ti=o),o=of(o,d.children),o.flags|=4096,o)}function jy(s,o,l){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Lh(s.return,o,l)}function af(s,o,l,d,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function Dy(s,o,l){var d=o.pendingProps,p=d.revealOrder,y=d.tail;if(fr(s,o,d.children,l),d=ft.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&jy(s,l,o);else if(s.tag===19)jy(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(st(ft,d),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)s=l.alternate,s!==null&&ac(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),af(o,!1,p,l,y);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(s=p.alternate,s!==null&&ac(s)===null){o.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}af(o,!0,l,null,y);break;case"together":af(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function mc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function os(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Ci|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=Ms(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Ms(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function e2(s,o,l){switch(o.tag){case 3:Py(o),Uo();break;case 5:Qg(o);break;case 1:br(o.type)&&Yu(o);break;case 4:$h(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;st(nc,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(st(ft,ft.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Oy(s,o,l):(st(ft,ft.current&1),s=os(s,o,l),s!==null?s.sibling:null);st(ft,ft.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(s.flags&128)!==0){if(d)return Dy(s,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),st(ft,ft.current),d)break;return null;case 22:case 23:return o.lanes=0,Iy(s,o,l)}return os(s,o,l)}var Ly,lf,Vy,My;Ly=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},lf=function(){},Vy=function(s,o,l,d){var p=s.memoizedProps;if(p!==d){s=o.stateNode,Ai(Pn.current);var y=null;switch(l){case"input":p=Fe(s,p),d=Fe(s,d),y=[];break;case"select":p=oe({},p,{value:void 0}),d=oe({},d,{value:void 0}),y=[];break;case"textarea":p=ja(s,p),d=ja(s,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Gu)}Ua(l,d);var x;l=null;for(W in p)if(!d.hasOwnProperty(W)&&p.hasOwnProperty(W)&&p[W]!=null)if(W==="style"){var O=p[W];for(x in O)O.hasOwnProperty(x)&&(l||(l={}),l[x]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in d){var V=d[W];if(O=p?.[W],d.hasOwnProperty(W)&&V!==O&&(V!=null||O!=null))if(W==="style")if(O){for(x in O)!O.hasOwnProperty(x)||V&&V.hasOwnProperty(x)||(l||(l={}),l[x]="");for(x in V)V.hasOwnProperty(x)&&O[x]!==V[x]&&(l||(l={}),l[x]=V[x])}else l||(y||(y=[]),y.push(W,l)),l=V;else W==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,O=O?O.__html:void 0,V!=null&&O!==V&&(y=y||[]).push(W,V)):W==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(W,""+V):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(i.hasOwnProperty(W)?(V!=null&&W==="onScroll"&&lt("scroll",s),y||O===V||(y=[])):(y=y||[]).push(W,V))}l&&(y=y||[]).push("style",l);var W=y;(o.updateQueue=W)&&(o.flags|=4)}},My=function(s,o,l,d){l!==d&&(o.flags|=4)};function _l(s,o){if(!ht)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function or(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(o)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=l,o}function t2(s,o,l){var d=o.pendingProps;switch(Ch(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(o),null;case 1:return br(o.type)&&Ju(),or(o),null;case 3:return d=o.stateNode,qo(),ut(_r),ut(sr),Bh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(tc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hn!==null&&(wf(hn),hn=null))),lf(s,o),or(o),null;case 5:Uh(o);var p=Ai(ml.current);if(l=o.type,s!==null&&o.stateNode!=null)Vy(s,o,l,d,p),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return or(o),null}if(s=Ai(Pn.current),tc(o)){d=o.stateNode,l=o.type;var y=o.memoizedProps;switch(d[Rn]=o,d[cl]=y,s=(o.mode&1)!==0,l){case"dialog":lt("cancel",d),lt("close",d);break;case"iframe":case"object":case"embed":lt("load",d);break;case"video":case"audio":for(p=0;p<al.length;p++)lt(al[p],d);break;case"source":lt("error",d);break;case"img":case"image":case"link":lt("error",d),lt("load",d);break;case"details":lt("toggle",d);break;case"input":wt(d,y),lt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},lt("invalid",d);break;case"textarea":oo(d,y),lt("invalid",d)}Ua(l,y),p=null;for(var x in y)if(y.hasOwnProperty(x)){var O=y[x];x==="children"?typeof O=="string"?d.textContent!==O&&(y.suppressHydrationWarning!==!0&&Ku(d.textContent,O,s),p=["children",O]):typeof O=="number"&&d.textContent!==""+O&&(y.suppressHydrationWarning!==!0&&Ku(d.textContent,O,s),p=["children",""+O]):i.hasOwnProperty(x)&&O!=null&&x==="onScroll"&&lt("scroll",d)}switch(l){case"input":Ft(d),wu(d,y,!0);break;case"textarea":Ft(d),Da(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Gu)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ot(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=x.createElement(l,{is:d.is}):(s=x.createElement(l),l==="select"&&(x=s,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):s=x.createElementNS(s,l),s[Rn]=o,s[cl]=d,Ly(s,o,!1,!1),o.stateNode=s;e:{switch(x=Fa(l,d),l){case"dialog":lt("cancel",s),lt("close",s),p=d;break;case"iframe":case"object":case"embed":lt("load",s),p=d;break;case"video":case"audio":for(p=0;p<al.length;p++)lt(al[p],s);p=d;break;case"source":lt("error",s),p=d;break;case"img":case"image":case"link":lt("error",s),lt("load",s),p=d;break;case"details":lt("toggle",s),p=d;break;case"input":wt(s,d),p=Fe(s,d),lt("invalid",s);break;case"option":p=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},p=oe({},d,{value:void 0}),lt("invalid",s);break;case"textarea":oo(s,d),p=ja(s,d),lt("invalid",s);break;default:p=d}Ua(l,p),O=p;for(y in O)if(O.hasOwnProperty(y)){var V=O[y];y==="style"?Ma(s,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&La(s,V)):y==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&gs(s,V):typeof V=="number"&&gs(s,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?V!=null&&y==="onScroll"&&lt("scroll",s):V!=null&&z(s,y,V,x))}switch(l){case"input":Ft(s),wu(s,d,!1);break;case"textarea":Ft(s),Da(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Ie(d.value));break;case"select":s.multiple=!!d.multiple,y=d.value,y!=null?Hn(s,!!d.multiple,y,!1):d.defaultValue!=null&&Hn(s,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Gu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return or(o),null;case 6:if(s&&o.stateNode!=null)My(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=Ai(ml.current),Ai(Pn.current),tc(o)){if(d=o.stateNode,l=o.memoizedProps,d[Rn]=o,(y=d.nodeValue!==l)&&(s=Or,s!==null))switch(s.tag){case 3:Ku(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ku(d.nodeValue,l,(s.mode&1)!==0)}y&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Rn]=o,o.stateNode=d}return or(o),null;case 13:if(ut(ft),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ht&&jr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Fg(),Uo(),o.flags|=98560,y=!1;else if(y=tc(o),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Rn]=o}else Uo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;or(o),y=!1}else hn!==null&&(wf(hn),hn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ft.current&1)!==0?Vt===0&&(Vt=3):Ef())),o.updateQueue!==null&&(o.flags|=4),or(o),null);case 4:return qo(),lf(s,o),s===null&&ll(o.stateNode.containerInfo),or(o),null;case 10:return Dh(o.type._context),or(o),null;case 17:return br(o.type)&&Ju(),or(o),null;case 19:if(ut(ft),y=o.memoizedState,y===null)return or(o),null;if(d=(o.flags&128)!==0,x=y.rendering,x===null)if(d)_l(y,!1);else{if(Vt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=ac(s),x!==null){for(o.flags|=128,_l(y,!1),d=x.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)y=l,s=d,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,s=x.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return st(ft,ft.current&1|2),o.child}s=s.sibling}y.tail!==null&&nt()>Go&&(o.flags|=128,d=!0,_l(y,!1),o.lanes=4194304)}else{if(!d)if(s=ac(x),s!==null){if(o.flags|=128,d=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),_l(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!ht)return or(o),null}else 2*nt()-y.renderingStartTime>Go&&l!==1073741824&&(o.flags|=128,d=!0,_l(y,!1),o.lanes=4194304);y.isBackwards?(x.sibling=o.child,o.child=x):(l=y.last,l!==null?l.sibling=x:o.child=x,y.last=x)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=nt(),o.sibling=null,l=ft.current,st(ft,d?l&1|2:l&1),o):(or(o),null);case 22:case 23:return bf(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(Dr&1073741824)!==0&&(or(o),o.subtreeFlags&6&&(o.flags|=8192)):or(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function r2(s,o){switch(Ch(o),o.tag){case 1:return br(o.type)&&Ju(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return qo(),ut(_r),ut(sr),Bh(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Uh(o),null;case 13:if(ut(ft),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Uo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ut(ft),null;case 4:return qo(),null;case 10:return Dh(o.type._context),null;case 22:case 23:return bf(),null;case 24:return null;default:return null}}var gc=!1,ar=!1,n2=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ho(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){yt(s,o,d)}else l.current=null}function uf(s,o,l){try{l()}catch(d){yt(s,o,d)}}var $y=!1;function s2(s,o){if(_h=Ts,s=yg(),hh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var x=0,O=-1,V=-1,W=0,se=0,ae=s,ne=null;t:for(;;){for(var me;ae!==l||p!==0&&ae.nodeType!==3||(O=x+p),ae!==y||d!==0&&ae.nodeType!==3||(V=x+d),ae.nodeType===3&&(x+=ae.nodeValue.length),(me=ae.firstChild)!==null;)ne=ae,ae=me;for(;;){if(ae===s)break t;if(ne===l&&++W===p&&(O=x),ne===y&&++se===d&&(V=x),(me=ae.nextSibling)!==null)break;ae=ne,ne=ae.parentNode}ae=me}l=O===-1||V===-1?null:{start:O,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(bh={focusedElem:s,selectionRange:l},Ts=!1,ve=o;ve!==null;)if(o=ve,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ve=s;else for(;ve!==null;){o=ve;try{var we=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var _e=we.memoizedProps,bt=we.memoizedState,F=o.stateNode,M=F.getSnapshotBeforeUpdate(o.elementType===o.type?_e:fn(o.type,_e),bt);F.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){yt(o,o.return,ue)}if(s=o.sibling,s!==null){s.return=o.return,ve=s;break}ve=o.return}return we=$y,$y=!1,we}function bl(s,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&s)===s){var y=p.destroy;p.destroy=void 0,y!==void 0&&uf(o,l,y)}p=p.next}while(p!==d)}}function yc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function cf(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function Uy(s){var o=s.alternate;o!==null&&(s.alternate=null,Uy(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Rn],delete o[cl],delete o[kh],delete o[UE],delete o[FE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Fy(s){return s.tag===5||s.tag===3||s.tag===4}function By(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Fy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function df(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Gu));else if(d!==4&&(s=s.child,s!==null))for(df(s,o,l),s=s.sibling;s!==null;)df(s,o,l),s=s.sibling}function hf(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(hf(s,o,l),s=s.sibling;s!==null;)hf(s,o,l),s=s.sibling}var Jt=null,pn=!1;function Os(s,o,l){for(l=l.child;l!==null;)zy(s,o,l),l=l.sibling}function zy(s,o,l){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(mi,l)}catch{}switch(l.tag){case 5:ar||Ho(l,o);case 6:var d=Jt,p=pn;Jt=null,Os(s,o,l),Jt=d,pn=p,Jt!==null&&(pn?(s=Jt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Jt.removeChild(l.stateNode));break;case 18:Jt!==null&&(pn?(s=Jt,l=l.stateNode,s.nodeType===8?Th(s.parentNode,l):s.nodeType===1&&Th(s,l),un(s)):Th(Jt,l.stateNode));break;case 4:d=Jt,p=pn,Jt=l.stateNode.containerInfo,pn=!0,Os(s,o,l),Jt=d,pn=p;break;case 0:case 11:case 14:case 15:if(!ar&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&uf(l,o,x),p=p.next}while(p!==d)}Os(s,o,l);break;case 1:if(!ar&&(Ho(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(O){yt(l,o,O)}Os(s,o,l);break;case 21:Os(s,o,l);break;case 22:l.mode&1?(ar=(d=ar)||l.memoizedState!==null,Os(s,o,l),ar=d):Os(s,o,l);break;default:Os(s,o,l)}}function qy(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new n2),o.forEach(function(d){var p=f2.bind(null,s,d);l.has(d)||(l.add(d),d.then(p,p))})}}function mn(s,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=s,x=o,O=x;e:for(;O!==null;){switch(O.tag){case 5:Jt=O.stateNode,pn=!1;break e;case 3:Jt=O.stateNode.containerInfo,pn=!0;break e;case 4:Jt=O.stateNode.containerInfo,pn=!0;break e}O=O.return}if(Jt===null)throw Error(t(160));zy(y,x,p),Jt=null,pn=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(W){yt(p,o,W)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Wy(o,s),o=o.sibling}function Wy(s,o){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(mn(o,s),On(s),d&4){try{bl(3,s,s.return),yc(3,s)}catch(_e){yt(s,s.return,_e)}try{bl(5,s,s.return)}catch(_e){yt(s,s.return,_e)}}break;case 1:mn(o,s),On(s),d&512&&l!==null&&Ho(l,l.return);break;case 5:if(mn(o,s),On(s),d&512&&l!==null&&Ho(l,l.return),s.flags&32){var p=s.stateNode;try{gs(p,"")}catch(_e){yt(s,s.return,_e)}}if(d&4&&(p=s.stateNode,p!=null)){var y=s.memoizedProps,x=l!==null?l.memoizedProps:y,O=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{O==="input"&&y.type==="radio"&&y.name!=null&&yr(p,y),Fa(O,x);var W=Fa(O,y);for(x=0;x<V.length;x+=2){var se=V[x],ae=V[x+1];se==="style"?Ma(p,ae):se==="dangerouslySetInnerHTML"?La(p,ae):se==="children"?gs(p,ae):z(p,se,ae,W)}switch(O){case"input":ms(p,y);break;case"textarea":ao(p,y);break;case"select":var ne=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?Hn(p,!!y.multiple,me,!1):ne!==!!y.multiple&&(y.defaultValue!=null?Hn(p,!!y.multiple,y.defaultValue,!0):Hn(p,!!y.multiple,y.multiple?[]:"",!1))}p[cl]=y}catch(_e){yt(s,s.return,_e)}}break;case 6:if(mn(o,s),On(s),d&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,y=s.memoizedProps;try{p.nodeValue=y}catch(_e){yt(s,s.return,_e)}}break;case 3:if(mn(o,s),On(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{un(o.containerInfo)}catch(_e){yt(s,s.return,_e)}break;case 4:mn(o,s),On(s);break;case 13:mn(o,s),On(s),p=s.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(mf=nt())),d&4&&qy(s);break;case 22:if(se=l!==null&&l.memoizedState!==null,s.mode&1?(ar=(W=ar)||se,mn(o,s),ar=W):mn(o,s),On(s),d&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!se&&(s.mode&1)!==0)for(ve=s,se=s.child;se!==null;){for(ae=ve=se;ve!==null;){switch(ne=ve,me=ne.child,ne.tag){case 0:case 11:case 14:case 15:bl(4,ne,ne.return);break;case 1:Ho(ne,ne.return);var we=ne.stateNode;if(typeof we.componentWillUnmount=="function"){d=ne,l=ne.return;try{o=d,we.props=o.memoizedProps,we.state=o.memoizedState,we.componentWillUnmount()}catch(_e){yt(d,l,_e)}}break;case 5:Ho(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Gy(ae);continue}}me!==null?(me.return=ne,ve=me):Gy(ae)}se=se.sibling}e:for(se=null,ae=s;;){if(ae.tag===5){if(se===null){se=ae;try{p=ae.stateNode,W?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(O=ae.stateNode,V=ae.memoizedProps.style,x=V!=null&&V.hasOwnProperty("display")?V.display:null,O.style.display=Va("display",x))}catch(_e){yt(s,s.return,_e)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=W?"":ae.memoizedProps}catch(_e){yt(s,s.return,_e)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:mn(o,s),On(s),d&4&&qy(s);break;case 21:break;default:mn(o,s),On(s)}}function On(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(Fy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(gs(p,""),d.flags&=-33);var y=By(s);hf(s,y,p);break;case 3:case 4:var x=d.stateNode.containerInfo,O=By(s);df(s,O,x);break;default:throw Error(t(161))}}catch(V){yt(s,s.return,V)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function i2(s,o,l){ve=s,Hy(s)}function Hy(s,o,l){for(var d=(s.mode&1)!==0;ve!==null;){var p=ve,y=p.child;if(p.tag===22&&d){var x=p.memoizedState!==null||gc;if(!x){var O=p.alternate,V=O!==null&&O.memoizedState!==null||ar;O=gc;var W=ar;if(gc=x,(ar=V)&&!W)for(ve=p;ve!==null;)x=ve,V=x.child,x.tag===22&&x.memoizedState!==null?Qy(p):V!==null?(V.return=x,ve=V):Qy(p);for(;y!==null;)ve=y,Hy(y),y=y.sibling;ve=p,gc=O,ar=W}Ky(s)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ve=y):Ky(s)}}function Ky(s){for(;ve!==null;){var o=ve;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:ar||yc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!ar)if(l===null)d.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:fn(o.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Gg(o,y,d);break;case 3:var x=o.updateQueue;if(x!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Gg(o,x,l)}break;case 5:var O=o.stateNode;if(l===null&&o.flags&4){l=O;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var W=o.alternate;if(W!==null){var se=W.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&un(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ar||o.flags&512&&cf(o)}catch(ne){yt(o,o.return,ne)}}if(o===s){ve=null;break}if(l=o.sibling,l!==null){l.return=o.return,ve=l;break}ve=o.return}}function Gy(s){for(;ve!==null;){var o=ve;if(o===s){ve=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ve=l;break}ve=o.return}}function Qy(s){for(;ve!==null;){var o=ve;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{yc(4,o)}catch(V){yt(o,l,V)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch(V){yt(o,p,V)}}var y=o.return;try{cf(o)}catch(V){yt(o,y,V)}break;case 5:var x=o.return;try{cf(o)}catch(V){yt(o,x,V)}}}catch(V){yt(o,o.return,V)}if(o===s){ve=null;break}var O=o.sibling;if(O!==null){O.return=o.return,ve=O;break}ve=o.return}}var o2=Math.ceil,vc=ee.ReactCurrentDispatcher,ff=ee.ReactCurrentOwner,Jr=ee.ReactCurrentBatchConfig,Ke=0,qt=null,At=null,Yt=0,Dr=0,Ko=Is(0),Vt=0,El=null,Ci=0,wc=0,pf=0,xl=null,xr=null,mf=0,Go=1/0,as=null,_c=!1,gf=null,js=null,bc=!1,Ds=null,Ec=0,Tl=0,yf=null,xc=-1,Tc=0;function pr(){return(Ke&6)!==0?nt():xc!==-1?xc:xc=nt()}function Ls(s){return(s.mode&1)===0?1:(Ke&2)!==0&&Yt!==0?Yt&-Yt:zE.transition!==null?(Tc===0&&(Tc=yi()),Tc):(s=ze,s!==0||(s=window.event,s=s===void 0?16:Xa(s.type)),s)}function gn(s,o,l,d){if(50<Tl)throw Tl=0,yf=null,Error(t(185));_s(s,l,d),((Ke&2)===0||s!==qt)&&(s===qt&&((Ke&2)===0&&(wc|=l),Vt===4&&Vs(s,Yt)),Tr(s,d),l===1&&Ke===0&&(o.mode&1)===0&&(Go=nt()+500,Xu&&Rs()))}function Tr(s,o){var l=s.callbackNode;Qn(s,o);var d=gi(s,s===qt?Yt:0);if(d===0)l!==null&&Ka(l),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(l!=null&&Ka(l),o===1)s.tag===0?BE(Yy.bind(null,s)):Lg(Yy.bind(null,s)),ME(function(){(Ke&6)===0&&Rs()}),l=null;else{switch(Es(d)){case 1:l=pi;break;case 4:l=ys;break;case 16:l=zr;break;case 536870912:l=Tu;break;default:l=zr}l=iv(l,Jy.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function Jy(s,o){if(xc=-1,Tc=0,(Ke&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Qo()&&s.callbackNode!==l)return null;var d=gi(s,s===qt?Yt:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=kc(s,d);else{o=d;var p=Ke;Ke|=2;var y=Zy();(qt!==s||Yt!==o)&&(as=null,Go=nt()+500,Pi(s,o));do try{u2();break}catch(O){Xy(s,O)}while(!0);jh(),vc.current=y,Ke=p,At!==null?o=0:(qt=null,Yt=0,o=Vt)}if(o!==0){if(o===2&&(p=Rr(s),p!==0&&(d=p,o=vf(s,p))),o===1)throw l=El,Pi(s,0),Vs(s,d),Tr(s,nt()),l;if(o===6)Vs(s,d);else{if(p=s.current.alternate,(d&30)===0&&!a2(p)&&(o=kc(s,d),o===2&&(y=Rr(s),y!==0&&(d=y,o=vf(s,y))),o===1))throw l=El,Pi(s,0),Vs(s,d),Tr(s,nt()),l;switch(s.finishedWork=p,s.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Ni(s,xr,as);break;case 3:if(Vs(s,d),(d&130023424)===d&&(o=mf+500-nt(),10<o)){if(gi(s,0)!==0)break;if(p=s.suspendedLanes,(p&d)!==d){pr(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=xh(Ni.bind(null,s,xr,as),o);break}Ni(s,xr,as);break;case 4:if(Vs(s,d),(d&4194240)===d)break;for(o=s.eventTimes,p=-1;0<d;){var x=31-dr(d);y=1<<x,x=o[x],x>p&&(p=x),d&=~y}if(d=p,d=nt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*o2(d/1960))-d,10<d){s.timeoutHandle=xh(Ni.bind(null,s,xr,as),d);break}Ni(s,xr,as);break;case 5:Ni(s,xr,as);break;default:throw Error(t(329))}}}return Tr(s,nt()),s.callbackNode===l?Jy.bind(null,s):null}function vf(s,o){var l=xl;return s.current.memoizedState.isDehydrated&&(Pi(s,o).flags|=256),s=kc(s,o),s!==2&&(o=xr,xr=l,o!==null&&wf(o)),s}function wf(s){xr===null?xr=s:xr.push.apply(xr,s)}function a2(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!dn(y(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vs(s,o){for(o&=~pf,o&=~wc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-dr(o),d=1<<l;s[l]=-1,o&=~d}}function Yy(s){if((Ke&6)!==0)throw Error(t(327));Qo();var o=gi(s,0);if((o&1)===0)return Tr(s,nt()),null;var l=kc(s,o);if(s.tag!==0&&l===2){var d=Rr(s);d!==0&&(o=d,l=vf(s,d))}if(l===1)throw l=El,Pi(s,0),Vs(s,o),Tr(s,nt()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Ni(s,xr,as),Tr(s,nt()),null}function _f(s,o){var l=Ke;Ke|=1;try{return s(o)}finally{Ke=l,Ke===0&&(Go=nt()+500,Xu&&Rs())}}function Ri(s){Ds!==null&&Ds.tag===0&&(Ke&6)===0&&Qo();var o=Ke;Ke|=1;var l=Jr.transition,d=ze;try{if(Jr.transition=null,ze=1,s)return s()}finally{ze=d,Jr.transition=l,Ke=o,(Ke&6)===0&&Rs()}}function bf(){Dr=Ko.current,ut(Ko)}function Pi(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,VE(l)),At!==null)for(l=At.return;l!==null;){var d=l;switch(Ch(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ju();break;case 3:qo(),ut(_r),ut(sr),Bh();break;case 5:Uh(d);break;case 4:qo();break;case 13:ut(ft);break;case 19:ut(ft);break;case 10:Dh(d.type._context);break;case 22:case 23:bf()}l=l.return}if(qt=s,At=s=Ms(s.current,null),Yt=Dr=o,Vt=0,El=null,pf=wc=Ci=0,xr=xl=null,Si!==null){for(o=0;o<Si.length;o++)if(l=Si[o],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var x=y.next;y.next=p,d.next=x}l.pending=d}Si=null}return s}function Xy(s,o){do{var l=At;try{if(jh(),lc.current=hc,uc){for(var d=pt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}uc=!1}if(Ii=0,zt=Lt=pt=null,gl=!1,yl=0,ff.current=null,l===null||l.return===null){Vt=1,El=o,At=null;break}e:{var y=s,x=l.return,O=l,V=o;if(o=Yt,O.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var W=V,se=O,ae=se.tag;if((se.mode&1)===0&&(ae===0||ae===11||ae===15)){var ne=se.alternate;ne?(se.updateQueue=ne.updateQueue,se.memoizedState=ne.memoizedState,se.lanes=ne.lanes):(se.updateQueue=null,se.memoizedState=null)}var me=xy(x);if(me!==null){me.flags&=-257,Ty(me,x,O,y,o),me.mode&1&&Ey(y,W,o),o=me,V=W;var we=o.updateQueue;if(we===null){var _e=new Set;_e.add(V),o.updateQueue=_e}else we.add(V);break e}else{if((o&1)===0){Ey(y,W,o),Ef();break e}V=Error(t(426))}}else if(ht&&O.mode&1){var bt=xy(x);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),Ty(bt,x,O,y,o),Nh(Wo(V,O));break e}}y=V=Wo(V,O),Vt!==4&&(Vt=2),xl===null?xl=[y]:xl.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var F=_y(y,V,o);Kg(y,F);break e;case 1:O=V;var M=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(js===null||!js.has(q)))){y.flags|=65536,o&=-o,y.lanes|=o;var ue=by(y,O,o);Kg(y,ue);break e}}y=y.return}while(y!==null)}tv(l)}catch(be){o=be,At===l&&l!==null&&(At=l=l.return);continue}break}while(!0)}function Zy(){var s=vc.current;return vc.current=hc,s===null?hc:s}function Ef(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),qt===null||(Ci&268435455)===0&&(wc&268435455)===0||Vs(qt,Yt)}function kc(s,o){var l=Ke;Ke|=2;var d=Zy();(qt!==s||Yt!==o)&&(as=null,Pi(s,o));do try{l2();break}catch(p){Xy(s,p)}while(!0);if(jh(),Ke=l,vc.current=d,At!==null)throw Error(t(261));return qt=null,Yt=0,Vt}function l2(){for(;At!==null;)ev(At)}function u2(){for(;At!==null&&!Eu();)ev(At)}function ev(s){var o=sv(s.alternate,s,Dr);s.memoizedProps=s.pendingProps,o===null?tv(s):At=o,ff.current=null}function tv(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=t2(l,o,Dr),l!==null){At=l;return}}else{if(l=r2(l,o),l!==null){l.flags&=32767,At=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Vt=6,At=null;return}}if(o=o.sibling,o!==null){At=o;return}At=o=s}while(o!==null);Vt===0&&(Vt=5)}function Ni(s,o,l){var d=ze,p=Jr.transition;try{Jr.transition=null,ze=1,c2(s,o,l,d)}finally{Jr.transition=p,ze=d}return null}function c2(s,o,l,d){do Qo();while(Ds!==null);if((Ke&6)!==0)throw Error(t(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(rt(s,y),s===qt&&(At=qt=null,Yt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||bc||(bc=!0,iv(zr,function(){return Qo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Jr.transition,Jr.transition=null;var x=ze;ze=1;var O=Ke;Ke|=4,ff.current=null,s2(s,l),Wy(l,s),RE(bh),Ts=!!_h,bh=_h=null,s.current=l,i2(l),sh(),Ke=O,ze=x,Jr.transition=y}else s.current=l;if(bc&&(bc=!1,Ds=s,Ec=p),y=s.pendingLanes,y===0&&(js=null),ku(l.stateNode),Tr(s,nt()),o!==null)for(d=s.onRecoverableError,l=0;l<o.length;l++)p=o[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(_c)throw _c=!1,s=gf,gf=null,s;return(Ec&1)!==0&&s.tag!==0&&Qo(),y=s.pendingLanes,(y&1)!==0?s===yf?Tl++:(Tl=0,yf=s):Tl=0,Rs(),null}function Qo(){if(Ds!==null){var s=Es(Ec),o=Jr.transition,l=ze;try{if(Jr.transition=null,ze=16>s?16:s,Ds===null)var d=!1;else{if(s=Ds,Ds=null,Ec=0,(Ke&6)!==0)throw Error(t(331));var p=Ke;for(Ke|=4,ve=s.current;ve!==null;){var y=ve,x=y.child;if((ve.flags&16)!==0){var O=y.deletions;if(O!==null){for(var V=0;V<O.length;V++){var W=O[V];for(ve=W;ve!==null;){var se=ve;switch(se.tag){case 0:case 11:case 15:bl(8,se,y)}var ae=se.child;if(ae!==null)ae.return=se,ve=ae;else for(;ve!==null;){se=ve;var ne=se.sibling,me=se.return;if(Uy(se),se===W){ve=null;break}if(ne!==null){ne.return=me,ve=ne;break}ve=me}}}var we=y.alternate;if(we!==null){var _e=we.child;if(_e!==null){we.child=null;do{var bt=_e.sibling;_e.sibling=null,_e=bt}while(_e!==null)}}ve=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,ve=x;else e:for(;ve!==null;){if(y=ve,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:bl(9,y,y.return)}var F=y.sibling;if(F!==null){F.return=y.return,ve=F;break e}ve=y.return}}var M=s.current;for(ve=M;ve!==null;){x=ve;var q=x.child;if((x.subtreeFlags&2064)!==0&&q!==null)q.return=x,ve=q;else e:for(x=M;ve!==null;){if(O=ve,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:yc(9,O)}}catch(be){yt(O,O.return,be)}if(O===x){ve=null;break e}var ue=O.sibling;if(ue!==null){ue.return=O.return,ve=ue;break e}ve=O.return}}if(Ke=p,Rs(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(mi,s)}catch{}d=!0}return d}finally{ze=l,Jr.transition=o}}return!1}function rv(s,o,l){o=Wo(l,o),o=_y(s,o,1),s=Ns(s,o,1),o=pr(),s!==null&&(_s(s,1,o),Tr(s,o))}function yt(s,o,l){if(s.tag===3)rv(s,s,l);else for(;o!==null;){if(o.tag===3){rv(o,s,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(js===null||!js.has(d))){s=Wo(l,s),s=by(o,s,1),o=Ns(o,s,1),s=pr(),o!==null&&(_s(o,1,s),Tr(o,s));break}}o=o.return}}function d2(s,o,l){var d=s.pingCache;d!==null&&d.delete(o),o=pr(),s.pingedLanes|=s.suspendedLanes&l,qt===s&&(Yt&l)===l&&(Vt===4||Vt===3&&(Yt&130023424)===Yt&&500>nt()-mf?Pi(s,0):pf|=l),Tr(s,o)}function nv(s,o){o===0&&((s.mode&1)===0?o=1:(o=vo,vo<<=1,(vo&130023424)===0&&(vo=4194304)));var l=pr();s=ss(s,o),s!==null&&(_s(s,o,l),Tr(s,l))}function h2(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),nv(s,l)}function f2(s,o){var l=0;switch(s.tag){case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),nv(s,l)}var sv;sv=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||_r.current)Er=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return Er=!1,e2(s,o,l);Er=(s.flags&131072)!==0}else Er=!1,ht&&(o.flags&1048576)!==0&&Vg(o,ec,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;mc(s,o),s=o.pendingProps;var p=Vo(o,sr.current);zo(o,l),p=Wh(null,o,d,s,p,l);var y=Hh();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,br(d)?(y=!0,Yu(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Mh(o),p.updater=fc,o.stateNode=p,p._reactInternals=o,Xh(o,d,s,l),o=rf(null,o,d,!0,y,l)):(o.tag=0,ht&&y&&Ih(o),fr(null,o,p,l),o=o.child),o;case 16:d=o.elementType;e:{switch(mc(s,o),s=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=m2(d),s=fn(d,s),p){case 0:o=tf(null,o,d,s,l);break e;case 1:o=Ry(null,o,d,s,l);break e;case 11:o=ky(null,o,d,s,l);break e;case 14:o=Sy(null,o,d,fn(d.type,s),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:fn(d,p),tf(s,o,d,p,l);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:fn(d,p),Ry(s,o,d,p,l);case 3:e:{if(Py(o),s===null)throw Error(t(387));d=o.pendingProps,y=o.memoizedState,p=y.element,Hg(s,o),oc(o,d,null,l);var x=o.memoizedState;if(d=x.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=Wo(Error(t(423)),o),o=Ny(s,o,d,l,p);break e}else if(d!==p){p=Wo(Error(t(424)),o),o=Ny(s,o,d,l,p);break e}else for(jr=As(o.stateNode.containerInfo.firstChild),Or=o,ht=!0,hn=null,l=qg(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Uo(),d===p){o=os(s,o,l);break e}fr(s,o,d,l)}o=o.child}return o;case 5:return Qg(o),s===null&&Ph(o),d=o.type,p=o.pendingProps,y=s!==null?s.memoizedProps:null,x=p.children,Eh(d,p)?x=null:y!==null&&Eh(d,y)&&(o.flags|=32),Cy(s,o),fr(s,o,x,l),o.child;case 6:return s===null&&Ph(o),null;case 13:return Oy(s,o,l);case 4:return $h(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Fo(o,null,d,l):fr(s,o,d,l),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:fn(d,p),ky(s,o,d,p,l);case 7:return fr(s,o,o.pendingProps,l),o.child;case 8:return fr(s,o,o.pendingProps.children,l),o.child;case 12:return fr(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,y=o.memoizedProps,x=p.value,st(nc,d._currentValue),d._currentValue=x,y!==null)if(dn(y.value,x)){if(y.children===p.children&&!_r.current){o=os(s,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var O=y.dependencies;if(O!==null){x=y.child;for(var V=O.firstContext;V!==null;){if(V.context===d){if(y.tag===1){V=is(-1,l&-l),V.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var se=W.pending;se===null?V.next=V:(V.next=se.next,se.next=V),W.pending=V}}y.lanes|=l,V=y.alternate,V!==null&&(V.lanes|=l),Lh(y.return,l,o),O.lanes|=l;break}V=V.next}}else if(y.tag===10)x=y.type===o.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(t(341));x.lanes|=l,O=x.alternate,O!==null&&(O.lanes|=l),Lh(x,l,o),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===o){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}fr(s,o,p.children,l),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,zo(o,l),p=Gr(p),d=d(p),o.flags|=1,fr(s,o,d,l),o.child;case 14:return d=o.type,p=fn(d,o.pendingProps),p=fn(d.type,p),Sy(s,o,d,p,l);case 15:return Ay(s,o,o.type,o.pendingProps,l);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:fn(d,p),mc(s,o),o.tag=1,br(d)?(s=!0,Yu(o)):s=!1,zo(o,l),vy(o,d,p),Xh(o,d,p,l),rf(null,o,d,!0,s,l);case 19:return Dy(s,o,l);case 22:return Iy(s,o,l)}throw Error(t(156,o.tag))};function iv(s,o){return go(s,o)}function p2(s,o,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(s,o,l,d){return new p2(s,o,l,d)}function xf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function m2(s){if(typeof s=="function")return xf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===R)return 11;if(s===re)return 14}return 2}function Ms(s,o){var l=s.alternate;return l===null?(l=Yr(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Sc(s,o,l,d,p,y){var x=2;if(d=s,typeof s=="function")xf(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case L:return Oi(l.children,p,y,o);case T:x=8,p|=8;break;case P:return s=Yr(12,l,o,p|2),s.elementType=P,s.lanes=y,s;case k:return s=Yr(13,l,o,p),s.elementType=k,s.lanes=y,s;case ie:return s=Yr(19,l,o,p),s.elementType=ie,s.lanes=y,s;case he:return Ac(l,p,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case S:x=10;break e;case A:x=9;break e;case R:x=11;break e;case re:x=14;break e;case Z:x=16,d=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Yr(x,l,o,p),o.elementType=s,o.type=d,o.lanes=y,o}function Oi(s,o,l,d){return s=Yr(7,s,d,o),s.lanes=l,s}function Ac(s,o,l,d){return s=Yr(22,s,d,o),s.elementType=he,s.lanes=l,s.stateNode={isHidden:!1},s}function Tf(s,o,l){return s=Yr(6,s,null,o),s.lanes=l,s}function kf(s,o,l){return o=Yr(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function g2(s,o,l,d,p){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ws(0),this.expirationTimes=ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Sf(s,o,l,d,p,y,x,O,V){return s=new g2(s,o,l,O,V),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Yr(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mh(y),s}function y2(s,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:d==null?null:""+d,children:s,containerInfo:o,implementation:l}}function ov(s){if(!s)return Cs;s=s._reactInternals;e:{if(nn(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(br(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(br(l))return jg(s,l,o)}return o}function av(s,o,l,d,p,y,x,O,V){return s=Sf(l,d,!0,s,p,y,x,O,V),s.context=ov(null),l=s.current,d=pr(),p=Ls(l),y=is(d,p),y.callback=o??null,Ns(l,y,p),s.current.lanes=p,_s(s,p,d),Tr(s,d),s}function Ic(s,o,l,d){var p=o.current,y=pr(),x=Ls(p);return l=ov(l),o.context===null?o.context=l:o.pendingContext=l,o=is(y,x),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Ns(p,o,x),s!==null&&(gn(s,p,x,y),ic(s,p,x)),x}function Cc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function lv(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Af(s,o){lv(s,o),(s=s.alternate)&&lv(s,o)}function v2(){return null}var uv=typeof reportError=="function"?reportError:function(s){console.error(s)};function If(s){this._internalRoot=s}Rc.prototype.render=If.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Ic(s,o,null,null)},Rc.prototype.unmount=If.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Ri(function(){Ic(null,s,null,null)}),o[es]=null}};function Rc(s){this._internalRoot=s}Rc.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ru();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Sn.length&&o!==0&&o<Sn[l].priority;l++);Sn.splice(l,0,s),l===0&&Ou(s)}};function Cf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Pc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function cv(){}function w2(s,o,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var W=Cc(x);y.call(W)}}var x=av(o,d,s,0,null,!1,!1,"",cv);return s._reactRootContainer=x,s[es]=x.current,ll(s.nodeType===8?s.parentNode:s),Ri(),x}for(;p=s.lastChild;)s.removeChild(p);if(typeof d=="function"){var O=d;d=function(){var W=Cc(V);O.call(W)}}var V=Sf(s,0,!1,null,null,!1,!1,"",cv);return s._reactRootContainer=V,s[es]=V.current,ll(s.nodeType===8?s.parentNode:s),Ri(function(){Ic(o,V,l,d)}),V}function Nc(s,o,l,d,p){var y=l._reactRootContainer;if(y){var x=y;if(typeof p=="function"){var O=p;p=function(){var V=Cc(x);O.call(V)}}Ic(o,x,s,p)}else x=w2(l,o,s,p,d);return Cc(x)}Iu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=vs(o.pendingLanes);l!==0&&(bs(o,l|1),Tr(o,nt()),(Ke&6)===0&&(Go=nt()+500,Rs()))}break;case 13:Ri(function(){var d=ss(s,1);if(d!==null){var p=pr();gn(d,s,1,p)}}),Af(s,1)}},wo=function(s){if(s.tag===13){var o=ss(s,134217728);if(o!==null){var l=pr();gn(o,s,134217728,l)}Af(s,134217728)}},Cu=function(s){if(s.tag===13){var o=Ls(s),l=ss(s,o);if(l!==null){var d=pr();gn(l,s,o,d)}Af(s,o)}},Ru=function(){return ze},Pu=function(s,o){var l=ze;try{return ze=s,o()}finally{ze=l}},uo=function(s,o,l){switch(o){case"input":if(ms(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==s&&d.form===s.form){var p=Qu(d);if(!p)throw Error(t(90));nr(d),ms(d,p)}}}break;case"textarea":ao(s,l);break;case"select":o=l.value,o!=null&&Hn(s,!!l.multiple,o,!1)}},ci=_f,za=Ri;var _2={usingClientEntryPoint:!1,Events:[dl,Do,Qu,Tn,Ba,_f]},kl={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b2={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ha(s),s===null?null:s.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||v2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{mi=Oc.inject(b2),Cr=Oc}catch{}}return kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_2,kr.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cf(o))throw Error(t(200));return y2(s,o,null,l)},kr.createRoot=function(s,o){if(!Cf(s))throw Error(t(299));var l=!1,d="",p=uv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=Sf(s,1,!1,null,null,l,!1,d,p),s[es]=o.current,ll(s.nodeType===8?s.parentNode:s),new If(o)},kr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ha(o),s=s===null?null:s.stateNode,s},kr.flushSync=function(s){return Ri(s)},kr.hydrate=function(s,o,l){if(!Pc(o))throw Error(t(200));return Nc(null,s,o,!0,l)},kr.hydrateRoot=function(s,o,l){if(!Cf(s))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",x=uv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),o=av(o,null,s,1,l??null,p,!1,y,x),s[es]=o.current,ll(s),d)for(s=0;s<d.length;s++)l=d[s],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new Rc(o)},kr.render=function(s,o,l){if(!Pc(o))throw Error(t(200));return Nc(null,s,o,!1,l)},kr.unmountComponentAtNode=function(s){if(!Pc(s))throw Error(t(40));return s._reactRootContainer?(Ri(function(){Nc(null,null,s,!1,function(){s._reactRootContainer=null,s[es]=null})}),!0):!1},kr.unstable_batchedUpdates=_f,kr.unstable_renderSubtreeIntoContainer=function(s,o,l,d){if(!Pc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Nc(s,o,l,!1,d)},kr.version="18.3.1-next-f1338f8080-20240426",kr}var vv;function L0(){if(vv)return Nf.exports;vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nf.exports=R2(),Nf.exports}var wv;function P2(){if(wv)return jc;wv=1;var r=L0();return jc.createRoot=r.createRoot,jc.hydrateRoot=r.hydrateRoot,jc}var N2=P2();const O2=jd(N2);L0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Fl.apply(this,arguments)}var Bs;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Bs||(Bs={}));const _v="popstate";function j2(r){r===void 0&&(r={});function e(n,i){let{pathname:a,search:u,hash:h}=n.location;return op("",{pathname:a,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:ed(i)}return L2(e,t,null,r)}function Nt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function V0(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D2(){return Math.random().toString(36).substr(2,8)}function bv(r,e){return{usr:r.state,key:r.key,idx:e}}function op(r,e,t,n){return t===void 0&&(t=null),Fl({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?xa(e):e,{state:t,key:e&&e.key||n||D2()})}function ed(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function L2(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,u=i.history,h=Bs.Pop,f=null,m=v();m==null&&(m=0,u.replaceState(Fl({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function b(){h=Bs.Pop;let N=v(),K=N==null?null:N-m;m=N,f&&f({action:h,location:D.location,delta:K})}function E(N,K){h=Bs.Push;let H=op(D.location,N,K);m=v()+1;let z=bv(H,m),ee=D.createHref(H);try{u.pushState(z,"",ee)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;i.location.assign(ee)}a&&f&&f({action:h,location:D.location,delta:1})}function C(N,K){h=Bs.Replace;let H=op(D.location,N,K);m=v();let z=bv(H,m),ee=D.createHref(H);u.replaceState(z,"",ee),a&&f&&f({action:h,location:D.location,delta:0})}function j(N){let K=i.location.origin!=="null"?i.location.origin:i.location.href,H=typeof N=="string"?N:ed(N);return H=H.replace(/ $/,"%20"),Nt(K,"No window.location.(origin|href) available to create URL for href: "+H),new URL(H,K)}let D={get action(){return h},get location(){return r(i,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(_v,b),f=N,()=>{i.removeEventListener(_v,b),f=null}},createHref(N){return e(i,N)},createURL:j,encodeLocation(N){let K=j(N);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:E,replace:C,go(N){return u.go(N)}};return D}var Ev;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Ev||(Ev={}));function V2(r,e,t){return t===void 0&&(t="/"),M2(r,e,t)}function M2(r,e,t,n){let i=typeof e=="string"?xa(e):e,a=Kp(i.pathname||"/",t);if(a==null)return null;let u=M0(r);$2(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=Y2(a);h=G2(u[f],m)}return h}function M0(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Nt(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let m=Ks([n,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(Nt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),M0(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:H2(m,a.index),routesMeta:v})};return r.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))i(a,u);else for(let f of $0(a.path))i(a,u,f)}),e}function $0(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let u=$0(n.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),i&&h.push(...u),h.map(f=>r.startsWith("/")&&f===""?"/":f)}function $2(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:K2(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const U2=/^:[\w-]+$/,F2=3,B2=2,z2=1,q2=10,W2=-2,xv=r=>r==="*";function H2(r,e){let t=r.split("/"),n=t.length;return t.some(xv)&&(n+=W2),e&&(n+=B2),t.filter(i=>!xv(i)).reduce((i,a)=>i+(U2.test(a)?F2:a===""?z2:q2),n)}function K2(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function G2(r,e,t){let{routesMeta:n}=r,i={},a="/",u=[];for(let h=0;h<n.length;++h){let f=n[h],m=h===n.length-1,v=a==="/"?e:e.slice(a.length)||"/",b=Q2({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),E=f.route;if(!b)return null;Object.assign(i,b.params),u.push({params:i,pathname:Ks([a,b.pathname]),pathnameBase:tx(Ks([a,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(a=Ks([a,b.pathnameBase]))}return u}function Q2(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=J2(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:n.reduce((m,v,b)=>{let{paramName:E,isOptional:C}=v;if(E==="*"){let D=h[b]||"";u=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const j=h[b];return C&&!j?m[E]=void 0:m[E]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:r}}function J2(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),V0(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(n.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Y2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return V0(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Kp(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function X2(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?xa(r):r;return{pathname:t?t.startsWith("/")?t:Z2(t,e):e,search:rx(n),hash:nx(i)}}function Z2(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Df(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ex(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function U0(r,e){let t=ex(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function F0(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=xa(r):(i=Fl({},r),Nt(!i.pathname||!i.pathname.includes("?"),Df("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),Df("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),Df("#","search","hash",i)));let a=r===""||i.pathname==="",u=a?"/":i.pathname,h;if(u==null)h=t;else{let b=e.length-1;if(!n&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),b-=1;i.pathname=E.join("/")}h=b>=0?e[b]:"/"}let f=X2(i,h),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}const Ks=r=>r.join("/").replace(/\/\/+/g,"/"),tx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),rx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function sx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const B0=["post","put","patch","delete"];new Set(B0);const ix=["get",...B0];new Set(ix);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Bl.apply(this,arguments)}const Gp=B.createContext(null),ox=B.createContext(null),Ji=B.createContext(null),Dd=B.createContext(null),oi=B.createContext({outlet:null,matches:[],isDataRoute:!1}),z0=B.createContext(null);function ax(r,e){let{relative:t}=e===void 0?{}:e;ou()||Nt(!1);let{basename:n,navigator:i}=B.useContext(Ji),{hash:a,pathname:u,search:h}=W0(r,{relative:t}),f=u;return n!=="/"&&(f=u==="/"?n:Ks([n,u])),i.createHref({pathname:f,search:h,hash:a})}function ou(){return B.useContext(Dd)!=null}function Ta(){return ou()||Nt(!1),B.useContext(Dd).location}function q0(r){B.useContext(Ji).static||B.useLayoutEffect(r)}function Qp(){let{isDataRoute:r}=B.useContext(oi);return r?bx():lx()}function lx(){ou()||Nt(!1);let r=B.useContext(Gp),{basename:e,future:t,navigator:n}=B.useContext(Ji),{matches:i}=B.useContext(oi),{pathname:a}=Ta(),u=JSON.stringify(U0(i,t.v7_relativeSplatPath)),h=B.useRef(!1);return q0(()=>{h.current=!0}),B.useCallback(function(m,v){if(v===void 0&&(v={}),!h.current)return;if(typeof m=="number"){n.go(m);return}let b=F0(m,JSON.parse(u),a,v.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Ks([e,b.pathname])),(v.replace?n.replace:n.push)(b,v.state,v)},[e,n,u,a,r])}function ux(){let{matches:r}=B.useContext(oi),e=r[r.length-1];return e?e.params:{}}function W0(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=B.useContext(Ji),{matches:i}=B.useContext(oi),{pathname:a}=Ta(),u=JSON.stringify(U0(i,n.v7_relativeSplatPath));return B.useMemo(()=>F0(r,JSON.parse(u),a,t==="path"),[r,u,a,t])}function cx(r,e){return dx(r,e)}function dx(r,e,t,n){ou()||Nt(!1);let{navigator:i}=B.useContext(Ji),{matches:a}=B.useContext(oi),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let m=Ta(),v;if(e){var b;let N=typeof e=="string"?xa(e):e;f==="/"||(b=N.pathname)!=null&&b.startsWith(f)||Nt(!1),v=N}else v=m;let E=v.pathname||"/",C=E;if(f!=="/"){let N=f.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let j=V2(r,{pathname:C}),D=gx(j&&j.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:Ks([f,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Ks([f,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,t,n);return e&&D?B.createElement(Dd.Provider,{value:{location:Bl({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Bs.Pop}},D):D}function hx(){let r=_x(),e=sx(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:i},t):null,null)}const fx=B.createElement(hx,null);class px extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?B.createElement(oi.Provider,{value:this.props.routeContext},B.createElement(z0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mx(r){let{routeContext:e,match:t,children:n}=r,i=B.useContext(Gp);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(oi.Provider,{value:e},n)}function gx(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var a;if(!t)return null;if(t.errors)r=t.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let u=r,h=(i=t)==null?void 0:i.errors;if(h!=null){let v=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);v>=0||Nt(!1),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,m=-1;if(t&&n&&n.v7_partialHydration)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:E,errors:C}=t,j=b.route.loader&&E[b.route.id]===void 0&&(!C||C[b.route.id]===void 0);if(b.route.lazy||j){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,b,E)=>{let C,j=!1,D=null,N=null;t&&(C=h&&b.route.id?h[b.route.id]:void 0,D=b.route.errorElement||fx,f&&(m<0&&E===0?(Ex("route-fallback"),j=!0,N=null):m===E&&(j=!0,N=b.route.hydrateFallbackElement||null)));let K=e.concat(u.slice(0,E+1)),H=()=>{let z;return C?z=D:j?z=N:b.route.Component?z=B.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=v,B.createElement(mx,{match:b,routeContext:{outlet:v,matches:K,isDataRoute:t!=null},children:z})};return t&&(b.route.ErrorBoundary||b.route.errorElement||E===0)?B.createElement(px,{location:t.location,revalidation:t.revalidation,component:D,error:C,children:H(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):H()},null)}var H0=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(H0||{}),K0=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(K0||{});function yx(r){let e=B.useContext(Gp);return e||Nt(!1),e}function vx(r){let e=B.useContext(ox);return e||Nt(!1),e}function wx(r){let e=B.useContext(oi);return e||Nt(!1),e}function G0(r){let e=wx(),t=e.matches[e.matches.length-1];return t.route.id||Nt(!1),t.route.id}function _x(){var r;let e=B.useContext(z0),t=vx(),n=G0();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function bx(){let{router:r}=yx(H0.UseNavigateStable),e=G0(K0.UseNavigateStable),t=B.useRef(!1);return q0(()=>{t.current=!0}),B.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Bl({fromRouteId:e},a)))},[r,e])}const Tv={};function Ex(r,e,t){Tv[r]||(Tv[r]=!0)}function xx(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function Al(r){Nt(!1)}function Tx(r){let{basename:e="/",children:t=null,location:n,navigationType:i=Bs.Pop,navigator:a,static:u=!1,future:h}=r;ou()&&Nt(!1);let f=e.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:a,static:u,future:Bl({v7_relativeSplatPath:!1},h)}),[f,h,a,u]);typeof n=="string"&&(n=xa(n));let{pathname:v="/",search:b="",hash:E="",state:C=null,key:j="default"}=n,D=B.useMemo(()=>{let N=Kp(v,f);return N==null?null:{location:{pathname:N,search:b,hash:E,state:C,key:j},navigationType:i}},[f,v,b,E,C,j,i]);return D==null?null:B.createElement(Ji.Provider,{value:m},B.createElement(Dd.Provider,{children:t,value:D}))}function kx(r){let{children:e,location:t}=r;return cx(ap(e),t)}new Promise(()=>{});function ap(r,e){e===void 0&&(e=[]);let t=[];return B.Children.forEach(r,(n,i)=>{if(!B.isValidElement(n))return;let a=[...e,i];if(n.type===B.Fragment){t.push.apply(t,ap(n.props.children,a));return}n.type!==Al&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let u={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=ap(n.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lp(){return lp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},lp.apply(this,arguments)}function Sx(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function Ax(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ix(r,e){return r.button===0&&(!e||e==="_self")&&!Ax(r)}const Cx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rx="6";try{window.__reactRouterVersion=Rx}catch{}const Px="startTransition",kv=A2[Px];function Nx(r){let{basename:e,children:t,future:n,window:i}=r,a=B.useRef();a.current==null&&(a.current=j2({window:i,v5Compat:!0}));let u=a.current,[h,f]=B.useState({action:u.action,location:u.location}),{v7_startTransition:m}=n||{},v=B.useCallback(b=>{m&&kv?kv(()=>f(b)):f(b)},[f,m]);return B.useLayoutEffect(()=>u.listen(v),[u,v]),B.useEffect(()=>xx(n),[n]),B.createElement(Tx,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:u,future:n})}const Ox=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sv=B.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:v,viewTransition:b}=e,E=Sx(e,Cx),{basename:C}=B.useContext(Ji),j,D=!1;if(typeof m=="string"&&jx.test(m)&&(j=m,Ox))try{let z=new URL(window.location.href),ee=m.startsWith("//")?new URL(z.protocol+m):new URL(m),ge=Kp(ee.pathname,C);ee.origin===z.origin&&ge!=null?m=ge+ee.search+ee.hash:D=!0}catch{}let N=ax(m,{relative:i}),K=Dx(m,{replace:u,state:h,target:f,preventScrollReset:v,relative:i,viewTransition:b});function H(z){n&&n(z),z.defaultPrevented||K(z)}return B.createElement("a",lp({},E,{href:j||N,onClick:D||a?n:H,ref:t,target:f}))});var Av;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Av||(Av={}));var Iv;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Iv||(Iv={}));function Dx(r,e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:u,viewTransition:h}=e===void 0?{}:e,f=Qp(),m=Ta(),v=W0(r,{relative:u});return B.useCallback(b=>{if(Ix(b,t)){b.preventDefault();let E=n!==void 0?n:ed(m)===ed(v);f(r,{replace:E,state:i,preventScrollReset:a,relative:u,viewTransition:h})}},[m,f,v,n,i,t,r,a,u,h])}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q0=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:u,...h},f)=>B.createElement("svg",{ref:f,...Vx,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:Q0("lucide",i),...h},[...u.map(([m,v])=>B.createElement(m,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(r,e)=>{const t=B.forwardRef(({className:n,...i},a)=>B.createElement(Mx,{ref:a,iconNode:e,className:Q0(`lucide-${Lx(r)}`,n),...i}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=et("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=et("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=et("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=et("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=et("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=et("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=et("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=et("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=et("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=et("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=et("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=et("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=et("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=et("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=et("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=et("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=et("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=et("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=et("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=et("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=et("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=et("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Z0=()=>{const[r,e]=B.useState(!1),[t,n]=B.useState(!1),[i,a]=B.useState(""),u=Ta(),h=Qp(),f=B.useMemo(()=>[{href:"#Home",label:"Home"},{href:"#About",label:"About"},{href:"#Services",label:"Services"},{href:"#Portofolio",label:"Portofolio"},{href:"/showcase",label:"Showcase"},{href:"#Contact",label:"Contact"}],[]);B.useEffect(()=>{const v=()=>{n(window.scrollY>20);const b=f.map(j=>{if(!j.href.startsWith("#"))return null;const D=document.querySelector(j.href);return D?{id:j.href.replace("#",""),offset:D.offsetTop-550,height:D.offsetHeight}:null}).filter(Boolean),E=window.scrollY,C=b.find(j=>E>=j.offset&&E<j.offset+j.height);C&&a(C.id)};return window.addEventListener("scroll",v),v(),()=>window.removeEventListener("scroll",v)},[f]),B.useEffect(()=>{r?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[r]);const m=(v,b)=>{if(v.preventDefault(),!b.startsWith("#")){h(b),e(!1);return}if(u.pathname==="/"||u.pathname===""){const C=document.querySelector(b);if(C){const j=C.offsetTop-100;window.scrollTo({top:j,behavior:"smooth"})}else window.location.hash=b;e(!1);return}e(!1),h("/"+b);const E=(C=0)=>{const j=document.querySelector(b);if(j){const D=j.offsetTop-100;window.scrollTo({top:D,behavior:"smooth"});return}C<12&&setTimeout(()=>E(C+1),120)};setTimeout(()=>E(0),200)};return w.jsxs("nav",{className:`fixed w-full top-0 z-50 transition-all duration-500 ${r?"bg-[#030014] opacity-100":t?"bg-[#030014]/50 backdrop-blur-xl":"bg-transparent"}`,children:[w.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-[10%]",children:w.jsxs("div",{className:"flex items-center justify-between h-16",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("a",{href:"#Home",onClick:v=>m(v,"#Home"),className:"text-xl font-bold bg-gradient-to-r from-[#a855f7] to-[#6366f1] bg-clip-text text-transparent",children:"Xpensive Media"})}),w.jsx("div",{className:"hidden md:block",children:w.jsx("div",{className:"ml-8 flex items-center space-x-8",children:f.map(v=>{const b=v.href.startsWith("#"),E=b?u.pathname==="/"&&i===v.href.substring(1):u.pathname===v.href;return b?w.jsxs("a",{href:v.href,onClick:C=>m(C,v.href),className:"group relative px-1 py-2 text-sm font-medium",children:[w.jsx("span",{className:`relative z-10 transition-colors duration-300 ${E?"bg-gradient-to-r from-[#6366f1] to-[#a855f7] bg-clip-text text-transparent font-semibold":"text-[#e2d3fd] group-hover:text-white"}`,children:v.label}),w.jsx("span",{className:`absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-[#6366f1] to-[#a855f7] transform origin-left transition-transform duration-300 ${E?"scale-x-100":"scale-x-0 group-hover:scale-x-100"}`})]},v.label):w.jsxs(Sv,{to:v.href,onClick:()=>e(!1),className:"group relative px-1 py-2 text-sm font-medium",children:[w.jsx("span",{className:`relative z-10 transition-colors duration-300 ${E?"bg-gradient-to-r from-[#6366f1] to-[#a855f7] bg-clip-text text-transparent font-semibold":"text-[#e2d3fd] group-hover:text-white"}`,children:v.label}),w.jsx("span",{className:`absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-[#6366f1] to-[#a855f7] transform origin-left transition-transform duration-300 ${E?"scale-x-100":"scale-x-0 group-hover:scale-x-100"}`})]},v.label)})})}),w.jsx("div",{className:"md:hidden",children:w.jsx("button",{onClick:()=>e(!r),className:`relative p-2 text-[#e2d3fd] hover:text-white transition-transform duration-300 ease-in-out transform ${r?"rotate-90 scale-125":"rotate-0 scale-100"}`,children:r?w.jsx(nT,{className:"w-6 h-6"}):w.jsx(Xx,{className:"w-6 h-6"})})})]})}),w.jsx("div",{className:`md:hidden h-2/5 fixed inset-0 bg-[#030014] transition-all duration-300 ease-in-out ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-[-100%] pointer-events-none"}`,style:{top:"64px"},children:w.jsx("div",{className:"flex flex-col h-full",children:w.jsx("div",{className:"px-4 py-6 space-y-4 flex-1 ",children:f.map((v,b)=>{const E=v.href.startsWith("#"),j=`block px-4 py-3 text-lg font-medium transition-all duration-300 ease ${(E?u.pathname==="/"&&i===v.href.substring(1):u.pathname===v.href)?"bg-gradient-to-r from-[#6366f1] to-[#a855f7] bg-clip-text text-transparent font-semibold":"text-[#e2d3fd] hover:text-white"}`;return E?w.jsx("a",{href:v.href,onClick:D=>m(D,v.href),className:j,style:{transitionDelay:`${b*100}ms`,transform:r?"translateX(0)":"translateX(50px)",opacity:r?1:0},children:v.label},v.label):w.jsx(Sv,{to:v.href,onClick:()=>e(!1),className:j,style:{transitionDelay:`${b*100}ms`,transform:r?"translateX(0)":"translateX(50px)",opacity:r?1:0},children:v.label},v.label)})})})})]})};var e_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cv=Ln.createContext&&Ln.createContext(e_),iT=["attr","size","title"];function oT(r,e){if(r==null)return{};var t=aT(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function aT(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function rd(){return rd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},rd.apply(this,arguments)}function Rv(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function nd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rv(Object(t),!0).forEach(function(n){lT(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Rv(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function lT(r,e,t){return e=uT(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function uT(r){var e=cT(r,"string");return typeof e=="symbol"?e:e+""}function cT(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function t_(r){return r&&r.map((e,t)=>Ln.createElement(e.tag,nd({key:t},e.attr),t_(e.child)))}function Yp(r){return e=>Ln.createElement(dT,rd({attr:nd({},r.attr)},e),t_(r.child))}function dT(r){var e=t=>{var{attr:n,size:i,title:a}=r,u=oT(r,iT),h=i||t.size||"1em",f;return t.className&&(f=t.className),r.className&&(f=(f?f+" ":"")+r.className),Ln.createElement("svg",rd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,u,{className:f,style:nd(nd({color:r.color||t.color},t.style),r.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&Ln.createElement("title",null,a),r.children)};return Cv!==void 0?Ln.createElement(Cv.Consumer,null,t=>e(t)):e(e_)}function hT(r){return Yp({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function fT(r){return Yp({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function Ld(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function pT(r,e,t,n){function i(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function h(v){try{m(n.next(v))}catch(b){u(b)}}function f(v){try{m(n.throw(v))}catch(b){u(b)}}function m(v){v.done?a(v.value):i(v.value).then(h,f)}m((n=n.apply(r,e||[])).next())})}const mT=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class Xp extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class gT extends Xp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pv extends Xp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nv extends Xp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cp;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(cp||(cp={}));class yT{constructor(e,{headers:t={},customFetch:n,region:i=cp.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=mT(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return pT(this,arguments,void 0,function*(t,n={}){var i;let a,u;try{const{headers:h,method:f,body:m,signal:v,timeout:b}=n;let E={},{region:C}=n;C||(C=this.region);const j=new URL(`${this.url}/${t}`);C&&C!=="any"&&(E["x-region"]=C,j.searchParams.set("forceFunctionRegion",C));let D;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",D=m):typeof m=="string"?(E["Content-Type"]="text/plain",D=m):typeof FormData<"u"&&m instanceof FormData?D=m:(E["Content-Type"]="application/json",D=JSON.stringify(m)):D=m;let N=v;b&&(u=new AbortController,a=setTimeout(()=>u.abort(),b),v?(N=u.signal,v.addEventListener("abort",()=>u.abort())):N=u.signal);const K=yield this.fetch(j.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),h),body:D,signal:N}).catch(ge=>{throw new gT(ge)}),H=K.headers.get("x-relay-error");if(H&&H==="true")throw new Pv(K);if(!K.ok)throw new Nv(K);let z=((i=K.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),ee;return z==="application/json"?ee=yield K.json():z==="application/octet-stream"||z==="application/pdf"?ee=yield K.blob():z==="text/event-stream"?ee=K:z==="multipart/form-data"?ee=yield K.formData():ee=yield K.text(),{data:ee,error:null,response:K}}catch(h){return{data:null,error:h,response:h instanceof Nv||h instanceof Pv?h.context:void 0}}finally{a&&clearTimeout(a)}})}}var vT=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},wT=class{constructor(r){var e,t;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(t=r.isMaybeSingle)!==null&&t!==void 0?t:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let u=null,h=null,f=null,m=a.status,v=a.statusText;if(a.ok){var b,E;if(t.method!=="HEAD"){var C;const K=await a.text();K===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((C=t.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?h=K:h=JSON.parse(K))}const D=(b=t.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),N=(E=a.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");D&&N&&N.length>1&&(f=parseInt(N[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var j;const D=await a.text();try{u=JSON.parse(D),Array.isArray(u)&&a.status===404&&(h=[],u=null,m=200,v="OK")}catch{a.status===404&&D===""?(m=204,v="No Content"):u={message:D}}if(u&&t.isMaybeSingle&&(!(u==null||(j=u.details)===null||j===void 0)&&j.includes("0 rows"))&&(u=null,m=200,v="OK"),u&&t.shouldThrowOnError)throw new vT(u)}return{error:u,data:h,count:f,status:m,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var u;let h="";const f=a?.cause;if(f){var m,v,b,E;const j=(m=f?.message)!==null&&m!==void 0?m:"",D=(v=f?.code)!==null&&v!==void 0?v:"";h=`${(b=a?.name)!==null&&b!==void 0?b:"FetchError"}: ${a?.message}`,h+=`

Caused by: ${(E=f?.name)!==null&&E!==void 0?E:"Error"}: ${j}`,D&&(h+=` (${D})`),f?.stack&&(h+=`
${f.stack}`)}else{var C;h=(C=a?.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(u=a?.name)!==null&&u!==void 0?u:"FetchError"}: ${a?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(r,e)}returns(){return this}overrideTypes(){return this}},_T=class extends wT{select(r){let e=!1;const t=(r??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:t,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",u=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${u?`${u},`:""}${r}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:t=e}={}){const n=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${r}`),this}range(r,e,{foreignTable:t,referencedTable:n=t}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${r}`),this.url.searchParams.set(a,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:t=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var u;const h=[r?"analyze":null,e?"verbose":null,t?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${f}"; options=${h};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Ov=new RegExp("[,()]");var ra=class extends _T{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const t=Array.from(new Set(e)).map(n=>typeof n=="string"&&Ov.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(r,`in.(${t})`),this}notIn(r,e){const t=Array.from(new Set(e)).map(n=>typeof n=="string"&&Ov.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(r,`not.in.(${t})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:t,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=t===void 0?"":`(${t})`;return this.url.searchParams.append(r,`${i}fts${a}.${e}`),this}match(r){return Object.entries(r).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(r,e,t){return this.url.searchParams.append(r,`not.${e}.${t}`),this}or(r,{foreignTable:e,referencedTable:t=e}={}){const n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${r})`),this}filter(r,e,t){return this.url.searchParams.append(r,`${e}.${t}`),this}},bT=class{constructor(r,{headers:e={},schema:t,fetch:n}){this.url=r,this.headers=new Headers(e),this.schema=t,this.fetch=n}select(r,e){const{head:t=!1,count:n}=e??{},i=t?"HEAD":"GET";let a=!1;const u=(r??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",u),n&&this.headers.append("Prefer",`count=${n}`),new ra({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:t=!0}={}){var n;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const a=r.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(a.length>0){const u=[...new Set(a)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new ra({method:i,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:t=!1,count:n,defaultToNull:i=!0}={}){var a;const u="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new ra({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(r,{count:e}={}){var t;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ra({method:n,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:r}={}){var e;const t="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new ra({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},ET=class r_{constructor(e,{headers:t={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new bT(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new r_(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:i=!1,count:a}={}){var u;let h;const f=new URL(`${this.url}/rpc/${e}`);let m;n||i?(h=n?"HEAD":"GET",Object.entries(t).filter(([b,E])=>E!==void 0).map(([b,E])=>[b,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([b,E])=>{f.searchParams.append(b,E)})):(h="POST",m=t);const v=new Headers(this.headers);return a&&v.set("Prefer",`count=${a}`),new ra({method:h,url:f,headers:v,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class xT{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const n=t.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const TT="2.89.0",kT=`realtime-js/${TT}`,n_="1.0.0",ST="2.0.0",jv=n_,dp=1e4,AT=1e3,IT=100;var Us;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Us||(Us={}));var Mt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Mt||(Mt={}));var wn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(wn||(wn={}));var hp;(function(r){r.websocket="websocket"})(hp||(hp={}));var $i;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})($i||($i={}));class CT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const i=(n=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,n;const i=(n=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&n!==void 0?n:{},u=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,t,n){var i,a;const u=e.topic,h=(i=e.ref)!==null&&i!==void 0?i:"",f=(a=e.join_ref)!==null&&a!==void 0?a:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(v).length===0?"":JSON.stringify(v);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+u.length+m.length+b.length,C=new ArrayBuffer(this.HEADER_LENGTH+E);let j=new DataView(C),D=0;j.setUint8(D++,this.KINDS.userBroadcastPush),j.setUint8(D++,f.length),j.setUint8(D++,h.length),j.setUint8(D++,u.length),j.setUint8(D++,m.length),j.setUint8(D++,b.length),j.setUint8(D++,t),Array.from(f,K=>j.setUint8(D++,K.charCodeAt(0))),Array.from(h,K=>j.setUint8(D++,K.charCodeAt(0))),Array.from(u,K=>j.setUint8(D++,K.charCodeAt(0))),Array.from(m,K=>j.setUint8(D++,K.charCodeAt(0))),Array.from(b,K=>j.setUint8(D++,K.charCodeAt(0)));var N=new Uint8Array(C.byteLength+n.byteLength);return N.set(new Uint8Array(C),0),N.set(new Uint8Array(n),C.byteLength),N.buffer}decode(e,t){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return t(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,u,h,f]=n;return t({join_ref:i,ref:a,topic:u,event:h,payload:f})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodeUserBroadcast(e,t,n){const i=t.getUint8(1),a=t.getUint8(2),u=t.getUint8(3),h=t.getUint8(4);let f=this.HEADER_LENGTH+4;const m=n.decode(e.slice(f,f+i));f=f+i;const v=n.decode(e.slice(f,f+a));f=f+a;const b=n.decode(e.slice(f,f+u));f=f+u;const E=e.slice(f,e.byteLength),C=h===this.JSON_ENCODING?JSON.parse(n.decode(E)):E,j={type:this.BROADCAST_EVENT,event:v,payload:C};return u>0&&(j.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>t.includes(n)))}}let s_=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var it;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(it||(it={}));const Dv=(r,e,t={})=>{var n;const i=(n=t.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=RT(u,r,e,i),a),{}):{}},RT=(r,e,t,n)=>{const i=e.find(h=>h.name===r),a=i?.type,u=t[r];return a&&!n.includes(a)?i_(a,u):fp(u)},i_=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return jT(e,t)}switch(r){case it.bool:return PT(e);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return NT(e);case it.json:case it.jsonb:return OT(e);case it.timestamp:return DT(e);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return fp(e);default:return fp(e)}},fp=r=>r,PT=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},NT=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},OT=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},jT=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let a;const u=r.slice(1,t);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>i_(e,h))}return r},DT=r=>typeof r=="string"?r.replace(" ","T"):r,o_=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lf{constructor(e,t,n={},i=dp){this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lv;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Lv||(Lv={}));class jl{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jl.syncState(this.state,i,a,u),this.pendingDiffs.forEach(f=>{this.state=jl.syncDiff(this.state,f,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=jl.syncDiff(this.state,i,a,u),h())}),this.onJoin((i,a,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:u})}),this.onLeave((i,a,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){const a=this.cloneDeep(e),u=this.transformState(t),h={},f={};return this.map(a,(m,v)=>{u[m]||(f[m]=v)}),this.map(u,(m,v)=>{const b=a[m];if(b){const E=v.map(N=>N.presence_ref),C=b.map(N=>N.presence_ref),j=v.filter(N=>C.indexOf(N.presence_ref)<0),D=b.filter(N=>E.indexOf(N.presence_ref)<0);j.length>0&&(h[m]=j),D.length>0&&(f[m]=D)}else h[m]=v}),this.syncDiff(a,{joins:h,leaves:f},n,i)}static syncDiff(e,t,n,i){const{joins:a,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(h,f)=>{var m;const v=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(f),v.length>0){const b=e[h].map(C=>C.presence_ref),E=v.filter(C=>b.indexOf(C.presence_ref)<0);e[h].unshift(...E)}n(h,v,f)}),this.map(u,(h,f)=>{let m=e[h];if(!m)return;const v=f.map(b=>b.presence_ref);m=m.filter(b=>v.indexOf(b.presence_ref)<0),e[h]=m,i(h,m,f),m.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const i=e[n];return"metas"in i?t[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[n]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vv;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Vv||(Vv={}));var Dl;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Dl||(Dl={}));var ls;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ls||(ls={}));class ua{constructor(e,t={config:{}},n){var i,a;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Lf(this,wn.join,this.params,this.timeout),this.rejoinTimer=new s_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new jl(this),this.broadcastEndpointURL=o_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(C=>C.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[Dl.PRESENCE]&&this.bindings[Dl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,b={},E={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(C=>e?.(ls.CHANNEL_ERROR,C)),this._onClose(()=>e?.(ls.CLOSED)),this.updateJoinPayload(Object.assign({config:E},b)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:C})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){e?.(ls.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,N=(j=D?.length)!==null&&j!==void 0?j:0,K=[];for(let H=0;H<N;H++){const z=D[H],{filter:{event:ee,schema:ge,table:ce,filter:L}}=z,T=C&&C[H];if(T&&T.event===ee&&ua.isFilterValueEqual(T.schema,ge)&&ua.isFilterValueEqual(T.table,ce)&&ua.isFilterValueEqual(T.filter,L))K.push(Object.assign(Object.assign({},z),{id:T.id}));else{this.unsubscribe(),this.state=Mt.errored,e?.(ls.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=K,e&&e(ls.SUBSCRIBED);return}}).receive("error",C=>{this.state=Mt.errored,e?.(ls.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{e?.(ls.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Mt.joined&&e===Dl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){var i;if(t==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const m=await h.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,f;const m=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Mt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Lf(this,wn.leave,{},e),n.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mt.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(a),u}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Lf(this,e,t,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>IT){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,a;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:m,join:v}=wn;if(n&&[h,f,m,v].indexOf(u)>=0&&n!==this._joinRef())return;let E=this._onMessage(u,t,n);if(t&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(C=>{var j,D,N;return((j=C.filter)===null||j===void 0?void 0:j.event)==="*"||((N=(D=C.filter)===null||D===void 0?void 0:D.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(C=>C.callback(E,n)):(a=this.bindings[u])===null||a===void 0||a.filter(C=>{var j,D,N,K,H,z;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in C){const ee=C.id,ge=(j=C.filter)===null||j===void 0?void 0:j.event;return ee&&((D=t.ids)===null||D===void 0?void 0:D.includes(ee))&&(ge==="*"||ge?.toLocaleLowerCase()===((N=t.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const ee=(H=(K=C?.filter)===null||K===void 0?void 0:K.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return ee==="*"||ee===((z=t?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===u}).map(C=>{if(typeof E=="object"&&"ids"in E){const j=E.data,{schema:D,table:N,commit_timestamp:K,type:H,errors:z}=j;E=Object.assign(Object.assign({},{schema:D,table:N,commit_timestamp:K,eventType:H,new:{},old:{},errors:z}),this._getPayloadRecords(j))}C.callback(E,n)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const i=e.toLocaleLowerCase(),a={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ua.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wn.close,{},e)}_onError(e){this._on(wn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Dv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Dv(e.columns,e.old_record)),t}}const Vf=()=>{},Dc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LT=[1e3,2e3,5e3,1e4],VT=1e4,MT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $T{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dp,this.transport=null,this.heartbeatIntervalMs=Dc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vf,this.ref=0,this.reconnectTimer=null,this.vsn=jv,this.logger=Vf,this.conn=null,this.sendBuffer=[],this.serializer=new CT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=t?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${hp.websocket}`,this.httpEndpoint=o_(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xT.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Us.connecting:return $i.Connecting;case Us.open:return $i.Open;case Us.closing:return $i.Closing;default:return $i.Closed}}isConnected(){return this.connectionState()===$i.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new ua(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:n,payload:i,ref:a}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${t} ${n} (${a})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(AT,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Dc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:u}=t,h=u?`(${u})`:"",f=a.status||"";this.log("receive",`${f} ${n} ${i} ${h}`.trim(),a),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,a,u)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Us.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Us.open||this.conn.readyState===Us.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${n}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([MT],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,n=!1;if(e)t=e,n=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const a={access_token:t,version:kT};t&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(wn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new s_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Dc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,i,a,u,h,f,m,v,b,E,C;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:dp,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Dc.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:Vf,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:jv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(j=>LT[j-1]||VT),this.vsn){case n_:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((j,D)=>D(JSON.stringify(j))),this.decode=(b=e?.decode)!==null&&b!==void 0?b:((j,D)=>D(JSON.parse(j)));break;case ST:this.encode=(E=e?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(C=e?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var ql=class extends Error{constructor(r,e){super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function UT(r,e,t){const n=new URL(e,r);if(t)for(const[i,a]of Object.entries(t))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function FT(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function BT(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:t,path:n,query:i,body:a,headers:u}){const h=UT(r.baseUrl,n,i),f=await FT(r.auth),m=await e(h,{method:t,headers:{...a?{"Content-Type":"application/json"}:{},...f,...u},body:a?JSON.stringify(a):void 0}),v=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),E=b&&v?JSON.parse(v):v;if(!m.ok){const C=b?E:void 0,j=C?.error;throw new ql(j?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:j?.type,icebergCode:j?.code,details:C})}return{status:m.status,headers:m.headers,data:E}}}}function Lc(r){return r.join("")}var zT=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:Lc(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(r,e){const t={namespace:r.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lc(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lc(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lc(r.namespace)}`}),!0}catch(e){if(e instanceof ql&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(t){if(t instanceof ql&&t.status===409)return;throw t}}};function Jo(r){return r.join("")}var qT=class{constructor(r,e="",t){this.client=r,this.prefix=e,this.accessDelegation=t}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jo(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Jo(r.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(r,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Jo(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jo(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jo(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jo(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(t){if(t instanceof ql&&t.status===404)return!1;throw t}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(t){if(t instanceof ql&&t.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw t}}},WT=class{constructor(r){let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const t=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=BT({baseUrl:t,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new zT(this.client,e),this.tableOps=new qT(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},Vd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function mt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var HT=class extends Vd{constructor(r,e,t){super(r),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},pp=class extends Vd{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const Zp=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),KT=()=>Response,mp=r=>{if(Array.isArray(r))return r.map(t=>mp(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const i=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=mp(n)}),e},GT=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},QT=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Wl(r){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(r)}function JT(r,e){if(Wl(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function YT(r){var e=JT(r,"string");return Wl(e)=="symbol"?e:e+""}function XT(r,e,t){return(e=YT(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mv(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Re(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mv(Object(t),!0).forEach(function(n){XT(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Mv(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const Mf=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},ZT=async(r,e,t)=>{r instanceof await KT()&&!t?.noResolveJson?r.json().then(n=>{const i=r.status||500,a=n?.statusCode||i+"";e(new HT(Mf(n),i,a))}).catch(n=>{e(new pp(Mf(n),n))}):e(new pp(Mf(r),r))},ek=(r,e,t,n)=>{const i={method:r,headers:e?.headers||{}};return r==="GET"||!n?i:(GT(n)?(i.headers=Re({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Re(Re({},i),t))};async function au(r,e,t,n,i,a){return new Promise((u,h)=>{r(t,ek(e,n,i,a)).then(f=>{if(!f.ok)throw f;return n?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>ZT(f,h,n))})}async function Hl(r,e,t,n){return au(r,"GET",e,t,n)}async function vn(r,e,t,n,i){return au(r,"POST",e,n,i,t)}async function gp(r,e,t,n,i){return au(r,"PUT",e,n,i,t)}async function tk(r,e,t,n){return au(r,"HEAD",e,Re(Re({},t),{},{noResolveJson:!0}),n)}async function em(r,e,t,n,i){return au(r,"DELETE",e,n,i,t)}var rk=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(mt(e))return{data:null,error:e};throw e}}};let a_;a_=Symbol.toStringTag;var nk=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[a_]="BlobDownloadBuilder",this.promise=null}asStream(){return new rk(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(mt(e))return{data:null,error:e};throw e}}};const sk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$v={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ik=class{constructor(r,e={},t,n){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=t,this.fetch=Zp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,t,n){var i=this;try{let a;const u=Re(Re({},$v),n);let h=Re(Re({},i.headers),r==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&t instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),f&&a.append("metadata",i.encodeMetadata(f)),a.append("",t)):typeof FormData<"u"&&t instanceof FormData?(a=t,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),f&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(f))):(a=t,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=i.toBase64(i.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),n?.headers&&(h=Re(Re({},h),n.headers));const m=i._removeEmptyFolders(e),v=i._getFinalPath(m),b=await(r=="PUT"?gp:vn)(i.fetch,`${i.url}/object/${v}`,a,Re({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async upload(r,e,t){return this.uploadOrUpdate("POST",r,e,t)}async uploadToSignedUrl(r,e,t,n){var i=this;const a=i._removeEmptyFolders(r),u=i._getFinalPath(a),h=new URL(i.url+`/object/upload/sign/${u}`);h.searchParams.set("token",e);try{let f;const m=Re({upsert:$v.upsert},n),v=Re(Re({},i.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&t instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",t)):typeof FormData<"u"&&t instanceof FormData?(f=t,f.append("cacheControl",m.cacheControl)):(f=t,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType),{data:{path:a,fullPath:(await gp(i.fetch,h.toString(),f,{headers:v})).Key},error:null}}catch(f){if(i.shouldThrowOnError)throw f;if(mt(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(r,e){var t=this;try{let n=t._getFinalPath(r);const i=Re({},t.headers);e?.upsert&&(i["x-upsert"]="true");const a=await vn(t.fetch,`${t.url}/object/upload/sign/${n}`,{},{headers:i}),u=new URL(t.url+a.url),h=u.searchParams.get("token");if(!h)throw new Vd("No token returned by API");return{data:{signedUrl:u.toString(),path:r,token:h},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async update(r,e,t){return this.uploadOrUpdate("PUT",r,e,t)}async move(r,e,t){var n=this;try{return{data:await vn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async copy(r,e,t){var n=this;try{return{data:{path:(await vn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async createSignedUrl(r,e,t){var n=this;try{let i=n._getFinalPath(r),a=await vn(n.fetch,`${n.url}/object/sign/${i}`,Re({expiresIn:e},t?.transform?{transform:t.transform}:{}),{headers:n.headers});const u=t?.download?`&download=${t.download===!0?"":t.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async createSignedUrls(r,e,t){var n=this;try{const i=await vn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:r},{headers:n.headers}),a=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{data:i.map(u=>Re(Re({},u),{},{signedUrl:u.signedURL?encodeURI(`${n.url}${u.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}download(r,e){const t=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",a=this._getFinalPath(r),u=()=>Hl(this.fetch,`${this.url}/${t}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new nk(u,this.shouldThrowOnError)}async info(r){var e=this;const t=e._getFinalPath(r);try{return{data:mp(await Hl(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async exists(r){var e=this;const t=e._getFinalPath(r);try{return await tk(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n)&&n instanceof pp){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(r,e){const t=this._getFinalPath(r),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const a=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&n.push(u);let h=n.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${t}${h}`)}}}async remove(r){var e=this;try{return{data:await em(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}}async list(r,e,t){var n=this;try{const i=Re(Re(Re({},sk),e),{},{prefix:r||""});return{data:await vn(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},t),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async listV2(r,e){var t=this;try{const n=Re({},r);return{data:await vn(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,n,{headers:t.headers},e),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const l_="2.89.0",u_={"X-Client-Info":`storage-js/${l_}`};var ok=class{constructor(r,e={},t,n){this.shouldThrowOnError=!1;const i=new URL(r);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Re(Re({},u_),e),this.fetch=Zp(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const t=e.listBucketOptionsToQueryString(r);return{data:await Hl(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await Hl(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}}async createBucket(r,e={public:!1}){var t=this;try{return{data:await vn(t.fetch,`${t.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async updateBucket(r,e){var t=this;try{return{data:await gp(t.fetch,`${t.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async emptyBucket(r){var e=this;try{return{data:await vn(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await em(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},ak=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Re(Re({},u_),e),this.fetch=Zp(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await vn(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}}async listBuckets(r){var e=this;try{const t=new URLSearchParams;r?.limit!==void 0&&t.set("limit",r.limit.toString()),r?.offset!==void 0&&t.set("offset",r.offset.toString()),r?.sortColumn&&t.set("sortColumn",r.sortColumn),r?.sortOrder&&t.set("sortOrder",r.sortOrder),r?.search&&t.set("search",r.search);const n=t.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Hl(e.fetch,i,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await em(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}}from(r){var e=this;if(!QT(r))throw new Vd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new WT({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(t,{get(i,a){const u=i[a];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(i,h),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}};const tm={"X-Client-Info":`storage-js/${l_}`,"Content-Type":"application/json"};var c_=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vr(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var $f=class extends c_{constructor(r,e,t){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lk=class extends c_{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const rm=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),uk=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Uv=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ck=async(r,e,t)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!t?.noResolveJson){const n=r.status||500,i=r;if(typeof i.json=="function")i.json().then(a=>{const u=a?.statusCode||a?.code||n+"";e(new $f(Uv(a),n,u))}).catch(()=>{const a=n+"";e(new $f(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";e(new $f(i.statusText||`HTTP ${n} error`,n,a))}}else e(new lk(Uv(r),r))},dk=(r,e,t,n)=>{const i={method:r,headers:e?.headers||{}};return n?(uk(n)?(i.headers=Re({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Re(Re({},i),t)):i};async function hk(r,e,t,n,i,a){return new Promise((u,h)=>{r(t,dk(e,n,i,a)).then(f=>{if(!f.ok)throw f;if(n?.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>ck(f,h,n))})}async function Mr(r,e,t,n,i){return hk(r,"POST",e,n,i,t)}var fk=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Re(Re({},tm),e),this.fetch=rm(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}}async getIndex(r,e){var t=this;try{return{data:await Mr(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vr(n))return{data:null,error:n};throw n}}async listIndexes(r){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}}async deleteIndex(r,e){var t=this;try{return{data:await Mr(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vr(n))return{data:null,error:n};throw n}}},pk=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Re(Re({},tm),e),this.fetch=rm(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Mr(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}}async getVectors(r){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Mr(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}}async queryVectors(r){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Mr(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}}},mk=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Re(Re({},tm),e),this.fetch=rm(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}}async listBuckets(r={}){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vr(t))return{data:null,error:t};throw t}}},gk=class extends mk{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new yk(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,t=this;return e().call(t,r)}async getBucket(r){var e=()=>super.getBucket,t=this;return e().call(t,r)}async listBuckets(r={}){var e=()=>super.listBuckets,t=this;return e().call(t,r)}async deleteBucket(r){var e=()=>super.deleteBucket,t=this;return e().call(t,r)}},yk=class extends fk{constructor(r,e,t,n){super(r,e,n),this.vectorBucketName=t}async createIndex(r){var e=()=>super.createIndex,t=this;return e().call(t,Re(Re({},r),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,t=this;return e().call(t,Re(Re({},r),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,r)}index(r){return new vk(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},vk=class extends pk{constructor(r,e,t,n,i){super(r,e,i),this.vectorBucketName=t,this.indexName=n}async putVectors(r){var e=()=>super.putVectors,t=this;return e().call(t,Re(Re({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(r){var e=()=>super.getVectors,t=this;return e().call(t,Re(Re({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,t=this;return e().call(t,Re(Re({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,t=this;return e().call(t,Re(Re({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,t=this;return e().call(t,Re(Re({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},wk=class extends ok{constructor(r,e={},t,n){super(r,e,t,n)}from(r){return new ik(this.url,this.headers,r,this.fetch)}get vectors(){return new gk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ak(this.url+"/iceberg",this.headers,this.fetch)}};const d_="2.89.0",na=30*1e3,yp=3,Uf=yp*na,_k="http://localhost:9999",bk="supabase.auth.token",Ek={"X-Client-Info":`gotrue-js/${d_}`},vp="X-Supabase-Api-Version",h_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tk=600*1e3;class Kl extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Ee(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class kk extends Kl{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Sk(r){return Ee(r)&&r.name==="AuthApiError"}class Ui extends Kl{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ps extends Kl{constructor(e,t,n,i){super(e,n,i),this.name=t,this.status=n}}class Lr extends ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ak(r){return Ee(r)&&r.name==="AuthSessionMissingError"}class Yo extends ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vc extends ps{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mc extends ps{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ik(r){return Ee(r)&&r.name==="AuthImplicitGrantRedirectError"}class Fv extends ps{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ck extends ps{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class wp extends ps{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ff(r){return Ee(r)&&r.name==="AuthRetryableFetchError"}class Bv extends ps{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class _p extends ps{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zv=` 	
\r=`.split(""),Rk=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<zv.length;e+=1)r[zv[e].charCodeAt(0)]=-2;for(let e=0;e<sd.length;e+=1)r[sd[e].charCodeAt(0)]=e;return r})();function qv(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(sd[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(sd[n]),e.queuedBits-=6}}function f_(r,e,t){const n=Rk[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Wv(r){const e=[],t=u=>{e.push(String.fromCodePoint(u))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=u=>{Ok(u,n,t)};for(let u=0;u<r.length;u+=1)f_(r.charCodeAt(u),i,a);return e.join("")}function Pk(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Nk(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}Pk(n,e)}}function Ok(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ca(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<r.length;i+=1)f_(r.charCodeAt(i),t,n);return new Uint8Array(e)}function jk(r){const e=[];return Nk(r,t=>e.push(t)),new Uint8Array(e)}function Fi(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};return r.forEach(i=>qv(i,t,n)),qv(null,t,n),e.join("")}function Dk(r){return Math.round(Date.now()/1e3)+r}function Lk(){return Symbol("auth-callback")}const Zt=()=>typeof window<"u"&&typeof document<"u",ji={tested:!1,writable:!1},p_=()=>{if(!Zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ji.tested)return ji.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ji.tested=!0,ji.writable=!0}catch{ji.tested=!0,ji.writable=!1}return ji.writable};function Vk(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return t.searchParams.forEach((n,i)=>{e[i]=n}),e}const m_=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Mk=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",sa=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Di=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Xt=async(r,e)=>{await r.removeItem(e)};let g_=class y_{constructor(){this.promise=new y_.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};g_.promiseConstructor=Promise;function Bf(r){const e=r.split(".");if(e.length!==3)throw new _p("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!xk.test(e[n]))throw new _p("JWT not in base64url format");return{header:JSON.parse(Wv(e[0])),payload:JSON.parse(Wv(e[1])),signature:ca(e[2]),raw:{header:e[0],payload:e[1]}}}async function $k(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Uk(r,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await r(a);if(!e(a,null,u)){n(u);return}}catch(u){if(!e(a,u)){i(u);return}}})()})}function Fk(r){return("0"+r.toString(16)).substr(-2)}function Bk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let i="";for(let a=0;a<56;a++)i+=t.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Fk).join("")}async function zk(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function qk(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await zk(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xo(r,e,t=!1){const n=Bk();let i=n;t&&(i+="/PASSWORD_RECOVERY"),await sa(r,`${e}-code-verifier`,i);const a=await qk(n);return[a,n===a?"plain":"s256"]}const Wk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hk(r){const e=r.headers.get(vp);if(!e||!e.match(Wk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Kk(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Gk(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Qk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zo(r){if(!Qk.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zf(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jk(r,e){return new Proxy(r,{get:(t,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,n,i)}})}function Hv(r){return JSON.parse(JSON.stringify(r))}const Vi=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Yk=[502,503,504];async function Kv(r){var e;if(!Mk(r))throw new wp(Vi(r),0);if(Yk.includes(r.status))throw new wp(Vi(r),r.status);let t;try{t=await r.json()}catch(a){throw new Ui(Vi(a),a)}let n;const i=Hk(r);if(i&&i.getTime()>=h_["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Bv(Vi(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Lr}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Bv(Vi(t),r.status,t.weak_password.reasons);throw new kk(Vi(t),r.status||500,n)}const Xk=(r,e,t,n)=>{const i={method:r,headers:e?.headers||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),t))};async function Ce(r,e,t,n){var i;const a=Object.assign({},n?.headers);a[vp]||(a[vp]=h_["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const u=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(u.redirect_to=n.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await Zk(r,e,t+h,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(f):{data:Object.assign({},f),error:null}}async function Zk(r,e,t,n,i,a){const u=Xk(e,n,i,a);let h;try{h=await r(t,Object.assign({},u))}catch(f){throw console.error(f),new wp(Vi(f),0)}if(h.ok||await Kv(h),n?.noResolveJson)return h;try{return await h.json()}catch(f){await Kv(f)}}function yn(r){var e;let t=null;rS(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Dk(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function Gv(r){const e=yn(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Fs(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function eS(r){return{data:r,error:null}}function tS(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:a}=r,u=Ld(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:a},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function Qv(r){return r}function rS(r){return r.access_token&&r.refresh_token&&r.expires_in}const qf=["global","local","others"];class nS{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=m_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=qf[0]){if(qf.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qf.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Fs})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Ld(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:tS,redirectTo:t?.redirectTo})}catch(t){if(Ee(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fs})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,i,a,u,h,f;try{const m={nextPage:null,lastPage:0,total:0},v=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Qv});if(v.error)throw v.error;const b=await v.json(),E=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return C.length>0&&(C.forEach(j=>{const D=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(j.split(";")[1].split("=")[1]);m[`${N}Page`]=D}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(Ee(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Zo(e);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fs})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Zo(e);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Fs})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Zo(e);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Fs})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Zo(e.userId);try{const{data:t,error:n}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:n}}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Zo(e.userId),Zo(e.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,i,a,u,h,f;try{const m={nextPage:null,lastPage:0,total:0},v=await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Qv});if(v.error)throw v.error;const b=await v.json(),E=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return C.length>0&&(C.forEach(j=>{const D=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(j.split(";")[1].split("=")[1]);m[`${N}Page`]=D}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(Ee(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}}function Jv(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const ea={debug:!!(globalThis&&p_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class v_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sS extends v_{}async function iS(r,e,t){ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ea.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await t()}finally{ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(e===0)throw ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new sS(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ea.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function oS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function w_(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function aS(r){return parseInt(r,16)}function lS(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function uS(r){var e;const{chainId:t,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:u,notBefore:h,requestId:f,resources:m,scheme:v,uri:b,version:E}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const C=w_(r.address),j=v?`${v}://${n}`:n,D=r.statement?`${r.statement}
`:"",N=`${j} wants you to sign in with your Ethereum account:
${C}

${D}`;let K=`URI: ${b}
Version: ${E}
Chain ID: ${t}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(i&&(K+=`
Expiration Time: ${i.toISOString()}`),h&&(K+=`
Not Before: ${h.toISOString()}`),f&&(K+=`
Request ID: ${f}`),m){let H=`
Resources:`;for(const z of m){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);H+=`
- ${z}`}K+=H}return`${N}
${K}`}class Ct extends Error{constructor({message:e,code:t,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class id extends Ct{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function cS({error:r,options:e}){var t,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Ct({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return a.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(__(u)){if(a.rp.id!==u)return new Ct({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function dS({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Ct({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const n=window.location.hostname;if(__(n)){if(t.rpId!==n)return new Ct({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class hS{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const fS=new hS;function pS(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:n}=r,i=Ld(r,["challenge","user","excludeCredentials"]),a=ca(e).buffer,u=Object.assign(Object.assign({},t),{id:ca(t.id).buffer}),h=Object.assign(Object.assign({},i),{challenge:a,user:u});if(n&&n.length>0){h.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const m=n[f];h.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:ca(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function mS(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,n=Ld(r,["challenge","allowCredentials"]),i=ca(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let u=0;u<t.length;u++){const h=t[u];a.allowCredentials[u]=Object.assign(Object.assign({},h),{id:ca(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return a}function gS(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:Fi(new Uint8Array(r.response.attestationObject)),clientDataJSON:Fi(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yS(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,n=r.getClientExtensionResults(),i=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Fi(new Uint8Array(i.authenticatorData)),clientDataJSON:Fi(new Uint8Array(i.clientDataJSON)),signature:Fi(new Uint8Array(i.signature)),userHandle:i.userHandle?Fi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function __(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Yv(){var r,e;return!!(Zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function vS(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new id("Browser returned unexpected credential type",e)}:{data:null,error:new id("Empty credential response",e)}}catch(e){return{data:null,error:cS({error:e,options:r})}}}async function wS(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new id("Browser returned unexpected credential type",e)}:{data:null,error:new id("Empty credential response",e)}}catch(e){return{data:null,error:dS({error:e,options:r})}}}const _S={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},bS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function od(...r){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of r)if(i)for(const a in i){const u=i[a];if(u!==void 0)if(Array.isArray(u))n[a]=u;else if(t(u))n[a]=u;else if(e(u)){const h=n[a];e(h)?n[a]=od(h,u):n[a]=od(u)}else n[a]=u}return n}function ES(r,e){return od(_S,r,e||{})}function xS(r,e){return od(bS,r,e||{})}class TS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:i},a){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:h};const f=i??fS.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=ES(u.webauthn.credential_options.publicKey,a?.create),{data:v,error:b}=await vS({publicKey:m,signal:f});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const m=xS(u.webauthn.credential_options.publicKey,a?.request),{data:v,error:b}=await wS(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:f}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(u){return Ee(u)?{data:null,error:u}:{data:null,error:new Ui("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!t)return{data:null,error:new Kl("rpId is required for WebAuthn authentication")};try{if(!Yv())return{data:null,error:new Ui("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:i},{request:a});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:t,rpOrigins:n,credential_response:f.credential_response}})}catch(u){return Ee(u)?{data:null,error:u}:{data:null,error:new Ui("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!t)return{data:null,error:new Kl("rpId is required for WebAuthn registration")};try{if(!Yv())return{data:null,error:new Ui("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var b;return(b=v.data)===null||b===void 0?void 0:b.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===e&&E.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:f,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:i},{create:a});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:t,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(u){return Ee(u)?{data:null,error:u}:{data:null,error:new Ui("Unexpected error in register",u)}}}}oS();const kS={url:_k,storageKey:bk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ek,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Xv(r,e,t){return await t()}const ta={};class Gl{get jwks(){var e,t;return(t=(e=ta[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ta[this.storageKey]=Object.assign(Object.assign({},ta[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ta[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ta[this.storageKey]=Object.assign(Object.assign({},ta[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},kS),e);if(this.storageKey=a.storageKey,this.instanceID=(t=Gl.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Gl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Zt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new nS({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=m_(a.fetch),this.lock=a.lock||Xv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Zt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=iS:this.lock=Xv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new TS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:p_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jv(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Jv(this.memoryStorage)),Zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${d_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},n="none";if(Zt()&&(t=Vk(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),Zt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ik(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:h}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ee(t)?this._returnResult({error:t}):this._returnResult({error:new Ui("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,i;try{const a=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:yn}),{data:u,error:h}=a;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(Ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,n,i;try{let a;if("email"in e){const{email:v,password:b,options:E}=e;let C=null,j=null;this.flowType==="pkce"&&([C,j]=await Xo(this.storage,this.storageKey)),a=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:v,password:b,data:(t=E?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:C,code_challenge_method:j},xform:yn})}else if("phone"in e){const{phone:v,password:b,options:E}=e;a=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(n=E?.data)!==null&&n!==void 0?n:{},channel:(i=E?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:yn})}else throw new Vc("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return await Xt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(await Xt(this.storage,`${this.storageKey}-code-verifier`),Ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:u,options:h}=e;t=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Gv})}else if("phone"in e){const{phone:a,password:u,options:h}=e;t=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Gv})}else throw new Vc("You must provide either an email or phone number and a password");const{data:n,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Yo;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(t){if(Ee(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,n,i,a,u,h,f,m,v,b,E;let C,j;if("message"in e)C=e.message,j=e.signature;else{const{chain:D,wallet:N,statement:K,options:H}=e;let z;if(Zt())if(typeof N=="object")z=N;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")z=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=N}const ee=new URL((t=H?.url)!==null&&t!==void 0?t:window.location.href),ge=await z.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ge||ge.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ce=w_(ge[0]);let L=(n=H?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!L){const P=await z.request({method:"eth_chainId"});L=aS(P)}const T={domain:ee.host,address:ce,statement:K,uri:ee.href,version:"1",chainId:L,nonce:(i=H?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(a=H?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=H?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=H?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=H?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=H?.signInWithEthereum)===null||v===void 0?void 0:v.resources};C=uS(T),j=await z.request({method:"personal_sign",params:[lS(C),ce]})}try{const{data:D,error:N}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:j},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:yn});if(N)throw N;if(!D||!D.session||!D.user){const K=new Yo;return this._returnResult({data:{user:null,session:null},error:K})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:N})}catch(D){if(Ee(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async signInWithSolana(e){var t,n,i,a,u,h,f,m,v,b,E,C;let j,D;if("message"in e)j=e.message,D=e.signature;else{const{chain:N,wallet:K,statement:H,options:z}=e;let ee;if(Zt())if(typeof K=="object")ee=K;else{const ce=window;if("solana"in ce&&typeof ce.solana=="object"&&("signIn"in ce.solana&&typeof ce.solana.signIn=="function"||"signMessage"in ce.solana&&typeof ce.solana.signMessage=="function"))ee=ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof K!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ee=K}const ge=new URL((t=z?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in ee&&ee.signIn){const ce=await ee.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:ge.host,uri:ge.href}),H?{statement:H}:null));let L;if(Array.isArray(ce)&&ce[0]&&typeof ce[0]=="object")L=ce[0];else if(ce&&typeof ce=="object"&&"signedMessage"in ce&&"signature"in ce)L=ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)j=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),D=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ee)||typeof ee.signMessage!="function"||!("publicKey"in ee)||typeof ee!="object"||!ee.publicKey||!("toBase58"in ee.publicKey)||typeof ee.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${ge.host} wants you to sign in with your Solana account:`,ee.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${ge.href}`,`Issued At: ${(i=(n=z?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=z?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((u=z?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((h=z?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((f=z?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((b=(v=z?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||b===void 0)&&b.length?["Resources",...z.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const ce=await ee.signMessage(new TextEncoder().encode(j),"utf8");if(!ce||!(ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=ce}}try{const{data:N,error:K}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Fi(D)},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:yn});if(K)throw K;if(!N||!N.session||!N.user){const H=new Yo;return this._returnResult({data:{user:null,session:null},error:H})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:K})}catch(N){if(Ee(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(e){const t=await Di(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(t??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Ck;const{data:a,error:u}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yn});if(await Xt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const h=new Yo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:u})}catch(a){if(await Xt(this.storage,`${this.storageKey}-code-verifier`),Ee(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:i,access_token:a,nonce:u}=e,h=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:yn}),{data:f,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const v=new Yo;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(t){if(Ee(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,i,a,u;try{if("email"in e){const{email:h,options:f}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Xo(this.storage,this.storageKey));const{error:b}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=f?.data)!==null&&t!==void 0?t:{},create_user:(n=f?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:h,options:f}=e,{data:m,error:v}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new Vc("You must provide either an email or phone number.")}catch(h){if(await Xt(this.storage,`${this.storageKey}-code-verifier`),Ee(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var t,n;try{let i,a;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:u,error:h}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:yn});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,m=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(i){if(Ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,n,i,a,u;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Xo(this.storage,this.storageKey));const m=await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:eS});return!((a=m.data)===null||a===void 0)&&a.url&&Zt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await Xt(this.storage,`${this.storageKey}-code-verifier`),Ee(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Lr;const{error:i}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:u}=await Ce(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:u,error:h}=await Ce(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new Vc("You must provide either an email or phone number and a type")}catch(t){if(Ee(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Di(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Uf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const u=await Di(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=zf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=Jk(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fs}):await this._useSession(async t=>{var n,i,a;const{data:u,error:h}=t;if(h)throw h;return!(!((n=u.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lr}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Fs})})}catch(t){if(Ee(t))return Ak(t)&&(await this._removeSession(),await Xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Lr;const u=i.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await Xo(this.storage,this.storageKey));const{data:m,error:v}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:Fs});if(v)throw v;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(n){if(await Xt(this.storage,`${this.storageKey}-code-verifier`),Ee(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Lr;const t=Date.now()/1e3;let n=t,i=!0,a=null;const{payload:u}=Bf(e.access_token);if(u.exp&&(n=u.exp,i=n<=t),i){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(Ee(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:u,error:h}=t;if(h)throw h;e=(n=u.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Lr;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Ee(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Zt())throw new Mc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Fv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mc("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fv("No code detected.");const{data:H,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const ee=new URL(window.location.href);return ee.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ee.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:u,expires_in:h,expires_at:f,token_type:m}=e;if(!a||!h||!u||!m)throw new Mc("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(h);let E=v+b;f&&(E=parseInt(f));const C=E-v;C*1e3<=na&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${b}s`);const j=E-b;v-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,E,v):v-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,E,v);const{data:D,error:N}=await this._getUser(a);if(N)throw N;const K={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:b,expires_at:E,refresh_token:u,token_type:m,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:K,redirectType:e.type},error:null})}catch(n){if(Ee(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Di(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:i,error:a}=t;if(a)return this._returnResult({error:a});const u=(n=i.session)===null||n===void 0?void 0:n.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(Sk(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Lk(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{const{data:{session:a},error:u}=t;if(u)throw u;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Xo(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await Xt(this.storage,`${this.storageKey}-code-verifier`),Ee(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(Ee(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:i}=await this._useSession(async a=>{var u,h,f,m,v;const{data:b,error:E}=a;if(E)throw E;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Zt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Ee(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:i,data:{session:a}}=t;if(i)throw i;const{options:u,provider:h,token:f,access_token:m,nonce:v}=e,b=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:h,id_token:f,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:yn}),{data:E,error:C}=b;return C?this._returnResult({data:{user:null,session:null},error:C}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Yo}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:C}))}catch(i){if(await Xt(this.storage,`${this.storageKey}-code-verifier`),Ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,i;const{data:a,error:u}=t;if(u)throw u;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Ee(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await Uk(async i=>(i>0&&await $k(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yn})),(i,a)=>{const u=200*Math.pow(2,i);return a&&Ff(a)&&Date.now()+u-n<na})}catch(n){if(this._debug(t,"error",n),Ee(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Zt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Di(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Di(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await sa(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u?.user)!==null&&e!==void 0?e:zf()}else if(i&&!i.user&&!i.user){const u=await Di(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await Xt(this.storage,this.storageKey+"-user"),await sa(this.storage,this.storageKey,i)):i.user=zf()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Uf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Uf}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),Ff(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(i.access_token);!h&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(n,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Lr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new g_;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new Lr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={data:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(i,"error",a),Ee(a)){const u={data:null,error:a};return Ff(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(f){a.push(f)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Xt(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await sa(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const a=Hv(i);await sa(this.storage,this.storageKey,a)}else{const i=Hv(t);await sa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Xt(this.storage,this.storageKey),await Xt(this.storage,this.storageKey+"-code-verifier"),await Xt(this.storage,this.storageKey+"-user"),this.userStorage&&await Xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Zt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),na);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/na);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${na}ms, refresh threshold is ${yp} ticks`),i<=yp&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof v_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,u]=await Xo(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(h.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:i,error:a}=t;return a?this._returnResult({data:null,error:a}):await Ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Ee(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;const{data:a,error:u}=t;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(t){if(Ee(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:a}=t;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?gS(e.webauthn.credential_response):yS(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(t){if(Ee(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:a}=t;if(a)return this._returnResult({data:null,error:a});const u=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:pS(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:mS(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Ee(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Bf(n.access_token);let u=null;a.aal&&(u=a.aal);let h=u;((t=(e=n.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(h="aal2");const m=a.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await Ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Lr})})}catch(t){if(Ee(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Lr});const u=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Zt()&&!t?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Lr});const u=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Zt()&&!t?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await Ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Lr})})}catch(e){if(Ee(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?(await Ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Lr})})}catch(t){if(Ee(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(h=>h.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(h=>h.kid===e),n&&this.jwks_cached_at+Tk>i)return n;const{data:a,error:u}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(h=>h.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:C,error:j}=await this.getSession();if(j||!C.session)return this._returnResult({data:null,error:j});n=C.session.access_token}const{header:i,payload:a,signature:u,raw:{header:h,payload:f}}=Bf(n);t?.allowExpired||Kk(a.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!m){const{error:C}=await this.getUser(n);if(C)throw C;return{data:{claims:a,header:i,signature:u},error:null}}const v=Gk(i.alg),b=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,b,u,jk(`${h}.${f}`)))throw new _p("Invalid JWT signature");return{data:{claims:a,header:i,signature:u},error:null}}catch(n){if(Ee(n))return this._returnResult({data:null,error:n});throw n}}}Gl.nextInstanceID={};const SS=Gl,AS="2.89.0";let Il="";typeof Deno<"u"?Il="deno":typeof document<"u"?Il="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Il="react-native":Il="node";const IS={"X-Client-Info":`supabase-js-${Il}/${AS}`},CS={headers:IS},RS={schema:"public"},PS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NS={};function Ql(r){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(r)}function OS(r,e){if(Ql(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function jS(r){var e=OS(r,"string");return Ql(e)=="symbol"?e:e+""}function DS(r,e,t){return(e=jS(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zv(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function vt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zv(Object(t),!0).forEach(function(n){DS(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Zv(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const LS=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),VS=()=>Headers,MS=(r,e,t)=>{const n=LS(t),i=VS();return async(a,u)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:r;let m=new i(u?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),n(a,vt(vt({},u),{},{headers:m}))}};function $S(r){return r.endsWith("/")?r:r+"/"}function US(r,e){var t,n;const{db:i,auth:a,realtime:u,global:h}=r,{db:f,auth:m,realtime:v,global:b}=e,E={db:vt(vt({},f),i),auth:vt(vt({},m),a),realtime:vt(vt({},v),u),storage:{},global:vt(vt(vt({},b),h),{},{headers:vt(vt({},(t=b?.headers)!==null&&t!==void 0?t:{}),(n=h?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return r.accessToken?E.accessToken=r.accessToken:delete E.accessToken,E}function FS(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($S(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var BS=class extends SS{constructor(r){super(r)}},zS=class{constructor(r,e,t){var n,i;this.supabaseUrl=r,this.supabaseKey=e;const a=FS(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,h={db:RS,realtime:NS,auth:vt(vt({},PS),{},{storageKey:u}),global:CS},f=US(t??{},h);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=f.auth)!==null&&m!==void 0?m:{},this.headers,f.global.fetch)}this.fetch=MS(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(vt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new ET(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new wk(this.storageUrl.href,this.headers,this.fetch,t?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new yT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,t)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,t;if(r.accessToken)return await r.accessToken();const{data:n}=await r.auth.getSession();return(e=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:n,userStorage:i,storageKey:a,flowType:u,lock:h,debug:f,throwOnError:m},v,b){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BS({url:this.authUrl.href,headers:vt(vt({},E),v),storageKey:a,autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:n,userStorage:i,flowType:u,lock:h,debug:f,throwOnError:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new $T(this.realtimeUrl.href,vt(vt({},r),{},{params:vt(vt({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e?.access_token)})}_handleTokenChanged(r,e,t){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const qS=(r,e,t)=>new zS(r,e,t);function WS(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}WS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HS="https://rrwbwviwesnczadgjhde.supabase.co",KS="sb_publishable_JcEPZ33wrf_WHa_U75L7Dw_AosVNuio",ad=qS(HS,KS);function GS(){const r=B.useRef(null),e=B.useRef(null),t=B.useRef(null),[n,i]=B.useState(0),[a,u]=B.useState(!1),[h,f]=B.useState(!1),[m,v]=B.useState(""),[b,E]=B.useState(""),[C,j]=B.useState("all"),D=[{key:"all",label:"All",icon:"grid"},{key:"events-weddings",label:"Events & Weddings",icon:"heart"},{key:"car-delivery",label:"Cars-Delively",icon:"car"},{key:"logo-reveal",label:"Logo Reveal",icon:"camera"},{key:"podcasts",label:"Podcasts",icon:"handshake"},{key:"real-estate",label:"Real Estate",icon:"home"},{key:"commercial",label:"Commercial",icon:"briefcase"},{key:"school-works",label:"School Works",icon:"book-open"}],N=[{id:0,cards:[{title:"Car Delivery",category:"car-delivery",path:"car-delivery-1.mp4"},{title:"Mundhe Banni",category:"podcasts",path:"mundhe-banni.mp4"},{title:"Events & Weddings",category:"events-weddings",path:"wedding-invitation-1.mp4"},{title:"Events & Weddings",category:"events-weddings",path:"tanisha-nikhil.mp4"},{title:"Logo Reveal",category:"logo-reveal",path:"logo-reveal-1.mp4"},{title:"Real Estate",category:"real-estate",path:"vanya-resort.mp4"},{title:"Real Estate",category:"real-estate",path:"krishna-real-estate.mp4"},{title:"Real Estate",category:"real-estate",path:"krishna-real-estate-2.mp4"},{title:"Commercial",category:"commercial",path:"nido-cocktail.mp4"},{title:"Commercial",category:"commercial",path:"nido-valentine.mp4"},{title:"Commercial",category:"commercial",path:"pink-bag.mp4"},{title:"Commercial",category:"commercial",path:"nido-cricket-poster.mp4"},{title:"Commercial",category:"commercial",path:"bracelet.mp4"},{title:"School Works",category:"school-works",path:"euro-kids-pink-day.mp4"},{title:"School Works",category:"school-works",path:"euro-kids-holi.mp4"},{title:"School Works",category:"school-works",path:"euro-kids-annual-day.mp4"}]}],K=[{id:1,path:"showcase-video-1.mp4",title:"Video 1",category:"events-weddings"},{id:2,path:"showcase-video-2.mp4",title:"Video 2",category:"car-delivery"},{id:3,path:"showcase-video-3.mp4",title:"Video 3",category:"logo-reveal"},{id:4,path:"showcase-video-4.mp4",title:"Video 4",category:"podcasts"},{id:5,path:"showcase-video-5.mp4",title:"Video 5",category:"events-weddings"},{id:6,path:"showcase-video-6.mp4",title:"Video 6",category:"car-delivery"}],H=B.useMemo(()=>C==="all"?K:K.filter(S=>S.category===C),[C,K]),z=N.map((S,A)=>({idx:A,has:S.cards.some(R=>C==="all"?!0:R.category===C)})).filter(S=>S.has).map(S=>S.idx),ee=N.flatMap(S=>S.cards).filter(S=>C==="all"?!0:S.category===C);async function ge(S,A){try{const{data:R}=ad.storage.from("portfolio-videos").getPublicUrl(A);return R&&R.publicUrl?(S.src=R.publicUrl,!0):!1}catch(R){try{console.error("[showcase] assign video src failed",A,R)}catch{}return!1}}B.useEffect(()=>{z.includes(n)||i(z[0]??0)},[C,z,n]),B.useEffect(()=>{const S=r.current;if(!S||a)return;const A=Array.from(S.querySelectorAll(".carousel-item")),R=new Set([n,n-1,n+1]);A.forEach((k,ie)=>{const re=R.has(ie);ie===n?(k.classList.add("active"),k.querySelectorAll(".showcase-video").forEach(Z=>{try{if(!Z.src){const Y=Z.getAttribute("data-src");Y&&(async()=>{const le=await ge(Z,Y),oe=Z.parentElement?.querySelector(".video-overlay");if(le){try{console.log("[showcase] set src",Y)}catch{}oe&&(oe.textContent="",oe.classList.remove("unavailable"),oe.onclick=null),Z.dataset.unavailable="0"}else{try{console.error("[showcase] invalid video source, skipping",Y)}catch{}oe&&(oe.textContent="Unavailable  Retry",oe.classList.add("unavailable"),oe.onclick=async $=>{if($.stopPropagation(),oe.textContent="Retrying...",await ge(Z,Y)){oe.textContent="",oe.classList.remove("unavailable"),oe.onclick=null;try{Z.load();const fe=Z.play();fe&&typeof fe.then=="function"&&fe.catch(()=>{})}catch{}Z.dataset.unavailable="0"}else oe.textContent="Unavailable  Retry",Z.dataset.unavailable="1"}),Z.dataset.unavailable="1"}})()}Z.preload="auto";try{Z.loading="eager"}catch{}Z.muted=!0,Z.setAttribute("muted",""),Z.playsInline=!0,Z.setAttribute("playsinline",""),Z.autoplay=!0,Z.setAttribute("autoplay",""),Z.loop=!0,Z.setAttribute("loop",""),Z.load();const he=()=>{try{try{console.log("[showcase] tryPlay",Z.src)}catch{}const Y=Z.play();Y&&typeof Y.then=="function"&&Y.then(()=>{try{console.log("[showcase] played",Z.src)}catch{}}).catch(le=>{try{console.error("[showcase] play failed",Z.src,le)}catch{}})}catch(Y){try{console.error("[showcase] play exception",Z.src,Y)}catch{}}};if(Z.readyState>=2)he();else{const Y=()=>he();Z.addEventListener("loadeddata",Y,{once:!0}),Z.addEventListener("loadedmetadata",Y,{once:!0}),Z.addEventListener("canplay",Y,{once:!0}),setTimeout(()=>he(),700)}}catch{}})):(k.classList.remove("active"),k.querySelectorAll(".showcase-video").forEach(Z=>{try{Z.preload="none",Z.pause(),Z.currentTime=0}catch{}}),re&&k.querySelectorAll(".showcase-video").forEach(Z=>{try{if(!Z.src){const he=Z.getAttribute("data-src");he&&(async()=>{const Y=await ge(Z,he),le=Z.parentElement?.querySelector(".video-overlay");if(Y){try{console.log("[showcase] preload assigned",he)}catch{}le&&(le.textContent="",le.classList.remove("unavailable"),le.onclick=null),Z.dataset.unavailable="0"}else{try{console.error("[showcase] preload assign failed",he)}catch{}le&&(le.textContent="Unavailable  Retry",le.classList.add("unavailable"),le.onclick=async oe=>{if(oe.stopPropagation(),le.textContent="Retrying...",await ge(Z,he)){le.textContent="",le.classList.remove("unavailable"),le.onclick=null;try{Z.load();const J=Z.play();J&&typeof J.then=="function"&&J.catch(()=>{})}catch{}Z.dataset.unavailable="0"}else le.textContent="Unavailable  Retry",Z.dataset.unavailable="1"}),Z.dataset.unavailable="1"}})()}Z.preload="auto";try{Z.loading="eager"}catch{}Z.muted=!0,Z.setAttribute("muted",""),Z.playsInline=!0,Z.setAttribute("playsinline",""),Z.autoplay=!0,Z.setAttribute("autoplay",""),Z.load()}catch{}}))})},[n,a]),B.useEffect(()=>{const S=r.current;if(S)try{Array.from(S.querySelectorAll("video.showcase-video")).slice(0,3).forEach(R=>{try{if(!R.src){const k=R.getAttribute("data-src");k&&(async()=>{if(await ge(R,k))try{console.log("[showcase] initial preload assigned",k)}catch{}else try{console.error("[showcase] initial preload failed",k)}catch{}})()}R.preload="auto";try{R.loading="eager"}catch{}R.muted=!0,R.setAttribute("muted",""),R.playsInline=!0,R.setAttribute("playsinline",""),R.autoplay=!0,R.setAttribute("autoplay",""),R.loop=!0,R.setAttribute("loop",""),R.load(),setTimeout(()=>{try{const k=R.play();k&&typeof k.then=="function"&&k.catch(()=>{})}catch(k){}},300)}catch(k){}})}catch{}},[ee]),B.useEffect(()=>{if(!a)return;const S=e.current;if(!S)return;const A=Array.from(S.querySelectorAll("video.showcase-video")),R=new IntersectionObserver(k=>{k.forEach(ie=>{const re=ie.target;if(ie.isIntersecting)try{if(re.src)re.paused&&re.play().catch(()=>{});else{const Z=re.getAttribute("data-src");Z&&(async()=>{if(await ge(re,Z)){try{console.log("[showcase] set src (observer)",Z)}catch{}re.preload="metadata";try{re.loading="eager"}catch{}re.muted=!0,re.setAttribute("muted",""),re.playsInline=!0,re.setAttribute("playsinline",""),re.autoplay=!0,re.setAttribute("autoplay",""),re.load();const Y=()=>{try{try{console.log("[showcase] observer tryPlay",re.src)}catch{}const le=re.play();le&&typeof le.then=="function"&&le.then(()=>{try{console.log("[showcase] observer played",re.src)}catch{}}).catch(oe=>{try{console.error("[showcase] observer play failed",re.src,oe)}catch{}})}catch(le){try{console.error("[showcase] observer play exception",re.src,le)}catch{}}};re.readyState>=2?Y():(re.addEventListener("loadeddata",Y,{once:!0}),re.addEventListener("loadedmetadata",Y,{once:!0}),re.addEventListener("canplay",Y,{once:!0}),setTimeout(Y,700))}else try{console.error("[showcase] invalid video source (observer), skipping",Z)}catch{}})()}}catch{}else try{re.pause(),re.currentTime=0}catch{}})},{root:S,threshold:.3});return A.forEach(k=>R.observe(k)),()=>{A.forEach(k=>R.unobserve(k)),R.disconnect()}},[a,ee]);const ce=B.useCallback(()=>{if(a){const k=e.current;if(!k)return;const ie=Math.round(k.clientWidth*.85);k.scrollBy({left:ie,behavior:"smooth"});return}const S=z;if(S.length<=1){const ie=r.current?.querySelector(".carousel-item.active .slider-wrapper");if(!ie)return;const re=Math.round(ie.clientWidth*.85);ie.scrollBy({left:re,behavior:"smooth"});return}const R=(S.indexOf(n)+1)%S.length;i(S[R])},[a,z,n]),L=B.useCallback(()=>{if(a){const k=e.current;if(!k)return;const ie=Math.round(k.clientWidth*.85);k.scrollBy({left:-ie,behavior:"smooth"});return}const S=z;if(S.length<=1){const ie=r.current?.querySelector(".carousel-item.active .slider-wrapper");if(!ie)return;const re=Math.round(ie.clientWidth*.85);ie.scrollBy({left:-re,behavior:"smooth"});return}const R=(S.indexOf(n)-1+S.length)%S.length;i(S[R])},[a,z,n]);B.useEffect(()=>{const S=A=>{h&&A.key==="Escape"&&P(),A.key==="ArrowRight"&&ce(),A.key==="ArrowLeft"&&L()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[h,ce,L]),B.useEffect(()=>{const S=()=>{u(window.innerWidth<768)};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),B.useEffect(()=>{if(a){const S=e.current;S&&(S.scrollLeft=0)}},[C,a,H]),B.useEffect(()=>{const S=t.current;if(h&&S){S.currentTime=0,S.muted=!0;try{console.log("[showcase] modal open, attempting play",m)}catch{}const A=()=>{try{try{console.log("[showcase] modal tryPlay",m)}catch{}const R=S.play();R&&typeof R.then=="function"&&R.then(()=>{try{console.log("[showcase] modal played",m)}catch{}}).catch(k=>{try{console.error("[showcase] modal play failed",m,k)}catch{}})}catch(R){try{console.error("[showcase] modal play exception",m,R)}catch{}}};if(S.readyState>=2)A();else{const R=()=>A();S.addEventListener("loadedmetadata",R,{once:!0})}}if(!h&&S)try{S.pause(),S.currentTime=0}catch{}},[h,m]);const T=async(S,A)=>{E(A),f(!0);try{const{data:R}=ad.storage.from("portfolio-videos").getPublicUrl(S);R&&R.publicUrl?v(R.publicUrl):console.error("[showcase] failed to get public URL",S)}catch(R){console.error("[showcase] modal URL fetch error",R)}setTimeout(()=>{if(t.current){t.current.load();try{const R=t.current.play();R&&typeof R.then=="function"&&R.catch(k=>{console.error("[showcase] modal video play failed",k)})}catch(R){console.error("[showcase] modal play error",R)}}},150)},P=()=>{f(!1),v(""),E(""),t.current&&(t.current.pause(),t.current.currentTime=0)};return w.jsxs("div",{className:"min-h-screen bg-[#030014] overflow-hidden",id:"Showcase",children:[w.jsx("style",{children:`/* Converted showcase styles (trimmed to essentials) */
      :root{--primary-color:#2196F3;--bg-dark:#00033D;--text-muted:rgba(255,255,255,0.7)}
      .showcase-page{min-height:100vh;background:var(--bg-dark);padding:120px 0 2rem;color:#fff}
      .showcase-container{max-width:1400px;margin:0 auto;padding:0 2rem}
      .showcase-header{text-align:center;padding:2rem 0 4rem;margin-bottom:2rem}
      .showcase-title{font-size:3.5rem;font-weight:700;margin-bottom:1.5rem;background:linear-gradient(45deg,#fff,#f3f3f3);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
      .showcase-description{color:var(--text-muted);font-size:1.2rem;max-width:600px;margin:0 auto;line-height:1.8}
      .category-list{display:flex;gap:.75rem;overflow-x:auto;padding:.5rem;justify-content:center;align-items:center}
      .category-item{padding:.6rem 1.2rem;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.06);border-radius:50px;color:#fff;cursor:pointer;white-space:nowrap}
      .category-item.active{background:var(--primary-color);border-color:var(--primary-color)}
      .slider-section{padding:1rem 0;min-height:50vh;display:flex;align-items:center;justify-content:center;background:transparent}
      .slider-container{width:100%;max-width:900px;margin:0 auto;position:relative;background:transparent}
      .slider-wrapper{display:flex;gap:1rem;align-items:flex-start}
      .slider-wrapper{overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}
      .slider-card{flex:0 0 calc((100% - 2rem)/3);border-radius:12px;overflow:hidden;aspect-ratio:9/16;max-width:280px;background:transparent;cursor:pointer}
      .slider-card{scroll-snap-align:center}
      .video-thumbnail{width:100%;height:100%;object-fit:cover}
      .video-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.18);opacity:0;transition:opacity .25s}
      .slider-card:hover .video-overlay{opacity:1}
      .video-play-btn{width:56px;height:56px;border-radius:999px;background:var(--primary-color);display:flex;align-items:center;justify-content:center;color:#fff}
      .video-info{position:absolute;left:0;right:0;bottom:0;padding:.5rem .75rem;background:transparent;pointer-events:none;border-bottom-left-radius:12px;border-bottom-right-radius:12px}
      .video-title{font-size:1rem;font-weight:600;color:#fff;text-shadow:0 6px 20px rgba(0,0,0,0.6)}
      .nav-button{position:absolute;top:50%;transform:translateY(-50%);width:45px;height:45px;border-radius:12px;background:var(--bg-dark);border:2px solid rgba(255,255,255,0.08);display:flex;align-items:center;justify-content:center;z-index:10}
      .nav-button.prev{left:10px}.nav-button.next{right:10px}
      .dot{width:12px;height:12px;border-radius:6px;background:var(--bg-dark);border:2px solid rgba(255,255,255,0.08);cursor:pointer}
      .dot.active{background:var(--primary-color);width:24px}
      .carousel-item{display:none}
      .carousel-item.active{display:block}
      /* modal */
      .video-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:50;opacity:0;pointer-events:none;transition:opacity .2s}
      .video-modal.active{opacity:1;pointer-events:auto}
      .video-modal-overlay{position:absolute;inset:0;background:rgba(0,0,0,.8)}
      .video-modal-content{position:relative;z-index:2;max-width:1200px;width:95%;background:#000;padding:1rem;border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;max-height:90vh}
      .video-modal-content video{width:100%;max-height:80vh;object-fit:contain;display:block;background:#000;border-radius:8px}
      .video-modal-close{position:absolute;top:8px;right:8px;z-index:5}

      /* Responsive tweaks */
      @media (max-width: 1024px) {
        .showcase-title{font-size:2.8rem}
        .showcase-description{font-size:1.05rem}
        .slider-card{flex:0 0 calc((100% - 1rem)/2);max-width:48%}
        .slider-wrapper{gap:.75rem}
      }

      @media (max-width: 768px) {
        .showcase-title{font-size:2.2rem;margin-bottom:1rem}
        .showcase-description{font-size:1rem;max-width:92%}
        .category-list{gap:.5rem;padding:.4rem}
        .category-item{padding:.5rem .9rem;font-size:.95rem}
        .slider-card{flex:0 0 80%;max-width:80%}
        .nav-button{width:40px;height:40px}
        .video-play-btn{width:48px;height:48px}
        .video-modal-content{max-height:95vh;padding:.75rem;border-radius:8px}
        .video-modal-content video{max-height:70vh}
        .showcase-page{padding:90px 0 1.5rem}
      }

      @media (max-width: 480px) {
        .showcase-title{font-size:1.8rem}
        .showcase-description{font-size:.95rem}
        .category-list{justify-content:flex-start;padding-left:12px;padding-right:12px}
        .category-item{padding:.45rem .8rem;font-size:.9rem}
        .slider-card{flex:0 0 92%;max-width:92%;aspect-ratio:9/14}
        .slider-container{padding-left:8px;padding-right:8px}
        .slider-section{padding:0.5rem 0}
        .dot{width:10px;height:10px}
        .dot.active{width:18px}
        .video-modal-content video{max-height:60vh}

        /* mobile swipe container */
        .flat-slider{overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;gap:1rem;padding-bottom:8px}
        .flat-slider .slider-card{scroll-snap-align:center;flex:0 0 92%;max-width:92%}
        .nav-button{display:none}
      }
      `}),w.jsx(Z0,{}),w.jsx("main",{className:"showcase-page",children:w.jsxs("div",{className:"showcase-container",children:[w.jsxs("header",{className:"showcase-header",children:[w.jsxs("h1",{className:"showcase-title",children:["Inspire Capture ",w.jsx("span",{style:{color:"var(--primary-color)"},children:"Vibe"})]}),w.jsx("p",{className:"showcase-description",children:"Experience our collection of stunning videos and reels. Professional quality delivered in 10 minutes."})]}),w.jsx("nav",{className:"category-nav",children:w.jsx("div",{className:"category-container",children:w.jsx("div",{className:"category-wrapper",children:w.jsx("div",{className:"category-list",children:D.map(S=>w.jsx("button",{className:`category-item ${C===S.key?"active":""}`,onClick:()=>j(S.key),type:"button",children:S.label},S.key))})})})}),w.jsx("section",{children:w.jsx("div",{className:"slider-section",children:w.jsxs("div",{className:"slider-container",ref:r,children:[w.jsxs("div",{className:"carousel-inner",children:[a?w.jsx("div",{className:"carousel-item active",children:w.jsx("div",{className:"slider-wrapper flat-slider",ref:e,children:ee.map((S,A)=>w.jsx("div",{className:"slider-card video-card","data-category":S.category,onClick:()=>T(S.path,S.title),children:w.jsxs("div",{className:"video-thumbnail-wrapper",style:{position:"relative",height:"100%"},children:[w.jsx("video",{className:"video-thumbnail showcase-video","data-src":S.path,muted:!0,autoPlay:!0,loop:!0,preload:a?"metadata":"none",playsInline:!0,crossOrigin:"anonymous",poster:"/Conquer_Media.jpg",onError:R=>{try{R.currentTarget.pause()}catch{}},loading:"lazy"}),w.jsx("div",{className:"video-overlay",children:w.jsx("div",{className:"video-play-btn",children:w.jsx(zl,{size:20})})})]})},A))})}):N.map((S,A)=>{const R=S.cards.some(k=>C==="all"?!0:k.category===C);return w.jsx("div",{className:`carousel-item ${A===n&&R?"active":""}`,children:w.jsx("div",{className:"slider-wrapper",children:S.cards.map((k,ie)=>(C==="all"||k.category===C)&&w.jsx("div",{className:"slider-card video-card","data-category":k.category,onClick:()=>T(k.path,k.title),children:w.jsxs("div",{className:"video-thumbnail-wrapper",style:{position:"relative",height:"100%"},children:[w.jsx("video",{className:"video-thumbnail showcase-video","data-src":k.path,muted:!0,autoPlay:!0,loop:!0,preload:a?"metadata":"auto",playsInline:!0,crossOrigin:"anonymous",poster:"/Conquer_Media.jpg",onError:re=>{try{re.currentTarget.pause()}catch{}},loading:"eager"}),w.jsx("div",{className:"video-overlay",children:w.jsx("div",{className:"video-play-btn",children:w.jsx(zl,{size:20})})})]})},ie))})},S.id)}),w.jsx("button",{type:"button","aria-label":"Previous",className:"nav-button prev",onClick:L,children:w.jsx(J0,{})}),w.jsx("button",{type:"button","aria-label":"Next",className:"nav-button next",onClick:ce,children:w.jsx(td,{})})]}),w.jsx("div",{className:"slider-dots",style:{display:"flex",justifyContent:"center",gap:12,marginTop:16},children:N.map((S,A)=>{if(!z.includes(A))return null;const k=A;return w.jsx("button",{className:`dot ${k===n?"active":""}`,onClick:()=>i(k),"aria-label":`Go to slide ${A+1}`,type:"button"},A)})})]})})}),w.jsx("footer",{children:w.jsxs("center",{children:[w.jsx("hr",{className:"my-3 border-gray-400 opacity-15 sm:mx-auto lg:my-6 text-center"}),w.jsxs("span",{className:"block text-sm pb-4 text-gray-500 text-center dark:text-gray-400",children:[" 2025"," ",w.jsx("a",{href:"#",className:"hover:underline",children:"Conquer Media"}),". All Rights Reserved."]})]})}),h&&w.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",children:w.jsxs("div",{className:"relative w-full max-w-4xl bg-black rounded-lg overflow-hidden",children:[w.jsx("button",{onClick:P,className:"absolute top-4 right-4 z-10 text-white bg-black/50 rounded-full p-2 hover:bg-black/80",children:""}),w.jsxs("video",{ref:t,controls:!0,autoPlay:!0,muted:!0,className:"w-full h-auto max-h-[80vh]",onLoadedData:()=>{try{t.current.muted=!1,t.current?.play()}catch(S){console.error("[showcase] modal video loadeddata error",S)}},onCanPlay:()=>{try{t.current.muted=!1,t.current?.play()}catch(S){console.error("[showcase] modal video canplay error",S)}},children:[m&&w.jsx("source",{src:m,type:"video/mp4",onError:S=>{console.error("[showcase] modal video source error",S)}}),"Your browser does not support the video tag."]},m)]})})]})}),w.jsxs("div",{className:"social-float",style:{position:"fixed",right:16,bottom:24,display:"flex",flexDirection:"column",gap:12},children:[w.jsx("a",{href:"https://wa.me/916363770057?text=Hello%20Conquer Media%2C%20I%20would%20like%20to%20make%20an%20inquiry.",target:"_blank",rel:"noreferrer",className:"float-btn whatsapp-btn inline-flex items-center justify-center text-white bg-green-600 hover:bg-green-700 w-11 h-11 rounded-full shadow-lg",title:"Chat on WhatsApp","aria-label":"Chat on WhatsApp",children:w.jsx(fT,{size:18})}),w.jsx("a",{href:"https://instagram.com/conquermedia__",target:"_blank",rel:"noreferrer",className:"float-btn instagram-btn inline-flex items-center justify-center text-white bg-pink-600 hover:bg-pink-700 w-11 h-11 rounded-full shadow-lg",title:"Follow on Instagram","aria-label":"Follow on Instagram",children:w.jsx(hT,{size:18})})]})]})}var Wf={exports:{}},Hf,ew;function QS(){if(ew)return Hf;ew=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hf=r,Hf}var Kf,tw;function JS(){if(tw)return Kf;tw=1;var r=QS();function e(){}function t(){}return t.resetWarningCache=e,Kf=function(){function n(u,h,f,m,v,b){if(b!==r){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Kf}var rw;function YS(){return rw||(rw=1,Wf.exports=JS()()),Wf.exports}var XS=YS();const Tt=jd(XS);var Hc={exports:{}},ZS=Hc.exports,nw;function eA(){return nw||(nw=1,(function(r,e){(function(t,n){r.exports=n()})(ZS,function(){return(function(t){function n(a){if(i[a])return i[a].exports;var u=i[a]={exports:{},id:a,loaded:!1};return t[a].call(u.exports,u,u.exports,n),u.loaded=!0,u.exports}var i={};return n.m=t,n.c=i,n.p="dist/",n(0)})([function(t,n,i){function a(ie){return ie&&ie.__esModule?ie:{default:ie}}var u=Object.assign||function(ie){for(var re=1;re<arguments.length;re++){var Z=arguments[re];for(var he in Z)Object.prototype.hasOwnProperty.call(Z,he)&&(ie[he]=Z[he])}return ie},h=i(1),f=(a(h),i(6)),m=a(f),v=i(7),b=a(v),E=i(8),C=a(E),j=i(9),D=a(j),N=i(10),K=a(N),H=i(11),z=a(H),ee=i(14),ge=a(ee),ce=[],L=!1,T={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},P=function(){var ie=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(ie&&(L=!0),L)return ce=(0,z.default)(ce,T),(0,K.default)(ce,T.once),ce},S=function(){ce=(0,ge.default)(),P()},A=function(){ce.forEach(function(ie,re){ie.node.removeAttribute("data-aos"),ie.node.removeAttribute("data-aos-easing"),ie.node.removeAttribute("data-aos-duration"),ie.node.removeAttribute("data-aos-delay")})},R=function(ie){return ie===!0||ie==="mobile"&&D.default.mobile()||ie==="phone"&&D.default.phone()||ie==="tablet"&&D.default.tablet()||typeof ie=="function"&&ie()===!0},k=function(ie){T=u(T,ie),ce=(0,ge.default)();var re=document.all&&!window.atob;return R(T.disable)||re?A():(T.disableMutationObserver||C.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),T.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",T.easing),document.querySelector("body").setAttribute("data-aos-duration",T.duration),document.querySelector("body").setAttribute("data-aos-delay",T.delay),T.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?P(!0):T.startEvent==="load"?window.addEventListener(T.startEvent,function(){P(!0)}):document.addEventListener(T.startEvent,function(){P(!0)}),window.addEventListener("resize",(0,b.default)(P,T.debounceDelay,!0)),window.addEventListener("orientationchange",(0,b.default)(P,T.debounceDelay,!0)),window.addEventListener("scroll",(0,m.default)(function(){(0,K.default)(ce,T.once)},T.throttleDelay)),T.disableMutationObserver||C.default.ready("[data-aos]",S),ce)};t.exports={init:k,refresh:P,refreshHard:S}},function(t,n){},,,,,function(t,n){(function(i){function a(R,k,ie){function re(Fe){var wt=Te,yr=Pe;return Te=Pe=void 0,tt=Fe,Ne=R.apply(yr,wt)}function Z(Fe){return tt=Fe,Ie=setTimeout(le,k),Ft?re(Fe):Ne}function he(Fe){var wt=Fe-Me,yr=Fe-tt,ms=k-wt;return nr?S(ms,De-yr):ms}function Y(Fe){var wt=Fe-Me,yr=Fe-tt;return Me===void 0||wt>=k||wt<0||nr&&yr>=De}function le(){var Fe=A();return Y(Fe)?oe(Fe):void(Ie=setTimeout(le,he(Fe)))}function oe(Fe){return Ie=void 0,Ge&&Te?re(Fe):(Te=Pe=void 0,Ne)}function $(){Ie!==void 0&&clearTimeout(Ie),tt=0,Te=Me=Pe=Ie=void 0}function J(){return Ie===void 0?Ne:oe(A())}function fe(){var Fe=A(),wt=Y(Fe);if(Te=arguments,Pe=this,Me=Fe,wt){if(Ie===void 0)return Z(Me);if(nr)return Ie=setTimeout(le,k),re(Me)}return Ie===void 0&&(Ie=setTimeout(le,k)),Ne}var Te,Pe,De,Ne,Ie,Me,tt=0,Ft=!1,nr=!1,Ge=!0;if(typeof R!="function")throw new TypeError(E);return k=v(k)||0,h(ie)&&(Ft=!!ie.leading,nr="maxWait"in ie,De=nr?P(v(ie.maxWait)||0,k):De,Ge="trailing"in ie?!!ie.trailing:Ge),fe.cancel=$,fe.flush=J,fe}function u(R,k,ie){var re=!0,Z=!0;if(typeof R!="function")throw new TypeError(E);return h(ie)&&(re="leading"in ie?!!ie.leading:re,Z="trailing"in ie?!!ie.trailing:Z),a(R,k,{leading:re,maxWait:k,trailing:Z})}function h(R){var k=typeof R>"u"?"undefined":b(R);return!!R&&(k=="object"||k=="function")}function f(R){return!!R&&(typeof R>"u"?"undefined":b(R))=="object"}function m(R){return(typeof R>"u"?"undefined":b(R))=="symbol"||f(R)&&T.call(R)==j}function v(R){if(typeof R=="number")return R;if(m(R))return C;if(h(R)){var k=typeof R.valueOf=="function"?R.valueOf():R;R=h(k)?k+"":k}if(typeof R!="string")return R===0?R:+R;R=R.replace(D,"");var ie=K.test(R);return ie||H.test(R)?z(R.slice(2),ie?2:8):N.test(R)?C:+R}var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},E="Expected a function",C=NaN,j="[object Symbol]",D=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,K=/^0b[01]+$/i,H=/^0o[0-7]+$/i,z=parseInt,ee=(typeof i>"u"?"undefined":b(i))=="object"&&i&&i.Object===Object&&i,ge=(typeof self>"u"?"undefined":b(self))=="object"&&self&&self.Object===Object&&self,ce=ee||ge||Function("return this")(),L=Object.prototype,T=L.toString,P=Math.max,S=Math.min,A=function(){return ce.Date.now()};t.exports=u}).call(n,(function(){return this})())},function(t,n){(function(i){function a(A,R,k){function ie(Ge){var Fe=fe,wt=Te;return fe=Te=void 0,Me=Ge,De=A.apply(wt,Fe)}function re(Ge){return Me=Ge,Ne=setTimeout(Y,R),tt?ie(Ge):De}function Z(Ge){var Fe=Ge-Ie,wt=Ge-Me,yr=R-Fe;return Ft?P(yr,Pe-wt):yr}function he(Ge){var Fe=Ge-Ie,wt=Ge-Me;return Ie===void 0||Fe>=R||Fe<0||Ft&&wt>=Pe}function Y(){var Ge=S();return he(Ge)?le(Ge):void(Ne=setTimeout(Y,Z(Ge)))}function le(Ge){return Ne=void 0,nr&&fe?ie(Ge):(fe=Te=void 0,De)}function oe(){Ne!==void 0&&clearTimeout(Ne),Me=0,fe=Ie=Te=Ne=void 0}function $(){return Ne===void 0?De:le(S())}function J(){var Ge=S(),Fe=he(Ge);if(fe=arguments,Te=this,Ie=Ge,Fe){if(Ne===void 0)return re(Ie);if(Ft)return Ne=setTimeout(Y,R),ie(Ie)}return Ne===void 0&&(Ne=setTimeout(Y,R)),De}var fe,Te,Pe,De,Ne,Ie,Me=0,tt=!1,Ft=!1,nr=!0;if(typeof A!="function")throw new TypeError(b);return R=m(R)||0,u(k)&&(tt=!!k.leading,Ft="maxWait"in k,Pe=Ft?T(m(k.maxWait)||0,R):Pe,nr="trailing"in k?!!k.trailing:nr),J.cancel=oe,J.flush=$,J}function u(A){var R=typeof A>"u"?"undefined":v(A);return!!A&&(R=="object"||R=="function")}function h(A){return!!A&&(typeof A>"u"?"undefined":v(A))=="object"}function f(A){return(typeof A>"u"?"undefined":v(A))=="symbol"||h(A)&&L.call(A)==C}function m(A){if(typeof A=="number")return A;if(f(A))return E;if(u(A)){var R=typeof A.valueOf=="function"?A.valueOf():A;A=u(R)?R+"":R}if(typeof A!="string")return A===0?A:+A;A=A.replace(j,"");var k=N.test(A);return k||K.test(A)?H(A.slice(2),k?2:8):D.test(A)?E:+A}var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},b="Expected a function",E=NaN,C="[object Symbol]",j=/^\s+|\s+$/g,D=/^[-+]0x[0-9a-f]+$/i,N=/^0b[01]+$/i,K=/^0o[0-7]+$/i,H=parseInt,z=(typeof i>"u"?"undefined":v(i))=="object"&&i&&i.Object===Object&&i,ee=(typeof self>"u"?"undefined":v(self))=="object"&&self&&self.Object===Object&&self,ge=z||ee||Function("return this")(),ce=Object.prototype,L=ce.toString,T=Math.max,P=Math.min,S=function(){return ge.Date.now()};t.exports=a}).call(n,(function(){return this})())},function(t,n){function i(v){var b=void 0,E=void 0;for(b=0;b<v.length;b+=1)if(E=v[b],E.dataset&&E.dataset.aos||E.children&&i(E.children))return!0;return!1}function a(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function u(){return!!a()}function h(v,b){var E=window.document,C=a(),j=new C(f);m=b,j.observe(E.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function f(v){v&&v.forEach(function(b){var E=Array.prototype.slice.call(b.addedNodes),C=Array.prototype.slice.call(b.removedNodes),j=E.concat(C);if(i(j))return m()})}Object.defineProperty(n,"__esModule",{value:!0});var m=function(){};n.default={isSupported:u,ready:h}},function(t,n){function i(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function a(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var u=(function(){function E(C,j){for(var D=0;D<j.length;D++){var N=j[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(C,N.key,N)}}return function(C,j,D){return j&&E(C.prototype,j),D&&E(C,D),C}})(),h=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,m=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,v=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,b=(function(){function E(){i(this,E)}return u(E,[{key:"phone",value:function(){var C=a();return!(!h.test(C)&&!f.test(C.substr(0,4)))}},{key:"mobile",value:function(){var C=a();return!(!m.test(C)&&!v.test(C.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),E})();n.default=new b},function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(u,h,f){var m=u.node.getAttribute("data-aos-once");h>u.position?u.node.classList.add("aos-animate"):typeof m<"u"&&(m==="false"||!f&&m!=="true")&&u.node.classList.remove("aos-animate")},a=function(u,h){var f=window.pageYOffset,m=window.innerHeight;u.forEach(function(v,b){i(v,m+f,h)})};n.default=a},function(t,n,i){function a(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(n,"__esModule",{value:!0});var u=i(12),h=a(u),f=function(m,v){return m.forEach(function(b,E){b.node.classList.add("aos-init"),b.position=(0,h.default)(b.node,v.offset)}),m};n.default=f},function(t,n,i){function a(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(n,"__esModule",{value:!0});var u=i(13),h=a(u),f=function(m,v){var b=0,E=0,C=window.innerHeight,j={offset:m.getAttribute("data-aos-offset"),anchor:m.getAttribute("data-aos-anchor"),anchorPlacement:m.getAttribute("data-aos-anchor-placement")};switch(j.offset&&!isNaN(j.offset)&&(E=parseInt(j.offset)),j.anchor&&document.querySelectorAll(j.anchor)&&(m=document.querySelectorAll(j.anchor)[0]),b=(0,h.default)(m).top,j.anchorPlacement){case"top-bottom":break;case"center-bottom":b+=m.offsetHeight/2;break;case"bottom-bottom":b+=m.offsetHeight;break;case"top-center":b+=C/2;break;case"bottom-center":b+=C/2+m.offsetHeight;break;case"center-center":b+=C/2+m.offsetHeight/2;break;case"top-top":b+=C;break;case"bottom-top":b+=m.offsetHeight+C;break;case"center-top":b+=m.offsetHeight/2+C}return j.anchorPlacement||j.offset||isNaN(v)||(E=v),b+E};n.default=f},function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(a){for(var u=0,h=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)u+=a.offsetLeft-(a.tagName!="BODY"?a.scrollLeft:0),h+=a.offsetTop-(a.tagName!="BODY"?a.scrollTop:0),a=a.offsetParent;return{top:h,left:u}};n.default=i},function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(a){return a=a||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(a,function(u){return{node:u}})};n.default=i}])})})(Hc)),Hc.exports}var tA=eA();const Md=jd(tA),b_=B.memo(({isHovering:r})=>{const[e,t]=B.useState(0);B.useEffect(()=>{let a,u=Date.now();const h=()=>{const f=Date.now()-u,m=5e3,v=f%m/m;t(v*100),a=requestAnimationFrame(h)};return a=requestAnimationFrame(h),()=>cancelAnimationFrame(a)},[]);const n=[{id:1,duration:25,color:"from-blue-500 to-purple-600",label:"Intro"},{id:2,duration:30,color:"from-purple-500 to-pink-600",label:"Scene 1"},{id:3,duration:25,color:"from-pink-500 to-red-600",label:"Transition"},{id:4,duration:20,color:"from-red-500 to-orange-600",label:"Scene 2"}],i=n.reduce((a,u)=>a+u.duration,0);return w.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-8",children:[w.jsxs("div",{className:"w-full px-4 sm:px-8",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3 text-xs text-gray-400",children:[w.jsx("span",{children:"0s"}),w.jsx("span",{children:"30s"}),w.jsx("span",{children:"60s"})]}),w.jsxs("div",{className:"relative w-full h-20 bg-black/50 rounded-lg border border-white/10 overflow-hidden backdrop-blur-sm group",children:[w.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-gradient-to-b from-blue-400 to-purple-600 z-30 transition-all duration-75",style:{left:`${e}%`,boxShadow:"0 0 10px rgba(96, 165, 250, 0.8)"},children:w.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-3 h-3 bg-blue-400 rounded-full border border-white/50"})}),w.jsx("div",{className:"flex h-full w-full",children:n.map((a,u)=>{const h=a.duration/i*100;return w.jsxs("div",{className:"relative h-full flex items-center justify-center text-white/70 font-medium text-xs border-r border-white/5 transition-all duration-300 ",style:{width:`${h}%`},children:[w.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${a.color} opacity-20 group-hover:opacity-40 transition-opacity`}),w.jsx("div",{className:"absolute inset-0 border-l border-r border-white/20"}),w.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-1",children:[w.jsx(zl,{className:"w-3 h-3 text-white/50"}),w.jsx("span",{className:"hidden sm:inline",children:a.label})]})]},a.id)})}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/0 via-purple-400/10 to-blue-400/0 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]}),w.jsx("div",{className:"mt-4 flex items-end justify-around h-12 gap-0.5",children:[...Array(24)].map((a,u)=>w.jsx("div",{className:"flex-1 bg-gradient-to-t from-purple-500 to-blue-500 rounded-sm opacity-30 hover:opacity-60 transition-opacity",style:{height:`${Math.sin(u*.5+e/10)*40+50}%`}},u))})]}),w.jsxs("div",{className:"text-center",children:[w.jsxs("div",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:[(e/100*i).toFixed(1),"s"]}),w.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Timeline Animation"})]})]})});b_.displayName="EditingTimelineAnimation";const E_=B.memo(()=>w.jsx("div",{className:"inline-block animate-float lg:mx-0","data-aos":"zoom-in","data-aos-delay":"400",children:w.jsxs("div",{className:"relative group",children:[w.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#6366f1] to-[#a855f7] rounded-full blur opacity-30 group-hover:opacity-50 transition duration-1000"}),w.jsx("div",{className:"relative px-3 sm:px-4 py-2 rounded-full bg-black/40 backdrop-blur-xl border border-white/10",children:w.jsxs("span",{className:"bg-gradient-to-r from-[#6366f1] to-[#a855f7] text-transparent bg-clip-text sm:text-sm text-[0.7rem] font-medium flex items-center",children:[w.jsx(up,{className:"sm:w-4 sm:h-4 w-3 h-3 mr-2 text-blue-400"}),"Ready to Innovate.."]})})]})}));E_.displayName="StatusBadge";const x_=B.memo(()=>w.jsx("div",{className:"space-y-2","data-aos":"fade-up","data-aos-delay":"600",children:w.jsx("h1",{className:"text-center text-5xl sm:text-6xl md:text-6xl lg:text-6xl xl:text-7xl font-bold tracking-tight",children:w.jsxs("span",{className:"relative inline-block",children:[w.jsx("span",{className:"absolute -inset-2 bg-gradient-to-r from-[#6366f1] to-[#a855f7] blur-2xl opacity-20"}),w.jsxs("span",{className:"relative bg-gradient-to-r from-white via-blue-100 to-purple-200 bg-clip-text text-transparent",children:["Digital Marketing & ",w.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-transparent bg-clip-text",children:"Video Editing"})]})]})})}));x_.displayName="MainTitle";const ld=B.memo(({href:r,text:e,icon:t})=>w.jsx("a",{href:r,children:w.jsxs("button",{className:"group relative w-[160px]",children:[w.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#4f52c9] to-[#8644c5] rounded-xl opacity-50 blur-md group-hover:opacity-90 transition-all duration-700"}),w.jsxs("div",{className:"relative h-11 bg-[#030014] backdrop-blur-xl rounded-lg border border-white/10 leading-none overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 scale-x-0 group-hover:scale-x-100 origin-left transition-transform duration-500 bg-gradient-to-r from-[#4f52c9]/20 to-[#8644c5]/20"}),w.jsxs("span",{className:"absolute inset-0 flex items-center justify-center gap-2 text-sm group-hover:gap-3 transition-all duration-300",children:[w.jsx("span",{className:"bg-gradient-to-r from-gray-200 to-white bg-clip-text text-transparent font-medium z-10",children:e}),w.jsx(t,{className:`w-4 h-4 text-gray-200 ${e==="Contact"?"group-hover:translate-x-1":"group-hover:rotate-45"} transform transition-all duration-300 z-10`})]})]})]})}));ld.displayName="CTAButton";ld.propTypes={href:Tt.string.isRequired,text:Tt.string.isRequired,icon:Tt.elementType.isRequired};const rA=()=>{const[r,e]=B.useState(!1),[t,n]=B.useState(!1);return B.useEffect(()=>{const i=()=>{Md.init({once:!0,offset:10})};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),B.useEffect(()=>(e(!0),()=>e(!1)),[]),w.jsx("div",{className:"min-h-screen bg-[#030014] overflow-hidden",id:"Home",children:w.jsx("div",{className:`relative z-10 transition-all duration-1000 ${r?"opacity-100":"opacity-0"}`,children:w.jsx("div",{className:"container mx-auto px-[5%] sm:px-6 lg:px-[0%] min-h-screen",children:w.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center h-screen md:justify-between gap-0 sm:gap-12 lg:gap-20",children:[w.jsx("div",{className:"w-full lg:w-1/2 space-y-6 sm:space-y-8 text-center order-1 lg:order-1 lg:mt-0","data-aos":"fade-right","data-aos-delay":"200",children:w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsx(E_,{}),w.jsx(x_,{}),w.jsxs("div",{className:"flex flex-row gap-3 w-full justify-center","data-aos":"fade-up","data-aos-delay":"1400",children:[w.jsx(ld,{href:"#Portofolio",text:"Projects",icon:Ol}),w.jsx(ld,{href:"#Contact",text:"Contact",icon:Jp})]})]})}),w.jsx("div",{className:"w-full py-[10%] sm:py-0 lg:w-1/2 h-auto lg:h-[600px] xl:h-[750px] relative flex items-center justify-center order-2 lg:order-2 mt-8 lg:mt-0",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),"data-aos":"fade-left","data-aos-delay":"600",children:w.jsxs("div",{className:"relative w-full opacity-90",children:[w.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-[#6366f1]/10 to-[#a855f7]/10 rounded-3xl blur-3xl transition-all duration-700 ease-in-out ${t?"opacity-50 scale-105":"opacity-20 scale-100"}`}),w.jsx("div",{className:`relative z-10 w-full opacity-90 transform transition-transform duration-500 ${t?"scale-105":"scale-100"}`,children:w.jsx(b_,{isHovering:t})}),w.jsx("div",{className:`absolute inset-0 pointer-events-none transition-all duration-700 ${t?"opacity-50":"opacity-20"}`,children:w.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] bg-gradient-to-br from-indigo-500/10 to-purple-500/10 blur-3xl animate-[pulse_6s_cubic-bezier(0.4,0,0.6,1)_infinite] transition-all duration-700 ${t?"scale-110":"scale-100"}`})})]})})]})})})})},nA=B.memo(rA),T_=[{id:"1",Title:"Logo Reveal Animation | After Effects",Description:"This is a Logo Reveal Animation created using Adobe After Effects. Perfect for revealing brand logos and intros.",Img:"/CardProject_images/Aarvya-Logo-Reveal.png",ProjectLink:"https://youtu.be/OfSklX41950",YoutubeLink:"https://youtu.be/OfSklX41950",Category:"Logo Reveal"},{id:"2",Title:"Mahindra 3XO Car Delivery Video Edit",Description:"This is a Car Delivery Video Edit made in After Effects.",Img:"/CardProject_images/Mahindra-3XO-Car-Delivery.png",ProjectLink:"https://youtu.be/NkJGrnV3bbo",YoutubeLink:"https://youtu.be/NkJGrnV3bbo",Category:"Cars-Delivery"},{id:"3",Title:"Podcast Reel Sample for Mundhe Banni",Description:"This is a Podcast Reel Sample Video Edit made for Mundhe Banni.",Img:"/CardProject_images/Podcast-Mundhe-Banni.png",ProjectLink:"https://youtube.com/shorts/fY5NZVZEIFs",YoutubeLink:"https://youtube.com/shorts/fY5NZVZEIFs",Category:"Podcasts"}],nm=B.memo(()=>{const r=[{id:1,title:"Corporate Events",description:"We plan and manage professional corporate events that are seamless, impactful, and aligned with your brand. From conferences to product launches, we handle every detail to deliver a smooth and memorable experience.",image:"/services-images/corporate-events.jpg"},{id:2,title:"Bars & Restaurants",description:"We shoot and edit high-quality photos and videos that showcase your food, drinks, and atmosphere, helping your brand stand out and attract cust.",image:"/services-images/bars-restaurants.jpg"},{id:3,title:"Real Estate",description:"We shoot and edit professional photos and videos that highlight properties, enhance listings, and attract buyers.Our visuals focus on space, lighting, and detail to present each property at its best and drive faster engagement.",image:"/services-images/real-estate.jpg"},{id:4,title:"Testimonials",description:"We produce professional testimonial shoots that capture genuine client experiences with clarity and authenticity. From planning to filming and editing, we ensure each testimonial feels natural, credible, and aligned with your brand.",image:"/services-images/testimonials.jpg"},{id:5,title:"Digital Marketing",description:"We create data-driven digital marketing strategies that increase visibility, engagement, and conversions.From social media to online campaigns, we help brands connect with the right audience and grow consistently.",image:"/services-images/digital-marketing.jpg"},{id:6,title:"Social Media",description:"We manage your social media presence with strategic content, consistent posting, and audience engagement.Our approach helps build brand identity, grow followers, and maintain a strong online presence.",image:"/services-images/social-media.jpg"},{id:7,title:"Influencer Marketing",description:"We connect brands with relevant influencers to create authentic, engaging campaigns From strategy to execution, we manage collaborations that increase reach, trust, and brand awareness.",image:"/services-images/influencer-marketing.jpg"},{id:8,title:"Podcast",description:"We handle podcast recording, editing, and production with a focus on clear sound and polished visuals.From setup to final delivery, we help create podcasts that engage audiences and elevate your brand.",image:"/services-images/podcast.jpg"}];return w.jsxs("section",{id:"Services",className:"w-full relative overflow-hidden py-16 bg-transparent",children:[w.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[w.jsx("div",{className:"absolute inset-0 bg-transparent"}),w.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 10% 20%, rgba(99,102,241,0.16), transparent 18%),radial-gradient(circle at 85% 75%, rgba(168,85,247,0.12), transparent 22%)"}}),w.jsxs("div",{className:"absolute -inset-40 opacity-30",children:[w.jsx("div",{className:"absolute -inset-40 rounded-full blur-3xl",style:{background:"radial-gradient(circle at 20% 30%, rgba(99,102,241,0.14), transparent 25%)"}}),w.jsx("div",{className:"absolute -inset-56 rounded-full blur-2xl",style:{background:"radial-gradient(circle at 80% 70%, rgba(168,85,247,0.10), transparent 26%)"}})]}),w.jsx("div",{className:"absolute inset-0 opacity-6",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px)",backgroundSize:"36px 36px, 36px 36px",mixBlendMode:"overlay"}})]}),w.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-6 bg-transparent",children:[w.jsx("h3",{className:"text-center text-4xl md:text-5xl font-bold mb-12 text-transparent bg-clip-text bg-gradient-to-r from-[#6366f1] to-[#a855f7]","data-aos":"fade-up","data-aos-duration":"800",children:"We Offer"}),w.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-6",children:r.map((e,t)=>w.jsxs("div",{className:"w-full flex flex-col items-start gap-2 bg-transparent p-3 sm:p-4 rounded-lg","data-aos":"fade-up","data-aos-duration":900+t*50,children:[w.jsx("div",{className:"w-full h-full rounded-lg overflow-hidden bg-gradient-to-r from-purple-700 to-indigo-600 shadow-lg border border-white/10 p-1",children:w.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover rounded-lg",loading:"lazy"})}),w.jsxs("div",{className:"w-full",children:[w.jsx("h4",{className:"text-white font-bold text-xs sm:text-base mb-1",children:e.title}),w.jsx("p",{className:"text-[0.6rem] sm:text-xs text-gray-300 leading-tight",children:e.description})]})]},e.id))})]})]})});nm.displayName="Services";const sA="/assets/XpensiveMedia-Brochure-BwMvqXjx.pdf",k_=B.memo(()=>w.jsxs("div",{className:"text-center lg:mb-8 mb-2 px-[5%]",children:[w.jsx("div",{className:"inline-block relative group",children:w.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[#6366f1] to-[#a855f7]","data-aos":"zoom-in-up","data-aos-duration":"600",children:"About Us"})}),w.jsxs("div",{className:"mt-2 text-gray-400 max-w-2xl mx-auto text-base sm:text-lg flex items-center justify-center gap-2","data-aos":"zoom-in-up","data-aos-duration":"800",children:[w.jsx(up,{className:"w-5 h-5 text-purple-400"}),"Creating Brands That People Remember",w.jsx(up,{className:"w-5 h-5 text-purple-400"})]})]}));k_.displayName="Header";const S_=B.memo(()=>w.jsx("div",{className:"flex justify-end items-center sm:p-12 sm:py-0 sm:pb-0 p-0 py-2 pb-2",children:w.jsxs("div",{className:"relative group","data-aos":"fade-up","data-aos-duration":"1000",children:[w.jsxs("div",{className:"absolute -inset-6 opacity-[25%] z-0 hidden sm:block",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 via-indigo-500 to-purple-600 rounded-full blur-2xl animate-spin-slower"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-fuchsia-500 via-rose-500 to-pink-600 rounded-full blur-2xl animate-pulse-slow opacity-50"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-600 via-cyan-500 to-teal-400 rounded-full blur-2xl animate-float opacity-50"})]}),w.jsx("div",{className:"relative",children:w.jsxs("div",{className:"w-72 h-72 sm:w-80 sm:h-80 rounded-full overflow-hidden shadow-[0_0_40px_rgba(120,119,198,0.3)] transform transition-all duration-700 group-hover:scale-105",children:[w.jsx("div",{className:"absolute inset-0 border-4 border-white/20 rounded-full z-20 transition-all duration-700 group-hover:border-white/40 group-hover:scale-105"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/40 z-10 transition-opacity duration-700 group-hover:opacity-0 hidden sm:block"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-500/20 via-transparent to-blue-500/20 z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-700 hidden sm:block"}),w.jsx("img",{src:"/Xpenive-Media.jpg",alt:"Profile",className:"w-full h-full object-cover transition-all duration-700 group-hover:scale-110 group-hover:rotate-2",loading:"lazy"}),w.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-700 z-20 hidden sm:block",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/20 to-transparent transform -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-bl from-transparent via-white/10 to-transparent transform translate-y-full group-hover:-translate-y-full transition-transform duration-1000 delay-100"}),w.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-white/10 scale-0 group-hover:scale-100 transition-transform duration-700 animate-pulse-slow"})]})]})})]})}));S_.displayName="ProfileImage";const A_=B.memo(({icon:r,color:e,value:t,label:n,description:i,animation:a})=>w.jsx("div",{"data-aos":a,"data-aos-duration":1300,className:"relative group",children:w.jsxs("div",{className:"relative z-10 bg-gray-900/50 backdrop-blur-lg rounded-2xl p-6 border border-white/10 overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-2xl h-full flex flex-col justify-between",children:[w.jsx("div",{className:`absolute -z-10 inset-0 bg-gradient-to-br ${e} opacity-10 group-hover:opacity-20 transition-opacity duration-300`}),w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center bg-white/10 transition-transform group-hover:rotate-6",children:w.jsx(r,{className:"w-8 h-8 text-white"})}),w.jsx("span",{className:"text-4xl font-bold text-white","data-aos":"fade-up-left","data-aos-duration":"1500","data-aos-anchor-placement":"top-bottom",children:t})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm uppercase tracking-wider text-gray-300 mb-2","data-aos":"fade-up","data-aos-duration":"800","data-aos-anchor-placement":"top-bottom",children:n}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("p",{className:"text-xs text-gray-400","data-aos":"fade-up","data-aos-duration":"1000","data-aos-anchor-placement":"top-bottom",children:i}),w.jsx(Ux,{className:"w-4 h-4 text-white/50 group-hover:text-white transition-colors"})]})]})]})}));A_.displayName="StatCard";const iA=()=>{const[r,e]=B.useState(0),[t,n]=B.useState(0),[i,a]=B.useState(0);B.useEffect(()=>{const h=()=>{const f=JSON.parse(localStorage.getItem("certificates")||"[]"),m=new Date("2023-04-25"),v=new Date,b=v.getFullYear()-m.getFullYear()-(v<new Date(v.getFullYear(),m.getMonth(),m.getDate())?1:0);e(T_.length),n(f.length),a(b)};return h(),window.addEventListener("storage",h),()=>{window.removeEventListener("storage",h)}},[]),B.useEffect(()=>{const h=()=>{Md.init({once:!1})};h();let f;const m=()=>{clearTimeout(f),f=setTimeout(h,250)};return window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m),clearTimeout(f)}},[]);const u=B.useMemo(()=>[{icon:Y0,color:"from-[#6366f1] to-[#a855f7]",value:"80+",label:"Total Projects",description:"From raw to Remarkable",animation:"fade-right"},{icon:Fx,color:"from-[#a855f7] to-[#6366f1]",value:"40+",label:"Happy Clients",description:"Clients with satisfied feedback",animation:"fade-up"},{icon:Kx,color:"from-[#6366f1] to-[#a855f7]",value:i,label:"Years of Experience",description:"Continuous learning journey",animation:"fade-left"}],[r,t,i]);return w.jsxs("div",{className:"h-auto pb-10 text-white overflow-hidden px-[5%] sm:px-[5%] lg:px-[10%] mt-0",id:"About",children:[w.jsx(k_,{}),w.jsxs("div",{className:"w-full mx-auto pt-8 sm:pt-12 relative",children:[w.jsxs("div",{className:"flex flex-col-reverse lg:grid lg:grid-cols-2 gap-10 lg:gap-16 items-center",children:[w.jsxs("div",{className:"space-y-6 text-center lg:text-left",children:[w.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold","data-aos":"fade-right","data-aos-duration":"1000",children:[w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#6366f1] to-[#a855f7]",children:"Hello, We are"}),w.jsx("span",{className:"block mt-2 text-gray-200","data-aos":"fade-right","data-aos-duration":"1300",children:"Xpensive Media"})]}),w.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-400 leading-relaxed text-justify pb-4 sm:pb-0","data-aos":"fade-right","data-aos-duration":"1500",children:"Creativity fuels us and Quality defines us. Our team specializes in delivering high-quality video edits that captivate and inspire. From smooth transitions to cinematic storytelling, we ensure every frame reflects our passion for perfection and originality."}),w.jsx("div",{className:"flex flex-col lg:flex-row items-center lg:items-start gap-4 lg:gap-4 lg:px-0 w-full",children:w.jsx("a",{href:"#Portofolio",className:"w-full lg:w-auto",children:w.jsxs("button",{"data-aos":"fade-up","data-aos-duration":"1000",className:"w-full lg:w-auto sm:px-6 py-2 sm:py-3 rounded-lg border border-[#a855f7]/50 text-[#a855f7] font-medium transition-all duration-300 hover:scale-105 flex items-center justify-center lg:justify-start gap-2 hover:bg-[#00008A]/10 animate-bounce-slow delay-200",children:[w.jsx(Wx,{className:"w-4 h-4 sm:w-5 sm:h-5"})," View Projects"]})})})]}),w.jsx("div",{className:"max-w-6xl mx-auto",children:w.jsx(S_,{})})]}),w.jsx("a",{href:"#Portofolio",children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-16 cursor-pointer",children:u.map(h=>w.jsx(A_,{...h},h.label))})})]}),w.jsx(nm,{}),w.jsx("style",{children:`
        @keyframes float {
          0%,
          100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-20px);
          }
        }
        @keyframes spin-slower {
          to {
            transform: rotate(360deg);
          }
        }
        .animate-bounce-slow {
          animation: bounce 3s infinite;
        }
        .animate-pulse-slow {
          animation: pulse 3s infinite;
        }
        .animate-spin-slower {
          animation: spin-slower 8s linear infinite;
        }
      `})]})},oA=B.memo(iA),aA=()=>{const r=B.useRef([]),e=B.useRef(0);return B.useEffect(()=>{const t=[{x:-4,y:0},{x:-4,y:0},{x:20,y:-8},{x:20,y:-8}];let n;const i=()=>{const a=window.pageYOffset;e.current=a,r.current.forEach((u,h)=>{const f=t[h],m=Math.sin(a/100+h*.5)*340,v=Math.cos(a/100+h*.5)*40,b=f.x+m,E=f.y+v;u.style.transform=`translate(${b}px, ${E}px)`,u.style.transition="transform 1.4s ease-out"}),n=requestAnimationFrame(i)};return window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i),cancelAnimationFrame(n)}},[]),w.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[w.jsxs("div",{className:"absolute inset-0",children:[w.jsx("div",{ref:t=>r.current[0]=t,className:"absolute top-0 -left-4 md:w-96 md:h-96 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 md:opacity-20 "}),w.jsx("div",{ref:t=>r.current[1]=t,className:"absolute top-0 -right-4 w-96 h-96 bg-cyan-500 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 md:opacity-20 hidden sm:block"}),w.jsx("div",{ref:t=>r.current[2]=t,className:"absolute -bottom-8 left-[-40%] md:left-20 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 md:opacity-20 "}),w.jsx("div",{ref:t=>r.current[3]=t,className:"absolute -bottom-10 right-20 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-[128px] opacity-20 md:opacity-10 hidden sm:block"})]}),w.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#4f4f4f10_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f10_1px,transparent_1px)] bg-[size:24px_24px]"})]})};function lA(){const r=B.useRef(null),e=B.useRef(null),t=B.useRef(null),[n,i]=B.useState(0),[a,u]=B.useState(!1),[h,f]=B.useState(!1),[m,v]=B.useState(""),[b,E]=B.useState(""),[C,j]=B.useState("all"),D=[{key:"all",label:"All",icon:"grid"},{key:"events-weddings",label:"Events & Weddings",icon:"heart"},{key:"car-delivery",label:"Cars-Delively",icon:"car"},{key:"logo-reveal",label:"Logo Reveal",icon:"camera"},{key:"podcasts",label:"Podcasts",icon:"handshake"},{key:"real-estate",label:"Real Estate",icon:"home"},{key:"commercial",label:"Commercial",icon:"briefcase"},{key:"school-works",label:"School Works",icon:"book-open"}],N=[{id:0,cards:[{title:"Car Delivery",category:"car-delivery",path:"car-delivery-1.mp4"},{title:"Mundhe Banni",category:"podcasts",path:"mundhe-banni.mp4"},{title:"Events & Weddings",category:"events-weddings",path:"wedding-invitation-1.mp4"},{title:"Events & Weddings",category:"events-weddings",path:"tanisha-nikhil.mp4"},{title:"Logo Reveal",category:"logo-reveal",path:"logo-reveal-1.mp4"},{title:"Real Estate",category:"real-estate",path:"vanya-resort.mp4"},{title:"Real Estate",category:"real-estate",path:"krishna-real-estate.mp4"},{title:"Real Estate",category:"real-estate",path:"krishna-real-estate-2.mp4"},{title:"Commercial",category:"commercial",path:"nido-cocktail.mp4"},{title:"Commercial",category:"commercial",path:"nido-valentine.mp4"},{title:"Commercial",category:"commercial",path:"pink-bag.mp4"},{title:"Commercial",category:"commercial",path:"nido-cricket-poster.mp4"},{title:"Commercial",category:"commercial",path:"bracelet.mp4"},{title:"School Works",category:"school-works",path:"euro-kids-pink-day.mp4"},{title:"School Works",category:"school-works",path:"euro-kids-holi.mp4"},{title:"School Works",category:"school-works",path:"euro-kids-annual-day.mp4"}]}],K=B.useMemo(()=>C==="all"?N.flatMap(T=>T.cards):N.flatMap(T=>T.cards.filter(P=>P.category===C)),[C,N]);B.useEffect(()=>{a&&e.current&&(e.current.scrollLeft=0)},[C,a]);const H=N.map((T,P)=>({idx:P,has:T.cards.some(S=>C==="all"?!0:S.category===C)})).filter(T=>T.has).map(T=>T.idx);async function z(T,P){if(!T||!P)return!1;try{const{data:S}=ad.storage.from("portfolio-videos").getPublicUrl(P);return S&&S.publicUrl?(T.src=S.publicUrl,!0):!1}catch(S){try{console.error("[portfolio] assign video src failed",P,S)}catch{}return!1}}B.useEffect(()=>{const T=H[0]??0;i(T);const S=r.current?.querySelector(".carousel-item.active .slider-wrapper");if(S)try{S.scrollTo({left:0,behavior:"instant"})}catch{}},[C,H]),B.useEffect(()=>{if(a){const T=e.current;T&&T.scrollTo({left:0,behavior:"instant"})}},[C,a]);const ee=B.useCallback(()=>{if(a){const A=e.current;if(!A)return;const R=Math.round(A.clientWidth*.85);A.scrollBy({left:R,behavior:"smooth"});return}const T=H;if(T.length<=1){const R=r.current?.querySelector(".carousel-item.active .slider-wrapper");if(!R)return;const k=Math.round(R.clientWidth*.85);R.scrollBy({left:k,behavior:"smooth"});return}const S=(T.indexOf(n)+1)%T.length;i(T[S])},[a,H,n]),ge=B.useCallback(()=>{if(a){const A=e.current;if(!A)return;const R=Math.round(A.clientWidth*.85);A.scrollBy({left:-R,behavior:"smooth"});return}const T=H;if(T.length<=1){const R=r.current?.querySelector(".carousel-item.active .slider-wrapper");if(!R)return;const k=Math.round(R.clientWidth*.85);R.scrollBy({left:-k,behavior:"smooth"});return}const S=(T.indexOf(n)-1+T.length)%T.length;i(T[S])},[a,H,n]);B.useEffect(()=>{const T=r.current;if(!T||a)return;const P=Array.from(T.querySelectorAll(".carousel-item")),S=new Set([n,n-1,n+1]);P.forEach((A,R)=>{const k=A.querySelectorAll(".showcase-video"),ie=S.has(R);R===n?(A.classList.add("active"),k.forEach(re=>{try{if(!re.src){const he=re.getAttribute("data-src");he&&(async()=>{if(await z(re,he))try{console.log("[portfolio] set src",he)}catch{}else try{console.error("[portfolio] invalid video source, skipping",he)}catch{}})()}re.preload="auto";try{re.loading="eager"}catch{}re.muted=!0,re.setAttribute("muted",""),re.playsInline=!0,re.setAttribute("playsinline",""),re.autoplay=!0,re.setAttribute("autoplay",""),re.loop=!0,re.setAttribute("loop",""),re.load();const Z=()=>{try{try{console.log("[portfolio] tryPlay",re.src)}catch{}const he=re.play();he&&typeof he.then=="function"&&he.then(()=>{try{console.log("[portfolio] played",re.src)}catch{}}).catch(Y=>{try{console.error("[portfolio] play failed",re.src,Y)}catch{}})}catch(he){try{console.error("[portfolio] play exception",re.src,he)}catch{}}};if(re.readyState>=2)Z();else{const he=()=>Z();re.addEventListener("loadeddata",he,{once:!0}),re.addEventListener("loadedmetadata",he,{once:!0}),re.addEventListener("canplay",he,{once:!0}),setTimeout(()=>Z(),700)}}catch{}})):(A.classList.remove("active"),k.forEach(re=>{try{re.pause(),re.currentTime=0}catch{}}),ie&&k.forEach(re=>{try{if(!re.src){const Z=re.getAttribute("data-src");Z&&(async()=>{if(await z(re,Z))try{console.log("[portfolio] preload assigned",Z)}catch{}else try{console.error("[portfolio] preload assign failed",Z)}catch{}})()}re.preload="auto";try{re.loading="eager"}catch{}re.muted=!0,re.setAttribute("muted",""),re.playsInline=!0,re.setAttribute("playsinline",""),re.autoplay=!0,re.setAttribute("autoplay",""),re.load()}catch{}}))})},[n,a]),B.useEffect(()=>{const T=r.current;if(T)try{Array.from(T.querySelectorAll("video.showcase-video")).slice(0,4).forEach(S=>{try{if(!S.src){const A=S.getAttribute("data-src");A&&(async()=>{if(await z(S,A)){try{console.log("[portfolio] initial preload assigned",A)}catch{}S.load(),setTimeout(()=>{try{const k=t.current.play();k&&typeof k.then=="function"&&k.catch(ie=>{console.error("[portfolio] modal video play failed",ie)})}catch(k){console.error("[portfolio] modal play error",k)}},100)}else try{console.error("[portfolio] initial preload failed",A)}catch{}})()}S.preload="auto";try{S.loading="eager"}catch{}S.muted=!0,S.setAttribute("muted",""),S.playsInline=!0,S.setAttribute("playsinline",""),S.autoplay=!0,S.setAttribute("autoplay",""),S.loop=!0,S.setAttribute("loop",""),S.load(),setTimeout(()=>{try{const A=S.play();A&&typeof A.then=="function"&&A.catch(()=>{})}catch(A){}},500)}catch(A){}})}catch{}},[K]),B.useEffect(()=>{if(!a)return;const T=e.current;if(!T)return;const P=Array.from(T.querySelectorAll("video.showcase-video")),S=new IntersectionObserver(A=>{A.forEach(R=>{const k=R.target;if(R.isIntersecting)try{if(k.src)k.paused&&k.play().catch(()=>{});else{const ie=k.getAttribute("data-src");ie&&(async()=>{if(await z(k,ie)){try{console.log("[portfolio] set src (observer)",ie)}catch{}k.preload="metadata";try{k.loading="eager"}catch{}k.muted=!0,k.setAttribute("muted",""),k.playsInline=!0,k.setAttribute("playsinline",""),k.autoplay=!0,k.setAttribute("autoplay",""),k.load();const Z=()=>{try{const he=k.play();he&&typeof he.then=="function"&&he.catch(()=>{})}catch(he){}};k.readyState>=2?Z():(k.addEventListener("loadeddata",Z,{once:!0}),k.addEventListener("loadedmetadata",Z,{once:!0}),k.addEventListener("canplay",Z,{once:!0}),setTimeout(Z,700))}})()}}catch{}else try{k.pause(),k.currentTime=0}catch{}})},{root:T,threshold:.3});return P.forEach(A=>S.observe(A)),()=>{P.forEach(A=>S.unobserve(A)),S.disconnect()}},[a,K]),B.useEffect(()=>{const T=P=>{h&&P.key==="Escape"&&L(),P.key==="ArrowRight"&&ee(),P.key==="ArrowLeft"&&ge()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[h,ee,ge]),B.useEffect(()=>{const T=()=>{u(window.innerWidth<768)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),B.useEffect(()=>{const T=t.current;if(h&&T){T.currentTime=0,T.muted=!0;try{console.log("[portfolio] modal open, attempting play",m)}catch{}const P=()=>{try{try{console.log("[portfolio] modal tryPlay",m)}catch{}const S=T.play();S&&typeof S.then=="function"&&S.then(()=>{try{console.log("[portfolio] modal played",m)}catch{}}).catch(A=>{try{console.error("[portfolio] modal play failed",m,A)}catch{}})}catch(S){try{console.error("[portfolio] modal play exception",m,S)}catch{}}};if(T.readyState>=2)P();else{const S=()=>P();T.addEventListener("loadedmetadata",S,{once:!0})}}if(!h&&T)try{T.pause(),T.currentTime=0}catch{}},[h,m]);const ce=async(T,P)=>{E(P),f(!0);try{const{data:S}=ad.storage.from("portfolio-videos").getPublicUrl(T);S&&S.publicUrl?v(S.publicUrl):console.error("[portfolio] failed to get public URL",T)}catch(S){console.error("[portfolio] modal URL fetch error",S)}setTimeout(()=>{if(t.current){t.current.load();try{const S=t.current.play();S&&typeof S.then=="function"&&S.catch(A=>{console.error("[portfolio] modal video play failed",A)})}catch(S){console.error("[portfolio] modal play error",S)}}},150)},L=()=>{f(!1),v(""),E(""),t.current&&(t.current.pause(),t.current.currentTime=0)};return w.jsxs("div",{id:"Portofolio",className:"portfolio-section",children:[w.jsx("style",{children:`
      :root{--primary-color:#6366f1;--bg-dark:#030014;--text-muted:rgba(255,255,255,0.7)}
      /* Scoped to portfolio-section to avoid global leaks if possible, but these are mostly unique names */
      .portfolio-section { background: var(--bg-dark); padding: 1rem 0 5rem 0; color: #fff; overflow: hidden; }
      .showcase-container{max-width:1400px;margin:0 auto;padding:0 2rem}
      .showcase-header{text-align:center;padding:2rem 0 2rem;margin-bottom:2rem}
      .showcase-title{font-size:3.5rem;font-weight:700;margin-bottom:1.5rem;background:linear-gradient(45deg,#fff,#f3f3f3);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
      .showcase-description{color:var(--text-muted);font-size:1.2rem;max-width:600px;margin:0 auto;line-height:1.8}
      .category-list{display:flex;gap:.75rem;overflow-x:auto;padding:.5rem;justify-content:center;align-items:center}
      .category-item{padding:.6rem 1.2rem;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.06);border-radius:50px;color:#fff;cursor:pointer;white-space:nowrap}
      .category-item.active{background:var(--primary-color);border-color:var(--primary-color)}
      .slider-section{padding:1rem 0;min-height:50vh;display:flex;align-items:center;justify-content:center;background:transparent}
      .slider-container{width:100%;max-width:900px;margin:0 auto;position:relative;background:transparent}
      .slider-wrapper{display:flex;gap:1rem;align-items:flex-start}
      .slider-wrapper{overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}
      .slider-card{flex:0 0 calc((100% - 2rem)/3);border-radius:12px;overflow:hidden;aspect-ratio:9/16;max-width:280px;background:transparent;cursor:pointer}
      .slider-card{scroll-snap-align:center}
      .video-thumbnail{width:100%;height:100%;object-fit:cover}
      .video-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.18);opacity:0;transition:opacity .25s}
      .slider-card:hover .video-overlay{opacity:1}
      .video-play-btn{width:56px;height:56px;border-radius:999px;background:var(--primary-color);display:flex;align-items:center;justify-content:center;color:#fff}
      .nav-button{position:absolute;top:50%;transform:translateY(-50%);width:45px;height:45px;border-radius:12px;background:var(--bg-dark);border:2px solid rgba(255,255,255,0.08);display:flex;align-items:center;justify-content:center;z-index:10}
      .nav-button.prev{left:10px}.nav-button.next{right:10px}
      .dot{width:12px;height:12px;border-radius:6px;background:var(--bg-dark);border:2px solid rgba(255,255,255,0.08);cursor:pointer}
      .dot.active{background:var(--primary-color);width:24px}
      .carousel-item{display:none}
      .carousel-item.active{display:block}
      /* modal */
      .video-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:9999;opacity:0;pointer-events:none;transition:opacity .2s}
      .video-modal.active{opacity:1;pointer-events:auto}
      .video-modal-overlay{position:absolute;inset:0;background:rgba(0,0,0,.8)}
      .video-modal-content{position:relative;z-index:2;max-width:1200px;width:95%;background:#000;padding:1rem;border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;max-height:90vh}
      .video-modal-content video{width:100%;max-height:80vh;object-fit:contain;display:block;background:#000;border-radius:8px}
      .video-modal-close{position:absolute;top:8px;right:8px;z-index:5;color:white;background:rgba(0,0,0,0.5);border-radius:50%;padding:4px}
      
      @media (max-width: 1024px) {
        .showcase-title{font-size:2.8rem}
        .showcase-description{font-size:1.05rem}
        .slider-card{flex:0 0 calc((100% - 1rem)/2);max-width:48%}
        .slider-wrapper{gap:.75rem}
      }
      @media (max-width: 768px) {
        .showcase-title{font-size:2.2rem;margin-bottom:1rem}
        .showcase-description{font-size:1rem;max-width:92%}
        .category-list{gap:.5rem;padding:.4rem}
        .category-item{padding:.5rem .9rem;font-size:.95rem}
        .slider-card{flex:0 0 80%;max-width:80%}
        .nav-button{width:40px;height:40px}
        .video-play-btn{width:48px;height:48px}
        .video-modal-content{max-height:95vh;padding:.75rem;border-radius:8px}
        .video-modal-content video{max-height:70vh}
        .portfolio-section{padding:3rem 0 1.5rem}
      }
      @media (max-width: 480px) {
        .showcase-title{font-size:1.8rem}
        .showcase-description{font-size:.95rem}
        .category-list{justify-content:flex-start;padding-left:12px;padding-right:12px}
        .category-item{padding:.45rem .8rem;font-size:.9rem}
        .slider-card{flex:0 0 92%;max-width:92%;aspect-ratio:9/14}
        .slider-container{padding-left:8px;padding-right:8px}
        .slider-section{padding:0.5rem 0}
        .dot{width:10px;height:10px}
        .dot.active{width:18px}
        .video-modal-content video{max-height:60vh}
        .flat-slider{overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;gap:1rem;padding-bottom:8px}
        .flat-slider .slider-card{scroll-snap-align:center;flex:0 0 92%;max-width:92%}
        .nav-button{display:none}
      }
      `}),w.jsxs("div",{className:"showcase-container",children:[w.jsxs("div",{className:"text-center pb-10",children:[w.jsx("h2",{className:"inline-block text-3xl md:text-5xl font-bold text-center mx-auto text-transparent bg-clip-text bg-gradient-to-r from-[#6366f1] to-[#a855f7]",children:w.jsx("span",{style:{color:"#6366f1",backgroundImage:"linear-gradient(45deg, #6366f1 10%, #a855f7 93%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Portfolio Showcase"})}),w.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto text-sm md:text-base mt-2",children:"Explore my journey through projects, and technical expertise. Each section represents a milestone in my continuous learning path."})]}),w.jsx("nav",{className:"category-nav",children:w.jsx("div",{className:"category-container",children:w.jsx("div",{className:"category-wrapper",children:w.jsx("div",{className:"category-list",children:D.map(T=>w.jsx("button",{className:`category-item ${C===T.key?"active":""}`,onClick:()=>j(T.key),type:"button",children:T.label},T.key))})})})}),w.jsx("section",{children:w.jsx("div",{className:"slider-section",children:w.jsxs("div",{className:"slider-container",ref:r,children:[w.jsxs("div",{className:"carousel-inner",children:[a?w.jsx("div",{className:"carousel-item active",children:w.jsx("div",{className:"slider-wrapper flat-slider",ref:e,children:K.map((T,P)=>w.jsx("div",{className:"slider-card video-card","data-category":T.category,onClick:()=>ce(T.path,T.title),children:w.jsxs("div",{className:"video-thumbnail-wrapper",style:{position:"relative",height:"100%"},children:[w.jsx("video",{className:"video-thumbnail showcase-video","data-src":T.path,muted:!0,autoPlay:!0,loop:!0,preload:a?"metadata":"auto",playsInline:!0,crossOrigin:"anonymous",poster:"/Conquer_Media.jpg",onError:S=>{try{S.currentTarget.pause()}catch{}},loading:"eager"}),w.jsx("div",{className:"video-overlay",children:w.jsx("div",{className:"video-play-btn",children:w.jsx(zl,{size:20})})})]})},P))})}):N.map((T,P)=>{const S=T.cards.some(A=>C==="all"?!0:A.category===C);return w.jsx("div",{className:`carousel-item ${P===n&&S?"active":""}`,children:w.jsx("div",{className:"slider-wrapper",children:T.cards.map((A,R)=>(C==="all"||A.category===C)&&w.jsx("div",{className:"slider-card video-card","data-category":A.category,onClick:()=>ce(A.path,A.title),children:w.jsxs("div",{className:"video-thumbnail-wrapper",style:{position:"relative",height:"100%"},children:[w.jsx("video",{className:"video-thumbnail showcase-video","data-src":A.path,muted:!0,autoPlay:!0,loop:!0,preload:a?"metadata":"auto",playsInline:!0,crossOrigin:"anonymous",poster:"/Conquer_Media.jpg",onError:k=>{try{k.currentTarget.pause()}catch{}},loading:"eager"}),w.jsx("div",{className:"video-overlay",children:w.jsx("div",{className:"video-play-btn",children:w.jsx(zl,{size:20})})})]})},R))})},T.id)}),!a&&w.jsxs(w.Fragment,{children:[w.jsx("button",{type:"button","aria-label":"Previous",className:"nav-button prev",onClick:ge,children:w.jsx(J0,{})}),w.jsx("button",{type:"button","aria-label":"Next",className:"nav-button next",onClick:ee,children:w.jsx(td,{})})]})]}),!a&&w.jsx("div",{className:"slider-dots",style:{display:"flex",justifyContent:"center",gap:12,marginTop:16},children:N.map((T,P)=>{if(!H.includes(P))return null;const A=P;return w.jsx("button",{className:`dot ${A===n?"active":""}`,onClick:()=>i(A),"aria-label":`Go to slide ${P+1}`,type:"button"},P)})})]})})}),w.jsx("div",{className:"flex justify-center mt-8",children:w.jsx("a",{href:"/showcase",children:w.jsxs("button",{className:"group relative w-[200px]",children:[w.jsx("div",{className:"absolute -inset-0.5 bg-[#0072fe] rounded-xl opacity-40 blur-md group-hover:opacity-80 transition-all duration-700"}),w.jsxs("div",{className:"relative h-12 bg-[#0072fe] rounded-lg border border-[#0072fe] leading-none overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 scale-x-0 group-hover:scale-x-100 origin-left transition-transform duration-500 bg-white/10"}),w.jsxs("span",{className:"absolute inset-0 flex items-center justify-center gap-2 text-sm tracking-wide",children:[w.jsx("span",{className:"text-white font-medium z-10",children:"VIEW ALL VIDEOS"}),w.jsx(td,{className:"w-4 h-4 text-white transform transition-all duration-300 group-hover:translate-x-1"})]})]})]})})}),h&&w.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",children:w.jsxs("div",{className:"relative w-full max-w-4xl bg-black rounded-lg overflow-hidden",children:[w.jsx("button",{onClick:L,className:"absolute top-4 right-4 z-10 text-white bg-black/50 rounded-full p-2 hover:bg-black/80",children:""}),w.jsxs("video",{ref:t,controls:!0,autoPlay:!0,muted:!0,className:"w-full h-auto max-h-[80vh]",onLoadedData:()=>{try{t.current.muted=!1,t.current?.play()}catch(T){console.error("[portfolio] modal video loadeddata error",T)}},onCanPlay:()=>{try{t.current.muted=!1,t.current?.play()}catch(T){console.error("[portfolio] modal video canplay error",T)}},children:[m&&w.jsx("source",{src:m,type:"video/mp4",onError:T=>{console.error("[portfolio] modal video source error",T)}}),"Your browser does not support the video tag."]},m)]})})]})]})}function uA(r){return Yp({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"},child:[]}]})(r)}const sw=[{name:"WhatsApp",displayName:"Let's Connect",subText:"on WhatsApp",icon:uA,url:"https://wa.me/916363770057",color:"#25D366",gradient:"from-[#25D366] to-[#128C7E]",isPrimary:!0},{name:"Instagram",displayName:"Instagram",subText:"@xpensivemedia.co",icon:Gx,url:"https://www.instagram.com/xpensivemedia.co",color:"#E4405F",gradient:"from-[#833AB4] via-[#E4405F] to-[#FCAF45]"},{name:"YouTube",displayName:"Youtube",subText:"@XpensiveMediaYT",icon:sT,url:"https://www.youtube.com/@XpensiveMediaYT",color:"#FF0000",gradient:"from-[#FF0000] to-[#CC0000]"},{name:"Email",displayName:"Email",subText:"xpensivemedia.co@gmail.com",icon:Jp,url:"mailto:xpensivemedia.co@gmail.com",color:"#ffffff",gradient:"from-[#333] to-[#24292e]"},{name:"LinkedIn",displayName:"LinkedIn",subText:"@xpensivemedia",icon:Jx,url:"https://www.linkedin.com/in/xpensivemedia",color:"white",gradient:"from-[#000000] via-[#25F4EE] to-[#FE2C55]"}],cA=()=>{const r=sw.find(u=>u.isPrimary),e=sw.filter(u=>!u.isPrimary),[t,n,i,a]=e;return w.jsxs("div",{className:"w-full bg-gradient-to-br from-white/10 to-white/5 rounded-2xl p-6 py-8 backdrop-blur-xl",children:[w.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[w.jsx("span",{className:"inline-block w-8 h-1 bg-indigo-500 rounded-full"}),"Connect With Me"]}),w.jsxs("div",{className:"flex flex-col gap-4",children:[w.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:`group relative flex items-center justify-between p-4 rounded-lg 
             bg-white/5 border border-white/10 overflow-hidden
             hover:border-white/20 transition-all duration-500`,children:[w.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-500
               bg-gradient-to-r ${r.gradient}`}),w.jsxs("div",{className:"relative flex items-center gap-4",children:[w.jsxs("div",{className:"relative flex items-center justify-center",children:[w.jsx("div",{className:`absolute inset-0 opacity-20 rounded-md transition-all duration-500
                   group-hover:scale-110 group-hover:opacity-30`,style:{backgroundColor:r.color}}),w.jsx("div",{className:"relative p-2 rounded-md",children:w.jsx(r.icon,{className:"w-6 h-6 transition-all duration-500 group-hover:scale-105",style:{color:r.color}})})]}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-lg font-bold pt-[0.2rem] text-gray-200 tracking-tight leading-none group-hover:text-white transition-colors duration-300",children:r.displayName}),w.jsx("span",{className:"text-sm text-gray-400 group-hover:text-gray-300 transition-colors duration-300",children:r.subText})]})]}),w.jsx(Ol,{className:`relative w-5 h-5 text-gray-500 group-hover:text-white
               opacity-0 group-hover:opacity-100 transition-all duration-300
               transform group-hover:translate-x-0 -translate-x-1`}),w.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none overflow-hidden",children:w.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent
                  translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000`})})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t,n].map(u=>w.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:`group relative flex items-center gap-3 p-4 rounded-xl 
                       bg-white/5 border border-white/10 overflow-hidden
                       hover:border-white/20 transition-all duration-500`,children:[w.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-500
                             bg-gradient-to-r ${u.gradient}`}),w.jsxs("div",{className:"relative flex items-center justify-center",children:[w.jsx("div",{className:`absolute inset-0 opacity-20 rounded-lg transition-all duration-500
                               group-hover:scale-125 group-hover:opacity-30`,style:{backgroundColor:u.color}}),w.jsx("div",{className:"relative p-2 rounded-lg",children:w.jsx(u.icon,{className:"w-5 h-5 transition-all duration-500 group-hover:scale-110",style:{color:u.color}})})]}),w.jsxs("div",{className:"flex flex-col min-w-0",children:[w.jsx("span",{className:"text-sm font-bold text-gray-200 group-hover:text-white transition-colors duration-300",children:u.displayName}),w.jsx("span",{className:"text-xs text-gray-400 truncate group-hover:text-gray-300 transition-colors duration-300",children:u.subText})]}),w.jsx(Ol,{className:`w-4 h-4 text-gray-500 group-hover:text-white ml-auto
                                     opacity-0 group-hover:opacity-100 transition-all duration-300
                                     transform group-hover:translate-x-0 -translate-x-2`}),w.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none overflow-hidden",children:w.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent
                              translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000`})})]},u.name))}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i,a].map(u=>w.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:`group relative flex items-center gap-3 p-4 rounded-xl 
                       bg-white/5 border border-white/10 overflow-hidden
                       hover:border-white/20 transition-all duration-500`,children:[w.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-500
                             bg-gradient-to-r ${u.gradient}`}),w.jsxs("div",{className:"relative flex items-center justify-center",children:[w.jsx("div",{className:`absolute inset-0 opacity-20 rounded-lg transition-all duration-500
                               group-hover:scale-125 group-hover:opacity-30`,style:{backgroundColor:u.color}}),w.jsx("div",{className:"relative p-2 rounded-lg",children:w.jsx(u.icon,{className:"w-5 h-5 transition-all duration-500 group-hover:scale-110",style:{color:u.color}})})]}),w.jsxs("div",{className:"flex flex-col min-w-0",children:[w.jsx("span",{className:"text-sm font-bold text-gray-200 group-hover:text-white transition-colors duration-300",children:u.displayName}),w.jsx("span",{className:"text-xs text-gray-400 truncate group-hover:text-gray-300 transition-colors duration-300",children:u.subText})]}),w.jsx(Ol,{className:`w-4 h-4 text-gray-500 group-hover:text-white ml-auto
                                     opacity-0 group-hover:opacity-100 transition-all duration-300
                                     transform group-hover:translate-x-0 -translate-x-2`}),w.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none overflow-hidden",children:w.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent
                              translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000`})})]},u.name))})]})]})},dA=()=>{};var iw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},hA=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],u=r[t++],h=r[t++],f=((i&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(f>>10)),e[n++]=String.fromCharCode(56320+(f&1023))}else{const a=r[t++],u=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},C_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],u=i+1<r.length,h=u?r[i+1]:0,f=i+2<r.length,m=f?r[i+2]:0,v=a>>2,b=(a&3)<<4|h>>4;let E=(h&15)<<2|m>>6,C=m&63;f||(C=64,u||(E=64)),n.push(t[v],t[b],t[E],t[C])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(I_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):hA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],h=i<r.length?t[r.charAt(i)]:0;++i;const m=i<r.length?t[r.charAt(i)]:64;++i;const b=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||h==null||m==null||b==null)throw new fA;const E=a<<2|h>>4;if(n.push(E),m!==64){const C=h<<4&240|m>>2;if(n.push(C),b!==64){const j=m<<6&192|b;n.push(j)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class fA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pA=function(r){const e=I_(r);return C_.encodeByteArray(e,!0)},ud=function(r){return pA(r).replace(/\./g,"")},mA=function(r){try{return C_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=()=>gA().__FIREBASE_DEFAULTS__,vA=()=>{if(typeof process>"u"||typeof iw>"u")return;const r=iw.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&mA(r[1]);return e&&JSON.parse(e)},sm=()=>{try{return dA()||yA()||vA()||wA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_A=r=>{var e,t;return(t=(e=sm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},bA=r=>{const e=_A(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},R_=()=>{var r;return(r=sm())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function P_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ud(JSON.stringify(t)),ud(JSON.stringify(u)),""].join(".")}const Ll={};function TA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?r.emulator.push(e):r.prod.push(e);return r}function kA(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let ow=!1;function SA(r,e){if(typeof window>"u"||typeof document>"u"||!$d(window.location.host)||Ll[r]===e||Ll[r]||ow)return;Ll[r]=e;function t(E){return`__firebase__banner__${E}`}const n="__firebase__banner",a=TA().prod.length>0;function u(){const E=document.getElementById(n);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{ow=!0,u()},E}function v(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=kA(n),C=t("text"),j=document.getElementById(C)||document.createElement("span"),D=t("learnmore"),N=document.getElementById(D)||document.createElement("a"),K=t("preprendIcon"),H=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;h(z),v(N,D);const ee=m();f(H,K),z.append(H,j,N,ee),document.body.appendChild(z)}a?(j.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IA(){var r;const e=(r=sm())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CA(){return!IA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="FirebaseError";class Yi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=NA,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N_.prototype.create)}}class N_{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?OA(a,n):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Yi(i,h,n)}}function OA(r,e){return r.replace(jA,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const jA=/\{\$([^}]+)}/g;function cd(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],u=e[i];if(aw(a)&&aw(u)){if(!cd(a,u))return!1}else if(a!==u)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function aw(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(r){return r&&r._delegate?r._delegate:r}class ma{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new EA;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VA(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);n===h&&u.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const u=this.instances.get(i);return u&&e(u,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:LA(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LA(r){return r===Mi?void 0:r}function VA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(He||(He={}));const $A={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},UA=He.INFO,FA={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},BA=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=FA[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O_{constructor(e){this.name=e,this._logLevel=UA,this._logHandler=BA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const zA=(r,e)=>e.some(t=>r instanceof t);let lw,uw;function qA(){return lw||(lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WA(){return uw||(uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j_=new WeakMap,bp=new WeakMap,D_=new WeakMap,Gf=new WeakMap,im=new WeakMap;function HA(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",u)},a=()=>{t(Gs(r.result)),i()},u=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&j_.set(t,r)}).catch(()=>{}),im.set(e,r),e}function KA(r){if(bp.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",u),r.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",u),r.addEventListener("abort",u)});bp.set(r,e)}let Ep={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return bp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||D_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function GA(r){Ep=r(Ep)}function QA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Qf(this),e,...t);return D_.set(n,e.sort?e.sort():[e]),Gs(n)}:WA().includes(r)?function(...e){return r.apply(Qf(this),e),Gs(j_.get(this))}:function(...e){return Gs(r.apply(Qf(this),e))}}function JA(r){return typeof r=="function"?QA(r):(r instanceof IDBTransaction&&KA(r),zA(r,qA())?new Proxy(r,Ep):r)}function Gs(r){if(r instanceof IDBRequest)return HA(r);if(Gf.has(r))return Gf.get(r);const e=JA(r);return e!==r&&(Gf.set(r,e),im.set(e,r)),e}const Qf=r=>im.get(r);function YA(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const u=indexedDB.open(r,e),h=Gs(u);return n&&u.addEventListener("upgradeneeded",f=>{n(Gs(u.result),f.oldVersion,f.newVersion,Gs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const XA=["get","getKey","getAll","getAllKeys","count"],ZA=["put","add","delete","clear"],Jf=new Map;function cw(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=ZA.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||XA.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,i?"readwrite":"readonly");let m=f.store;return n&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),i&&f.done]))[0]};return Jf.set(e,a),a}GA(r=>({...r,get:(e,t,n)=>cw(e,t)||r.get(e,t,n),has:(e,t)=>!!cw(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tI(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function tI(r){const e=r.getComponent();return e?.type==="VERSION"}const xp="@firebase/app",dw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new O_("@firebase/app"),rI="@firebase/app-compat",nI="@firebase/analytics-compat",sI="@firebase/analytics",iI="@firebase/app-check-compat",oI="@firebase/app-check",aI="@firebase/auth",lI="@firebase/auth-compat",uI="@firebase/database",cI="@firebase/data-connect",dI="@firebase/database-compat",hI="@firebase/functions",fI="@firebase/functions-compat",pI="@firebase/installations",mI="@firebase/installations-compat",gI="@firebase/messaging",yI="@firebase/messaging-compat",vI="@firebase/performance",wI="@firebase/performance-compat",_I="@firebase/remote-config",bI="@firebase/remote-config-compat",EI="@firebase/storage",xI="@firebase/storage-compat",TI="@firebase/firestore",kI="@firebase/ai",SI="@firebase/firestore-compat",AI="firebase",II="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",CI={[xp]:"fire-core",[rI]:"fire-core-compat",[sI]:"fire-analytics",[nI]:"fire-analytics-compat",[oI]:"fire-app-check",[iI]:"fire-app-check-compat",[aI]:"fire-auth",[lI]:"fire-auth-compat",[uI]:"fire-rtdb",[cI]:"fire-data-connect",[dI]:"fire-rtdb-compat",[hI]:"fire-fn",[fI]:"fire-fn-compat",[pI]:"fire-iid",[mI]:"fire-iid-compat",[gI]:"fire-fcm",[yI]:"fire-fcm-compat",[vI]:"fire-perf",[wI]:"fire-perf-compat",[_I]:"fire-rc",[bI]:"fire-rc-compat",[EI]:"fire-gcs",[xI]:"fire-gcs-compat",[TI]:"fire-fst",[SI]:"fire-fst-compat",[kI]:"fire-vertex","fire-js":"fire-js",[AI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new Map,RI=new Map,kp=new Map;function hw(r,e){try{r.container.addComponent(e)}catch(t){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Jl(r){const e=r.name;if(kp.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;kp.set(e,r);for(const t of dd.values())hw(t,r);for(const t of RI.values())hw(t,r);return!0}function L_(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function V_(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new N_("app","Firebase",PI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=II;function $_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Tp,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw Qs.create("bad-app-name",{appName:String(i)});if(t||(t=R_()),!t)throw Qs.create("no-options");const a=dd.get(i);if(a){if(cd(t,a.options)&&cd(n,a.config))return a;throw Qs.create("duplicate-app",{appName:i})}const u=new MA(i);for(const f of kp.values())u.addComponent(f);const h=new NI(t,n,u);return dd.set(i,h),h}function OI(r=Tp){const e=dd.get(r);if(!e&&r===Tp&&R_())return $_();if(!e)throw Qs.create("no-app",{appName:r});return e}function Js(r,e,t){var n;let i=(n=CI[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${i}" with version "${e}":`];a&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(h.join(" "));return}Jl(new ma(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firebase-heartbeat-database",DI=1,Yl="firebase-heartbeat-store";let Yf=null;function U_(){return Yf||(Yf=YA(jI,DI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(t){console.warn(t)}}}}).catch(r=>{throw Qs.create("idb-open",{originalErrorMessage:r.message})})),Yf}async function LI(r){try{const t=(await U_()).transaction(Yl),n=await t.objectStore(Yl).get(F_(r));return await t.done,n}catch(e){if(e instanceof Yi)ds.warn(e.message);else{const t=Qs.create("idb-get",{originalErrorMessage:e?.message});ds.warn(t.message)}}}async function fw(r,e){try{const n=(await U_()).transaction(Yl,"readwrite");await n.objectStore(Yl).put(e,F_(r)),await n.done}catch(t){if(t instanceof Yi)ds.warn(t.message);else{const n=Qs.create("idb-set",{originalErrorMessage:t?.message});ds.warn(n.message)}}}function F_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=1024,MI=30;class $I{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FI(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=pw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>MI){const u=BI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ds.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pw(),{heartbeatsToSend:n,unsentEntries:i}=UI(this._heartbeatsCache.heartbeats),a=ud(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ds.warn(t),""}}}function pw(){return new Date().toISOString().substring(0,10)}function UI(r,e=VI){const t=[];let n=r.slice();for(const i of r){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),mw(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),mw(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class FI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await LI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return fw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return fw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mw(r){return ud(JSON.stringify({version:2,heartbeats:r})).length}function BI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r){Jl(new ma("platform-logger",e=>new eI(e),"PRIVATE")),Jl(new ma("heartbeat",e=>new $I(e),"PRIVATE")),Js(xp,dw,r),Js(xp,dw,"esm2017"),Js("fire-js","")}zI("");var gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,B_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,T){function P(){}P.prototype=T.prototype,L.D=T.prototype,L.prototype=new P,L.prototype.constructor=L,L.C=function(S,A,R){for(var k=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)k[ie-2]=arguments[ie];return T.prototype[A].apply(S,k)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,T,P){P||(P=0);var S=Array(16);if(typeof T=="string")for(var A=0;16>A;++A)S[A]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(A=0;16>A;++A)S[A]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=L.g[0],P=L.g[1],A=L.g[2];var R=L.g[3],k=T+(R^P&(A^R))+S[0]+3614090360&4294967295;T=P+(k<<7&4294967295|k>>>25),k=R+(A^T&(P^A))+S[1]+3905402710&4294967295,R=T+(k<<12&4294967295|k>>>20),k=A+(P^R&(T^P))+S[2]+606105819&4294967295,A=R+(k<<17&4294967295|k>>>15),k=P+(T^A&(R^T))+S[3]+3250441966&4294967295,P=A+(k<<22&4294967295|k>>>10),k=T+(R^P&(A^R))+S[4]+4118548399&4294967295,T=P+(k<<7&4294967295|k>>>25),k=R+(A^T&(P^A))+S[5]+1200080426&4294967295,R=T+(k<<12&4294967295|k>>>20),k=A+(P^R&(T^P))+S[6]+2821735955&4294967295,A=R+(k<<17&4294967295|k>>>15),k=P+(T^A&(R^T))+S[7]+4249261313&4294967295,P=A+(k<<22&4294967295|k>>>10),k=T+(R^P&(A^R))+S[8]+1770035416&4294967295,T=P+(k<<7&4294967295|k>>>25),k=R+(A^T&(P^A))+S[9]+2336552879&4294967295,R=T+(k<<12&4294967295|k>>>20),k=A+(P^R&(T^P))+S[10]+4294925233&4294967295,A=R+(k<<17&4294967295|k>>>15),k=P+(T^A&(R^T))+S[11]+2304563134&4294967295,P=A+(k<<22&4294967295|k>>>10),k=T+(R^P&(A^R))+S[12]+1804603682&4294967295,T=P+(k<<7&4294967295|k>>>25),k=R+(A^T&(P^A))+S[13]+4254626195&4294967295,R=T+(k<<12&4294967295|k>>>20),k=A+(P^R&(T^P))+S[14]+2792965006&4294967295,A=R+(k<<17&4294967295|k>>>15),k=P+(T^A&(R^T))+S[15]+1236535329&4294967295,P=A+(k<<22&4294967295|k>>>10),k=T+(A^R&(P^A))+S[1]+4129170786&4294967295,T=P+(k<<5&4294967295|k>>>27),k=R+(P^A&(T^P))+S[6]+3225465664&4294967295,R=T+(k<<9&4294967295|k>>>23),k=A+(T^P&(R^T))+S[11]+643717713&4294967295,A=R+(k<<14&4294967295|k>>>18),k=P+(R^T&(A^R))+S[0]+3921069994&4294967295,P=A+(k<<20&4294967295|k>>>12),k=T+(A^R&(P^A))+S[5]+3593408605&4294967295,T=P+(k<<5&4294967295|k>>>27),k=R+(P^A&(T^P))+S[10]+38016083&4294967295,R=T+(k<<9&4294967295|k>>>23),k=A+(T^P&(R^T))+S[15]+3634488961&4294967295,A=R+(k<<14&4294967295|k>>>18),k=P+(R^T&(A^R))+S[4]+3889429448&4294967295,P=A+(k<<20&4294967295|k>>>12),k=T+(A^R&(P^A))+S[9]+568446438&4294967295,T=P+(k<<5&4294967295|k>>>27),k=R+(P^A&(T^P))+S[14]+3275163606&4294967295,R=T+(k<<9&4294967295|k>>>23),k=A+(T^P&(R^T))+S[3]+4107603335&4294967295,A=R+(k<<14&4294967295|k>>>18),k=P+(R^T&(A^R))+S[8]+1163531501&4294967295,P=A+(k<<20&4294967295|k>>>12),k=T+(A^R&(P^A))+S[13]+2850285829&4294967295,T=P+(k<<5&4294967295|k>>>27),k=R+(P^A&(T^P))+S[2]+4243563512&4294967295,R=T+(k<<9&4294967295|k>>>23),k=A+(T^P&(R^T))+S[7]+1735328473&4294967295,A=R+(k<<14&4294967295|k>>>18),k=P+(R^T&(A^R))+S[12]+2368359562&4294967295,P=A+(k<<20&4294967295|k>>>12),k=T+(P^A^R)+S[5]+4294588738&4294967295,T=P+(k<<4&4294967295|k>>>28),k=R+(T^P^A)+S[8]+2272392833&4294967295,R=T+(k<<11&4294967295|k>>>21),k=A+(R^T^P)+S[11]+1839030562&4294967295,A=R+(k<<16&4294967295|k>>>16),k=P+(A^R^T)+S[14]+4259657740&4294967295,P=A+(k<<23&4294967295|k>>>9),k=T+(P^A^R)+S[1]+2763975236&4294967295,T=P+(k<<4&4294967295|k>>>28),k=R+(T^P^A)+S[4]+1272893353&4294967295,R=T+(k<<11&4294967295|k>>>21),k=A+(R^T^P)+S[7]+4139469664&4294967295,A=R+(k<<16&4294967295|k>>>16),k=P+(A^R^T)+S[10]+3200236656&4294967295,P=A+(k<<23&4294967295|k>>>9),k=T+(P^A^R)+S[13]+681279174&4294967295,T=P+(k<<4&4294967295|k>>>28),k=R+(T^P^A)+S[0]+3936430074&4294967295,R=T+(k<<11&4294967295|k>>>21),k=A+(R^T^P)+S[3]+3572445317&4294967295,A=R+(k<<16&4294967295|k>>>16),k=P+(A^R^T)+S[6]+76029189&4294967295,P=A+(k<<23&4294967295|k>>>9),k=T+(P^A^R)+S[9]+3654602809&4294967295,T=P+(k<<4&4294967295|k>>>28),k=R+(T^P^A)+S[12]+3873151461&4294967295,R=T+(k<<11&4294967295|k>>>21),k=A+(R^T^P)+S[15]+530742520&4294967295,A=R+(k<<16&4294967295|k>>>16),k=P+(A^R^T)+S[2]+3299628645&4294967295,P=A+(k<<23&4294967295|k>>>9),k=T+(A^(P|~R))+S[0]+4096336452&4294967295,T=P+(k<<6&4294967295|k>>>26),k=R+(P^(T|~A))+S[7]+1126891415&4294967295,R=T+(k<<10&4294967295|k>>>22),k=A+(T^(R|~P))+S[14]+2878612391&4294967295,A=R+(k<<15&4294967295|k>>>17),k=P+(R^(A|~T))+S[5]+4237533241&4294967295,P=A+(k<<21&4294967295|k>>>11),k=T+(A^(P|~R))+S[12]+1700485571&4294967295,T=P+(k<<6&4294967295|k>>>26),k=R+(P^(T|~A))+S[3]+2399980690&4294967295,R=T+(k<<10&4294967295|k>>>22),k=A+(T^(R|~P))+S[10]+4293915773&4294967295,A=R+(k<<15&4294967295|k>>>17),k=P+(R^(A|~T))+S[1]+2240044497&4294967295,P=A+(k<<21&4294967295|k>>>11),k=T+(A^(P|~R))+S[8]+1873313359&4294967295,T=P+(k<<6&4294967295|k>>>26),k=R+(P^(T|~A))+S[15]+4264355552&4294967295,R=T+(k<<10&4294967295|k>>>22),k=A+(T^(R|~P))+S[6]+2734768916&4294967295,A=R+(k<<15&4294967295|k>>>17),k=P+(R^(A|~T))+S[13]+1309151649&4294967295,P=A+(k<<21&4294967295|k>>>11),k=T+(A^(P|~R))+S[4]+4149444226&4294967295,T=P+(k<<6&4294967295|k>>>26),k=R+(P^(T|~A))+S[11]+3174756917&4294967295,R=T+(k<<10&4294967295|k>>>22),k=A+(T^(R|~P))+S[2]+718787259&4294967295,A=R+(k<<15&4294967295|k>>>17),k=P+(R^(A|~T))+S[9]+3951481745&4294967295,L.g[0]=L.g[0]+T&4294967295,L.g[1]=L.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,L.g[2]=L.g[2]+A&4294967295,L.g[3]=L.g[3]+R&4294967295}n.prototype.u=function(L,T){T===void 0&&(T=L.length);for(var P=T-this.blockSize,S=this.B,A=this.h,R=0;R<T;){if(A==0)for(;R<=P;)i(this,L,R),R+=this.blockSize;if(typeof L=="string"){for(;R<T;)if(S[A++]=L.charCodeAt(R++),A==this.blockSize){i(this,S),A=0;break}}else for(;R<T;)if(S[A++]=L[R++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=T},n.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var T=1;T<L.length-8;++T)L[T]=0;var P=8*this.o;for(T=L.length-8;T<L.length;++T)L[T]=P&255,P/=256;for(this.u(L),L=Array(16),T=P=0;4>T;++T)for(var S=0;32>S;S+=8)L[P++]=this.g[T]>>>S&255;return L};function a(L,T){var P=h;return Object.prototype.hasOwnProperty.call(P,L)?P[L]:P[L]=T(L)}function u(L,T){this.h=T;for(var P=[],S=!0,A=L.length-1;0<=A;A--){var R=L[A]|0;S&&R==T||(P[A]=R,S=!1)}this.g=P}var h={};function f(L){return-128<=L&&128>L?a(L,function(T){return new u([T|0],0>T?-1:0)}):new u([L|0],0>L?-1:0)}function m(L){if(isNaN(L)||!isFinite(L))return b;if(0>L)return N(m(-L));for(var T=[],P=1,S=0;L>=P;S++)T[S]=L/P|0,P*=4294967296;return new u(T,0)}function v(L,T){if(L.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(L.charAt(0)=="-")return N(v(L.substring(1),T));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(T,8)),S=b,A=0;A<L.length;A+=8){var R=Math.min(8,L.length-A),k=parseInt(L.substring(A,A+R),T);8>R?(R=m(Math.pow(T,R)),S=S.j(R).add(m(k))):(S=S.j(P),S=S.add(m(k)))}return S}var b=f(0),E=f(1),C=f(16777216);r=u.prototype,r.m=function(){if(D(this))return-N(this).m();for(var L=0,T=1,P=0;P<this.g.length;P++){var S=this.i(P);L+=(0<=S?S:4294967296+S)*T,T*=4294967296}return L},r.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(j(this))return"0";if(D(this))return"-"+N(this).toString(L);for(var T=m(Math.pow(L,6)),P=this,S="";;){var A=ee(P,T).g;P=K(P,A.j(T));var R=((0<P.g.length?P.g[0]:P.h)>>>0).toString(L);if(P=A,j(P))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},r.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function j(L){if(L.h!=0)return!1;for(var T=0;T<L.g.length;T++)if(L.g[T]!=0)return!1;return!0}function D(L){return L.h==-1}r.l=function(L){return L=K(this,L),D(L)?-1:j(L)?0:1};function N(L){for(var T=L.g.length,P=[],S=0;S<T;S++)P[S]=~L.g[S];return new u(P,~L.h).add(E)}r.abs=function(){return D(this)?N(this):this},r.add=function(L){for(var T=Math.max(this.g.length,L.g.length),P=[],S=0,A=0;A<=T;A++){var R=S+(this.i(A)&65535)+(L.i(A)&65535),k=(R>>>16)+(this.i(A)>>>16)+(L.i(A)>>>16);S=k>>>16,R&=65535,k&=65535,P[A]=k<<16|R}return new u(P,P[P.length-1]&-2147483648?-1:0)};function K(L,T){return L.add(N(T))}r.j=function(L){if(j(this)||j(L))return b;if(D(this))return D(L)?N(this).j(N(L)):N(N(this).j(L));if(D(L))return N(this.j(N(L)));if(0>this.l(C)&&0>L.l(C))return m(this.m()*L.m());for(var T=this.g.length+L.g.length,P=[],S=0;S<2*T;S++)P[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<L.g.length;A++){var R=this.i(S)>>>16,k=this.i(S)&65535,ie=L.i(A)>>>16,re=L.i(A)&65535;P[2*S+2*A]+=k*re,H(P,2*S+2*A),P[2*S+2*A+1]+=R*re,H(P,2*S+2*A+1),P[2*S+2*A+1]+=k*ie,H(P,2*S+2*A+1),P[2*S+2*A+2]+=R*ie,H(P,2*S+2*A+2)}for(S=0;S<T;S++)P[S]=P[2*S+1]<<16|P[2*S];for(S=T;S<2*T;S++)P[S]=0;return new u(P,0)};function H(L,T){for(;(L[T]&65535)!=L[T];)L[T+1]+=L[T]>>>16,L[T]&=65535,T++}function z(L,T){this.g=L,this.h=T}function ee(L,T){if(j(T))throw Error("division by zero");if(j(L))return new z(b,b);if(D(L))return T=ee(N(L),T),new z(N(T.g),N(T.h));if(D(T))return T=ee(L,N(T)),new z(N(T.g),T.h);if(30<L.g.length){if(D(L)||D(T))throw Error("slowDivide_ only works with positive integers.");for(var P=E,S=T;0>=S.l(L);)P=ge(P),S=ge(S);var A=ce(P,1),R=ce(S,1);for(S=ce(S,2),P=ce(P,2);!j(S);){var k=R.add(S);0>=k.l(L)&&(A=A.add(P),R=k),S=ce(S,1),P=ce(P,1)}return T=K(L,A.j(T)),new z(A,T)}for(A=b;0<=L.l(T);){for(P=Math.max(1,Math.floor(L.m()/T.m())),S=Math.ceil(Math.log(P)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=m(P),k=R.j(T);D(k)||0<k.l(L);)P-=S,R=m(P),k=R.j(T);j(R)&&(R=E),A=A.add(R),L=K(L,k)}return new z(A,L)}r.A=function(L){return ee(this,L).h},r.and=function(L){for(var T=Math.max(this.g.length,L.g.length),P=[],S=0;S<T;S++)P[S]=this.i(S)&L.i(S);return new u(P,this.h&L.h)},r.or=function(L){for(var T=Math.max(this.g.length,L.g.length),P=[],S=0;S<T;S++)P[S]=this.i(S)|L.i(S);return new u(P,this.h|L.h)},r.xor=function(L){for(var T=Math.max(this.g.length,L.g.length),P=[],S=0;S<T;S++)P[S]=this.i(S)^L.i(S);return new u(P,this.h^L.h)};function ge(L){for(var T=L.g.length+1,P=[],S=0;S<T;S++)P[S]=L.i(S)<<1|L.i(S-1)>>>31;return new u(P,L.h)}function ce(L,T){var P=T>>5;T%=32;for(var S=L.g.length-P,A=[],R=0;R<S;R++)A[R]=0<T?L.i(R+P)>>>T|L.i(R+P+1)<<32-T:L.i(R+P);return new u(A,L.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,B_=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ys=u}).apply(typeof gw<"u"?gw:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z_,Cl,q_,Kc,Sp,W_,H_,K_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var n=t(this);function i(c,g){if(g)e:{var _=n;c=c.split(".");for(var I=0;I<c.length-1;I++){var U=c[I];if(!(U in _))break e;_=_[U]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,U={next:function(){if(!I&&_<c.length){var G=_++;return{value:g(G,c[G]),done:!1}}return I=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,I),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,E.apply(null,arguments)}function C(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function j(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,U,G){for(var de=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)de[Ze-2]=arguments[Ze];return g.prototype[U].apply(I,de)}}function D(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function N(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const U=c.length||0,G=I.length||0;c.length=U+G;for(let de=0;de<G;de++)c[U+de]=I[de]}else c.push(I)}}class K{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var ge=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ce(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function L(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function T(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,g){let _,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(_ in I)c[_]=I[_];for(let G=0;G<P.length;G++)_=P[G],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function A(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function R(c){h.setTimeout(()=>{throw c},0)}function k(){var c=le;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ie{constructor(){this.h=this.g=null}add(g,_){const I=re.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var re=new K(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,Y=!1,le=new ie,oe=()=>{const c=h.Promise.resolve(void 0);he=()=>{c.then($)}};var $=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(_){R(_)}var g=re;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Y=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Te=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c})();function Pe(c,g){if(fe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ge){e:{try{ee(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}j(Pe,fe);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function Me(c,g,_,I,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=U,this.key=++Ie,this.da=this.fa=!1}function tt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ft(c){this.src=c,this.g={},this.h=0}Ft.prototype.add=function(c,g,_,I,U){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var de=Ge(c,g,I,U);return-1<de?(g=c[de],_||(g.fa=!1)):(g=new Me(g,this.src,G,!!I,U),g.fa=_,c.push(g)),g};function nr(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],U=Array.prototype.indexOf.call(I,g,void 0),G;(G=0<=U)&&Array.prototype.splice.call(I,U,1),G&&(tt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ge(c,g,_,I){for(var U=0;U<c.length;++U){var G=c[U];if(!G.da&&G.listener==g&&G.capture==!!_&&G.ha==I)return U}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),wt={};function yr(c,g,_,I,U){if(Array.isArray(g)){for(var G=0;G<g.length;G++)yr(c,g[G],_,I,U);return null}return _=Da(_),c&&c[Ne]?c.K(g,_,m(I)?!!I.capture:!1,U):ms(c,g,_,!1,I,U)}function ms(c,g,_,I,U,G){if(!g)throw Error("Invalid event type");var de=m(U)?!!U.capture:!!U,Ze=oo(c);if(Ze||(c[Fe]=Ze=new Ft(c)),_=Ze.add(g,_,I,de,G),_.proxy)return _;if(I=wu(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)Te||(U=de),U===void 0&&(U=!1),c.addEventListener(g.toString(),I,U);else if(c.attachEvent)c.attachEvent(Hn(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function wu(){function c(_){return g.call(c.src,c.listener,_)}const g=ja;return c}function io(c,g,_,I,U){if(Array.isArray(g))for(var G=0;G<g.length;G++)io(c,g[G],_,I,U);else I=m(I)?!!I.capture:!!I,_=Da(_),c&&c[Ne]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],_=Ge(G,_,I,U),-1<_&&(tt(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=oo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ge(g,_,I,U)),(_=-1<c?g[c]:null)&&Wn(_))}function Wn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ne])nr(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(Hn(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=oo(g))?(nr(_,c),_.h==0&&(_.src=null,g[Fe]=null)):tt(c)}}}function Hn(c){return c in wt?wt[c]:wt[c]="on"+c}function ja(c,g){if(c.da)c=!0;else{g=new Pe(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&Wn(c),c=_.call(I,g)}return c}function oo(c){return c=c[Fe],c instanceof Ft?c:null}var ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function Da(c){return typeof c=="function"?c:(c[ao]||(c[ao]=function(g){return c.handleEvent(g)}),c[ao])}function Ot(){J.call(this),this.i=new Ft(this),this.M=this,this.F=null}j(Ot,J),Ot.prototype[Ne]=!0,Ot.prototype.removeEventListener=function(c,g,_,I){io(this,c,g,_,I)};function jt(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new fe(g,c);else if(g instanceof fe)g.target=g.target||c;else{var U=g;g=new fe(I,c),S(g,U)}if(U=!0,_)for(var G=_.length-1;0<=G;G--){var de=g.g=_[G];U=Kn(de,I,!0,g)&&U}if(de=g.g=c,U=Kn(de,I,!0,g)&&U,U=Kn(de,I,!1,g)&&U,_)for(G=0;G<_.length;G++)de=g.g=_[G],U=Kn(de,I,!1,g)&&U}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)tt(_[I]);delete c.g[g],c.h--}}this.F=null},Ot.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},Ot.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function Kn(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,G=0;G<g.length;++G){var de=g[G];if(de&&!de.da&&de.capture==_){var Ze=de.listener,Dt=de.ha||de.src;de.fa&&nr(c.i,de),U=Ze.call(Dt,I)!==!1&&U}}return U&&!I.defaultPrevented}function La(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function gs(c){c.g=La(()=>{c.g=null,c.i&&(c.i=!1,gs(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ai extends J{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(c){J.call(this),this.h=c,this.g={}}j(li,J);var Va=[];function Ma(c){ce(c.g,function(g,_){this.g.hasOwnProperty(_)&&Wn(g)},c),c.g={}}li.prototype.N=function(){li.aa.N.call(this),Ma(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $a=h.JSON.stringify,Ua=h.JSON.parse,Fa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ui(){}ui.prototype.h=null;function lo(c){return c.h||(c.h=c.i())}function uo(){}var Br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){fe.call(this,"d")}j(xn,fe);function co(){fe.call(this,"c")}j(co,fe);var Tn={},Ba=null;function ci(){return Ba=Ba||new Ot}Tn.La="serverreachability";function za(c){fe.call(this,Tn.La,c)}j(za,fe);function Gn(c){const g=ci();jt(g,new za(g))}Tn.STAT_EVENT="statevent";function qa(c,g){fe.call(this,Tn.STAT_EVENT,c),this.stat=g}j(qa,fe);function _t(c){const g=ci();jt(g,new qa(g,c))}Tn.Ma="timingevent";function ho(c,g){fe.call(this,Tn.Ma,c),this.size=g}j(ho,fe);function tn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function di(){this.g=!0}di.prototype.xa=function(){this.g=!1};function hi(c,g,_,I,U,G){c.info(function(){if(c.g)if(G)for(var de="",Ze=G.split("&"),Dt=0;Dt<Ze.length;Dt++){var qe=Ze[Dt].split("=");if(1<qe.length){var Bt=qe[0];qe=qe[1];var St=Bt.split("_");de=2<=St.length&&St[1]=="type"?de+(Bt+"="+qe+"&"):de+(Bt+"=redacted&")}}else de=null;else de=G;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+g+`
`+_+`
`+de})}function fo(c,g,_,I,U,G,de){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+g+`
`+_+`
`+G+" "+de})}function rn(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+nh(c,_)+(I?" "+I:"")})}function Wa(c,g){c.info(function(){return"TIMEOUT: "+g})}di.prototype.info=function(){};function nh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var U=I[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var de=1;de<U.length;de++)U[de]=""}}}}return $a(_)}catch{return g}}var po={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_u={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nn;function fi(){}j(fi,ui),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},nn=new fi;function sn(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bu}function bu(){this.i=null,this.g="",this.h=!1}var Ha={},mo={};function go(c,g,_){c.L=1,c.v=bs(Rr(g)),c.m=_,c.P=!0,Ka(c,null)}function Ka(c,g){c.F=Date.now(),nt(c),c.A=Rr(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),xs(_.i,"t",I),c.C=0,_=c.j.J,c.h=new bu,c.g=$u(c.j,_?g:null,!c.m),0<c.O&&(c.M=new ai(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Va[0]=U.toString()),U=Va);for(var G=0;G<U.length;G++){var de=yr(_,U[G],I||g.handleEvent,!1,g.h||g);if(!de)break;g.g[de.key]=de}g=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Gn(),hi(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const g=this.M;g&&wr(c)==3?g.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const St=wr(this.g);var g=this.g.Ba();const Wr=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Za(this.g)))){this.J||St!=4||g==7||(g==8||0>=Wr?Gn(3):Gn(2)),pi(this);var _=this.g.Z();this.X=_;t:if(Eu(this)){var I=Za(this.g);c="";var U=I.length,G=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zr(this),ys(this);var de="";break t}this.h.i=new h.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(G&&g==U-1)});I.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=_==200,fo(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Dt=this.g;if((Ze=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ze)){var qe=Ze;break t}}qe=null}if(_=qe)rn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ga(this,_);else{this.o=!1,this.s=3,_t(12),zr(this),ys(this);break e}}if(this.P){_=!0;let Nr;for(;!this.J&&this.C<de.length;)if(Nr=sh(this,de),Nr==mo){St==4&&(this.s=4,_t(14),_=!1),rn(this.i,this.l,null,"[Incomplete Response]");break}else if(Nr==Ha){this.s=4,_t(15),rn(this.i,this.l,de,"[Invalid Chunk]"),_=!1;break}else rn(this.i,this.l,Nr,null),Ga(this,Nr);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||de.length!=0||this.h.h||(this.s=1,_t(16),_=!1),this.o=this.o&&_,!_)rn(this.i,this.l,de,"[Invalid Chunked Response]"),zr(this),ys(this);else if(0<de.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),tl(Bt),Bt.M=!0,_t(11))}}else rn(this.i,this.l,de,null),Ga(this,de);St==4&&zr(this),this.o&&!this.J&&(St==4?Ao(this.j,this):(this.o=!1,nt(this)))}else Eo(this.g),_==400&&0<de.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),zr(this),ys(this)}}}catch{}finally{}};function Eu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function sh(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?mo:(_=Number(g.substring(_,I)),isNaN(_)?Ha:(I+=1,I+_>g.length?mo:(g=g.slice(I,I+_),c.C=I+_,g)))}sn.prototype.cancel=function(){this.J=!0,zr(this)};function nt(c){c.S=Date.now()+c.I,xu(c,c.I)}function xu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=tn(E(c.ba,c),g)}function pi(c){c.B&&(h.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wa(this.i,this.A),this.L!=2&&(Gn(),_t(17)),zr(this),this.s=2,ys(this)):xu(this,this.S-c)};function ys(c){c.j.G==0||c.J||Ao(c.j,c)}function zr(c){pi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ma(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ga(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||dr(_.h,c))){if(!c.K&&dr(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)So(_),cn(_);else break e;ko(_),_t(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=tn(E(_.Za,_),6e3));if(1>=ku(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zn(_,11)}else if((c.K||_.g==c)&&So(_),!H(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let qe=U[g];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const Bt=qe[3];Bt!=null&&(_.la=Bt,_.j.info("VER="+_.la));const St=qe[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const Wr=qe[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(I=1.5*Wr,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const Nr=c.g;if(Nr){const bi=Nr.g?Nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var G=I.h;G.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Qa(G,G.h),G.h=null))}if(I.D){const Co=Nr.g?Nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(I.ya=Co,rt(I.I,I.D,Co))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var de=c;if(I.qa=Mu(I,I.J?I.ia:null,I.W),de.K){Su(I.h,de);var Ze=de,Dt=I.L;Dt&&(Ze.I=Dt),Ze.B&&(pi(Ze),nt(Ze)),I.g=de}else _i(I);0<_.i.length&&In(_)}else qe[0]!="stop"&&qe[0]!="close"||Zn(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Zn(_,7):Qt(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}Gn(4)}catch{}}var Tu=class{constructor(c,g){this.g=c,this.map=g}};function mi(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ku(c){return c.h?1:c.g?c.g.size:0}function dr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Qa(c,g){c.g?c.g.add(g):c.h=g}function Su(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}mi.prototype.cancel=function(){if(this.i=Au(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Au(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return D(c.i)}function yo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function vo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function vs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=vo(c),I=yo(c),U=I.length,G=0;G<U;G++)g.call(void 0,I[G],_&&_[G],c)}var gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ih(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),U=null;if(0<=I){var G=c[_].substring(0,I);U=c[_].substring(I+1)}else G=c[_];g(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Qn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Qn){this.h=c.h,yi(this,c.j),this.o=c.o,this.g=c.g,ws(this,c.s),this.l=c.l;var g=c.i,_=new kn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),_s(this,_),this.m=c.m}else c&&(g=String(c).match(gi))?(this.h=!1,yi(this,g[1]||"",!0),this.o=ze(g[2]||""),this.g=ze(g[3]||"",!0),ws(this,g[4]),this.l=ze(g[5]||"",!0),_s(this,g[6]||"",!0),this.m=ze(g[7]||"")):(this.h=!1,this.i=new kn(null,this.h))}Qn.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Es(g,wo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Es(g,wo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Es(_,_.charAt(0)=="/"?Ru:Cu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Es(_,Ja)),c.join("")};function Rr(c){return new Qn(c)}function yi(c,g,_){c.j=_?ze(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ws(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function _s(c,g,_){g instanceof kn?(c.i=g,Sn(c.i,c.h)):(_||(g=Es(g,Pu)),c.i=new kn(g,c.h))}function rt(c,g,_){c.i.set(g,_)}function bs(c){return rt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ze(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Iu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wo=/[#\/\?@]/g,Cu=/[#\?:]/g,Ru=/[#\?]/g,Pu=/[#\?@]/g,Ja=/#/g;function kn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Gt(c){c.g||(c.g=new Map,c.h=0,c.i&&ih(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=kn.prototype,r.add=function(c,g){Gt(this),this.i=null,c=qr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function on(c,g){Gt(c),g=qr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function an(c,g){return Gt(c),g=qr(c,g),c.g.has(g)}r.forEach=function(c,g){Gt(this),this.g.forEach(function(_,I){_.forEach(function(U){c.call(g,U,I,this)},this)},this)},r.na=function(){Gt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const U=c[I];for(let G=0;G<U.length;G++)_.push(g[I])}return _},r.V=function(c){Gt(this);let g=[];if(typeof c=="string")an(this,c)&&(g=g.concat(this.g.get(qr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return Gt(this),this.i=null,c=qr(this,c),an(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function xs(c,g,_){on(c,g),0<_.length&&(c.i=null,c.g.set(qr(c,g),D(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const G=encodeURIComponent(String(I)),de=this.V(I);for(I=0;I<de.length;I++){var U=G;de[I]!==""&&(U+="="+encodeURIComponent(String(de[I]))),c.push(U)}}return this.i=c.join("&")};function qr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Sn(c,g){g&&!c.j&&(Gt(c),c.i=null,c.g.forEach(function(_,I){var U=I.toLowerCase();I!=U&&(on(this,I),xs(this,U,_))},c)),c.j=g}function oh(c,g){const _=new di;if(h.Image){const I=new Image;I.onload=C(vr,_,"TestLoadImage: loaded",!0,g,I),I.onerror=C(vr,_,"TestLoadImage: error",!1,g,I),I.onabort=C(vr,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=C(vr,_,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function Nu(c,g){const _=new di,I=new AbortController,U=setTimeout(()=>{I.abort(),vr(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(G=>{clearTimeout(U),G.ok?vr(_,"TestPingServer: ok",!0,g):vr(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),vr(_,"TestPingServer: error",!1,g)})}function vr(c,g,_,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(_)}catch{}}function ah(){this.g=new Fa}function Ou(c,g,_){const I=_||"";try{vs(c,function(U,G){let de=U;m(U)&&(de=$a(U)),g.push(I+G+"="+encodeURIComponent(de))})}catch(U){throw g.push(I+"type="+encodeURIComponent("_badmap")),U}}function Jn(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Jn,ui),Jn.prototype.g=function(){return new vi(this.l,this.j)},Jn.prototype.i=(function(c){return function(){return c}})({});function vi(c,g){Ot.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(vi,Ot),r=vi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,un(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ln(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,un(this)),this.g&&(this.readyState=3,un(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ju(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ju(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ln(this):un(this),this.readyState==3&&ju(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ln(this))},r.Qa=function(c){this.g&&(this.response=c,ln(this))},r.ga=function(){this.g&&ln(this)};function ln(c){c.readyState=4,c.l=null,c.j=null,c.v=null,un(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function un(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yn(c){let g="";return ce(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function Ts(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Yn(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):rt(c,g,_))}function dt(c){Ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(dt,Ot);var lh=/^https?$/i,Ya=["POST","PUT"];r=dt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nn.g(),this.v=this.o?lo(this.o):lo(nn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){wi(this,G);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)_.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const G of I.keys())_.set(G,I.get(G));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),U=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ya,g,void 0))||I||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,de]of _)this.g.setRequestHeader(G,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bo(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){wi(this,G)}};function wi(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,_o(c),Pr(c)}function _o(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),Pr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),dt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Xa(this):this.bb())},r.bb=function(){Xa(this)};function Xa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||wr(c)!=4||c.Z()!=2)){if(c.u&&wr(c)==4)La(c.Ea,0,c);else if(jt(c,"readystatechange"),wr(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=de===0){var U=String(c.D).match(gi)[1]||null;!U&&h.self&&h.self.location&&(U=h.self.location.protocol.slice(0,-1)),I=!lh.test(U?U.toLowerCase():"")}_=I}if(_)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var G=2<wr(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",_o(c)}}finally{Pr(c)}}}}function Pr(c,g){if(c.g){bo(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||jt(c,"ready");try{_.onreadystatechange=I}catch{}}}function bo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function wr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ua(g)}};function Za(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(c){const g={};c=(c.g&&2<=wr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(H(c[I]))continue;var _=A(c[I]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=g[U]||[];g[U]=G,G.push(_)}L(g,function(I){return I.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function An(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function el(c){this.Aa=0,this.i=[],this.j=new di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=An("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=An("baseRetryDelayMs",5e3,c),this.cb=An("retryDelaySeedMs",1e4,c),this.Wa=An("forwardChannelMaxRetries",2,c),this.wa=An("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(c&&c.concurrentRequestLimit),this.Da=new ah,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=el.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,I){_t(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=Mu(this,null,this.W),In(this)};function Qt(c){if(xo(c),c.G==3){var g=c.U++,_=Rr(c.I);if(rt(_,"SID",c.K),rt(_,"RID",g),rt(_,"TYPE","terminate"),Xn(c,_),g=new sn(c,c.j,g),g.L=2,g.v=bs(Rr(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=$u(g.j,null),g.g.ea(g.v)),g.F=Date.now(),nt(g)}Vu(c)}function cn(c){c.g&&(tl(c),c.g.cancel(),c.g=null)}function xo(c){cn(c),c.u&&(h.clearTimeout(c.u),c.u=null),So(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function In(c){if(!Cr(c.h)&&!c.s){c.s=!0;var g=c.Ga;he||oe(),Y||(he(),Y=!0),le.add(g,c),c.B=0}}function uh(c,g){return ku(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=tn(E(c.Ga,c,g),Lu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new sn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=T(G),S(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ks(this,U,g),_=Rr(this.I),rt(_,"RID",c),rt(_,"CVER",22),this.D&&rt(_,"X-HTTP-Session-Id",this.D),Xn(this,_),G&&(this.O?g="headers="+encodeURIComponent(String(Yn(G)))+"&"+g:this.m&&Ts(_,this.m,G)),Qa(this.h,U),this.Ua&&rt(_,"TYPE","init"),this.P?(rt(_,"$req",g),rt(_,"SID","null"),U.T=!0,go(U,_,null)):go(U,_,g),this.G=2}}else this.G==3&&(c?To(this,c):this.i.length==0||Cr(this.h)||To(this))};function To(c,g){var _;g?_=g.l:_=c.U++;const I=Rr(c.I);rt(I,"SID",c.K),rt(I,"RID",_),rt(I,"AID",c.T),Xn(c,I),c.m&&c.o&&Ts(I,c.m,c.o),_=new sn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ks(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Qa(c.h,_),go(_,I,g)}function Xn(c,g){c.H&&ce(c.H,function(_,I){rt(g,I,_)}),c.l&&vs({},function(_,I){rt(g,I,_)})}function ks(c,g,_){_=Math.min(c.i.length,_);var I=c.l?E(c.l.Na,c.l,c):null;e:{var U=c.i;let G=-1;for(;;){const de=["count="+_];G==-1?0<_?(G=U[0].g,de.push("ofs="+G)):G=0:de.push("ofs="+G);let Ze=!0;for(let Dt=0;Dt<_;Dt++){let qe=U[Dt].g;const Bt=U[Dt].map;if(qe-=G,0>qe)G=Math.max(0,U[Dt].g-100),Ze=!1;else try{Ou(Bt,de,"req"+qe+"_")}catch{I&&I(Bt)}}if(Ze){I=de.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function _i(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;he||oe(),Y||(he(),Y=!0),le.add(g,c),c.v=0}}function ko(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=tn(E(c.Fa,c),Lu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=tn(E(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),cn(this),Du(this))};function tl(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Du(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Rr(c.qa);rt(g,"RID","rpc"),rt(g,"SID",c.K),rt(g,"AID",c.T),rt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&rt(g,"TO",c.ja),rt(g,"TYPE","xmlhttp"),Xn(c,g),c.m&&c.o&&Ts(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=bs(Rr(g)),_.m=null,_.P=!0,Ka(_,c)}r.Za=function(){this.C!=null&&(this.C=null,cn(this),ko(this),_t(19))};function So(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ao(c,g){var _=null;if(c.g==g){So(c),tl(c),c.g=null;var I=2}else if(dr(c.h,g))_=g.D,Su(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;I=ci(),jt(I,new ho(I,_)),In(c)}else _i(c);else if(U=g.s,U==3||U==0&&0<g.X||!(I==1&&uh(c,g)||I==2&&ko(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:Zn(c,5);break;case 4:Zn(c,10);break;case 3:Zn(c,6);break;default:Zn(c,2)}}}function Lu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Zn(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),I=c.Xa;const U=!I;I=new Qn(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||yi(I,"https"),bs(I),U?oh(I.toString(),_):Nu(I.toString(),_)}else _t(2);c.G=0,c.l&&c.l.sa(g),Vu(c),xo(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Vu(c){if(c.G=0,c.ka=[],c.l){const g=Au(c.h);(g.length!=0||c.i.length!=0)&&(N(c.ka,g),N(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function Mu(c,g,_){var I=_ instanceof Qn?Rr(_):new Qn(_);if(I.g!="")g&&(I.g=g+"."+I.g),ws(I,I.s);else{var U=h.location;I=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var G=new Qn(null);I&&yi(G,I),g&&(G.g=g),U&&ws(G,U),_&&(G.l=_),I=G}return _=c.D,g=c.ya,_&&g&&rt(I,_,g),rt(I,"VER",c.la),Xn(c,I),I}function $u(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new dt(new Jn({eb:_})):new dt(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function rl(){}r=rl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Io(){}Io.prototype.g=function(c,g){return new hr(c,g)};function hr(c,g){Ot.call(this),this.g=new el(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!H(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!H(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Cn(this)}j(hr,Ot),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){Qt(this.g)},hr.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=$a(c),c=_);g.i.push(new Tu(g.Ya++,c)),g.G==3&&In(g)},hr.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,hr.aa.N.call(this)};function Uu(c){xn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}j(Uu,xn);function Fu(){co.call(this),this.status=1}j(Fu,co);function Cn(c){this.g=c}j(Cn,rl),Cn.prototype.ua=function(){jt(this.g,"a")},Cn.prototype.ta=function(c){jt(this.g,new Uu(c))},Cn.prototype.sa=function(c){jt(this.g,new Fu)},Cn.prototype.ra=function(){jt(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,K_=function(){return new Io},H_=function(){return ci()},W_=Tn,Sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},po.NO_ERROR=0,po.TIMEOUT=8,po.HTTP_ERROR=6,Kc=po,_u.COMPLETE="complete",q_=_u,uo.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,Cl=uo,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,z_=dt}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const yw="@firebase/firestore",vw="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new O_("@firebase/firestore");function ia(){return Hi.logLevel}function ye(r,...e){if(Hi.logLevel<=He.DEBUG){const t=e.map(om);Hi.debug(`Firestore (${ka}): ${r}`,...t)}}function hs(r,...e){if(Hi.logLevel<=He.ERROR){const t=e.map(om);Hi.error(`Firestore (${ka}): ${r}`,...t)}}function Ki(r,...e){if(Hi.logLevel<=He.WARN){const t=e.map(om);Hi.warn(`Firestore (${ka}): ${r}`,...t)}}function om(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,G_(r,n,t)}function G_(r,e,t){let n=`FIRESTORE (${ka}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw hs(n),new Error(n)}function Xe(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||G_(e,i,n)}function Ve(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Yi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sr.UNAUTHENTICATED)))}shutdown(){}}class HI{constructor(e){this.t=e,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let n=this.i;const i=f=>this.i!==n?(n=this.i,t(f)):Promise.resolve();let a=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zi,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zi)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Xe(typeof n.accessToken=="string",31837,{l:n}),new qI(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Sr(e)}}class KI{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GI{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new KI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ww{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,V_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const n=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ww(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ww(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=JI(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function $e(r,e){return r<e?-1:r>e?1:0}function Ap(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),i=e.codePointAt(t);if(n!==i){if(n<128&&i<128)return $e(n,i);{const a=Q_(),u=YI(a.encode(_w(r,t)),a.encode(_w(e,t)));return u!==0?u:$e(n,i)}}t+=n>65535?2:1}return $e(r.length,e.length)}function _w(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function YI(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return $e(r[t],e[t]);return $e(r.length,e.length)}function ga(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="__name__";class jn{constructor(e,t,n){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Oe(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return jn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jn?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=jn.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return $e(e.length,t.length)}static compareSegments(e,t){const n=jn.isNumericId(e),i=jn.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?jn.extractNumericId(e).compare(jn.extractNumericId(t)):Ap(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class ot extends jn{construct(e,t,n){return new ot(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new pe(X.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new ot(t)}static emptyPath(){return new ot([])}}const XI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends jn{construct(e,t,n){return new tr(e,t,n)}static isValidIdentifier(e){return XI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bw}static keyField(){return new tr([bw])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new pe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=f,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(n+=h,i++):(a(),i++)}if(a(),u)throw new pe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(t)}static emptyPath(){return new tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ot.fromString(e))}static fromName(e){return new xe(ot.fromString(e).popFirst(5))}static empty(){return new xe(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r,e,t){if(!t)throw new pe(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ZI(r,e,t,n){if(e===!0&&n===!0)throw new pe(X.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ew(r){if(!xe.isDocumentKey(r))throw new pe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xw(r){if(xe.isDocumentKey(r))throw new pe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Y_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ud(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Oe(12329,{type:typeof r})}function Gc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ud(r);throw new pe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(r,e){const t={typeString:r};return e&&(t.value=e),t}function lu(r,e){if(!Y_(r))throw new pe(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const u=r[n];if(i&&typeof u!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${n}' field to equal '${a.value}'`;break}}if(t)throw new pe(X.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=-62135596800,kw=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*kw);return new ct(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Tw)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kw}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Tw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Pt("string",ct._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new ct(0,0))}static max(){return new Le(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function eC(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(n===1e9?new ct(t+1,0):new ct(t,n));return new ei(i,xe.empty(),e)}function tC(r){return new ei(r.readTime,r.key,Xl)}class ei{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ei(Le.min(),xe.empty(),Xl)}static max(){return new ei(Le.max(),xe.empty(),Xl)}}function rC(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(r.documentKey,e.documentKey),t!==0?t:$e(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==nC)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,n)=>{t(e)}))}static reject(e){return new te(((t,n)=>{n(e)}))}static waitFor(e){return new te(((t,n)=>{let i=0,a=0,u=!1;e.forEach((h=>{++i,h.next((()=>{++a,u&&a===i&&t()}),(f=>n(f)))})),u=!0,a===i&&t()}))}static or(e){let t=te.resolve(!1);for(const n of e)t=t.next((i=>i?te.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,a)=>{n.push(t.call(this,i,a))})),this.waitFor(n)}static mapArray(e,t){return new te(((n,i)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((v=>{u[m]=v,++h,h===a&&n(u)}),(v=>i(v)))}}))}static doWhile(e,t){return new te(((n,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):n()};a()}))}}function iC(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Aa(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this._e(n),this.ae=n=>t.writeSequenceNumber(n))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Fd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=-1;function Bd(r){return r==null}function hd(r){return r===0&&1/r==-1/0}function oC(r){return typeof r=="number"&&Number.isInteger(r)&&!hd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="";function aC(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Sw(e)),e=lC(r.get(t),e);return Sw(e)}function lC(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case X_:t+="";break;default:t+=a}}return t}function Sw(r){return r+X_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Xi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Z_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||er.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??er.RED,this.left=i??er.EMPTY,this.right=a??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new er(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return er.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,n,i,a){return this}insert(e,t,n){return new er(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Iw(this.data.getIterator())}getIteratorFrom(e){return new Iw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class Iw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new _n([])}unionWith(e){let t=new Ut(tr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new _n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new eb("Invalid base64 string: "+a):a}})(e);return new rr(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a})(e);return new rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const uC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(r){if(Xe(!!r,39018),typeof r=="string"){let e=0;const t=uC.exec(r);if(Xe(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:xt(r.seconds),nanos:xt(r.nanos)}}function xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ri(r){return typeof r=="string"?rr.fromBase64String(r):rr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="server_timestamp",rb="__type__",nb="__previous_value__",sb="__local_write_time__";function um(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rb])===null||t===void 0?void 0:t.stringValue)===tb}function zd(r){const e=r.mapValue.fields[nb];return um(e)?zd(e):e}function Zl(r){const e=ti(r.mapValue.fields[sb].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t,n,i,a,u,h,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const fd="(default)";class eu{constructor(e,t){this.projectId=e,this.database=t||fd}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===fd}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="__type__",dC="__max__",Fc={mapValue:{}},ob="__vector__",pd="value";function ni(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?um(r)?4:fC(r)?9007199254740991:hC(r)?10:11:Oe(28295,{value:r})}function Fn(r,e){if(r===e)return!0;const t=ni(r);if(t!==ni(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=ti(i.timestampValue),h=ti(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,a){return ri(i.bytesValue).isEqual(ri(a.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,a){return xt(i.geoPointValue.latitude)===xt(a.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(a.geoPointValue.longitude)})(r,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return xt(i.integerValue)===xt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=xt(i.doubleValue),h=xt(a.doubleValue);return u===h?hd(u)===hd(h):isNaN(u)&&isNaN(h)}return!1})(r,e);case 9:return ga(r.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:case 11:return(function(i,a){const u=i.mapValue.fields||{},h=a.mapValue.fields||{};if(Aw(u)!==Aw(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Fn(u[f],h[f])))return!1;return!0})(r,e);default:return Oe(52216,{left:r})}}function tu(r,e){return(r.values||[]).find((t=>Fn(t,e)))!==void 0}function ya(r,e){if(r===e)return 0;const t=ni(r),n=ni(e);if(t!==n)return $e(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(r.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=xt(a.integerValue||a.doubleValue),f=xt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(r,e);case 3:return Cw(r.timestampValue,e.timestampValue);case 4:return Cw(Zl(r),Zl(e));case 5:return Ap(r.stringValue,e.stringValue);case 6:return(function(a,u){const h=ri(a),f=ri(u);return h.compareTo(f)})(r.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=$e(h[m],f[m]);if(v!==0)return v}return $e(h.length,f.length)})(r.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=$e(xt(a.latitude),xt(u.latitude));return h!==0?h:$e(xt(a.longitude),xt(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Rw(r.arrayValue,e.arrayValue);case 10:return(function(a,u){var h,f,m,v;const b=a.fields||{},E=u.fields||{},C=(h=b[pd])===null||h===void 0?void 0:h.arrayValue,j=(f=E[pd])===null||f===void 0?void 0:f.arrayValue,D=$e(((m=C?.values)===null||m===void 0?void 0:m.length)||0,((v=j?.values)===null||v===void 0?void 0:v.length)||0);return D!==0?D:Rw(C,j)})(r.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Fc.mapValue&&u===Fc.mapValue)return 0;if(a===Fc.mapValue)return 1;if(u===Fc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const E=Ap(f[b],v[b]);if(E!==0)return E;const C=ya(h[f[b]],m[v[b]]);if(C!==0)return C}return $e(f.length,v.length)})(r.mapValue,e.mapValue);default:throw Oe(23264,{le:t})}}function Cw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $e(r,e);const t=ti(r),n=ti(e),i=$e(t.seconds,n.seconds);return i!==0?i:$e(t.nanos,n.nanos)}function Rw(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=ya(t[i],n[i]);if(a)return a}return $e(t.length,n.length)}function va(r){return Ip(r)}function Ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=ti(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ri(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return xe.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=Ip(a);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of n)a?a=!1:i+=",",i+=`${u}:${Ip(t.fields[u])}`;return i+"}"})(r.mapValue):Oe(61005,{value:r})}function Qc(r){switch(ni(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zd(r);return e?16+Qc(e):16;case 5:return 2*r.stringValue.length;case 6:return ri(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Qc(a)),0)})(r.arrayValue);case 10:case 11:return(function(n){let i=0;return Xi(n.fields,((a,u)=>{i+=a.length+Qc(u)})),i})(r.mapValue);default:throw Oe(13486,{value:r})}}function Pw(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Cp(r){return!!r&&"integerValue"in r}function cm(r){return!!r&&"arrayValue"in r}function Nw(r){return!!r&&"nullValue"in r}function Ow(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function hC(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ib])===null||t===void 0?void 0:t.stringValue)===ob}function Vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Xi(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Vl(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function fC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Jc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(t)}setAll(e){let t=tr.emptyPath(),n={},i=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,n,i),n={},i=[],t=h.popLast()}u?n[h.lastSegment()]=Vl(u):i.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());Jc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Jc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Xi(t,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new Xr(Vl(this.value))}}function ab(r){const e=[];return Xi(r.fields,((t,n)=>{const i=new tr([t]);if(Jc(n)){const a=ab(n.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)})),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,t,n,i,a,u,h){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new ur(e,0,Le.min(),Le.min(),Le.min(),Xr.empty(),0)}static newFoundDocument(e,t,n,i){return new ur(e,1,t,Le.min(),n,i,0)}static newNoDocument(e,t){return new ur(e,2,t,Le.min(),Le.min(),Xr.empty(),0)}static newUnknownDocument(e,t){return new ur(e,3,t,Le.min(),Le.min(),Xr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t){this.position=e,this.inclusive=t}}function jw(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],u=r.position[i];if(a.field.isKeyField()?n=xe.comparator(xe.fromName(u.referenceValue),t.key):n=ya(u,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function Dw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Fn(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t="asc"){this.field=e,this.dir=t}}function pC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{}class Rt extends lb{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new gC(e,t,n):t==="array-contains"?new wC(e,n):t==="in"?new _C(e,n):t==="not-in"?new bC(e,n):t==="array-contains-any"?new EC(e,n):new Rt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new yC(e,n):new vC(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ya(t,this.value)):t!==null&&ni(this.value)===ni(t)&&this.matchesComparison(ya(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends lb{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new En(e,t)}matches(e){return ub(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ub(r){return r.op==="and"}function cb(r){return mC(r)&&ub(r)}function mC(r){for(const e of r.filters)if(e instanceof En)return!1;return!0}function Rp(r){if(r instanceof Rt)return r.field.canonicalString()+r.op.toString()+va(r.value);if(cb(r))return r.filters.map((e=>Rp(e))).join(",");{const e=r.filters.map((t=>Rp(t))).join(",");return`${r.op}(${e})`}}function db(r,e){return r instanceof Rt?(function(n,i){return i instanceof Rt&&n.op===i.op&&n.field.isEqual(i.field)&&Fn(n.value,i.value)})(r,e):r instanceof En?(function(n,i){return i instanceof En&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,u,h)=>a&&db(u,i.filters[h])),!0):!1})(r,e):void Oe(19439)}function hb(r){return r instanceof Rt?(function(t){return`${t.field.canonicalString()} ${t.op} ${va(t.value)}`})(r):r instanceof En?(function(t){return t.op.toString()+" {"+t.getFilters().map(hb).join(" ,")+"}"})(r):"Filter"}class gC extends Rt{constructor(e,t,n){super(e,t,n),this.key=xe.fromName(n.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class yC extends Rt{constructor(e,t){super(e,"in",t),this.keys=fb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vC extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=fb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function fb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((n=>xe.fromName(n.referenceValue)))}class wC extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cm(t)&&tu(t.arrayValue,this.value)}}class _C extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&tu(this.value.arrayValue,t)}}class bC extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!tu(this.value.arrayValue,t)}}class EC extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>tu(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,t=null,n=[],i=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=u,this.endAt=h,this.Pe=null}}function Lw(r,e=null,t=[],n=[],i=null,a=null,u=null){return new xC(r,e,t,n,i,a,u)}function dm(r){const e=Ve(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Rp(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),Bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>va(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>va(n))).join(",")),e.Pe=t}return e.Pe}function hm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!pC(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!db(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Dw(r.startAt,e.startAt)&&Dw(r.endAt,e.endAt)}function Pp(r){return xe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t=null,n=[],i=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function TC(r,e,t,n,i,a,u,h){return new Ia(r,e,t,n,i,a,u,h)}function fm(r){return new Ia(r)}function Vw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pb(r){return r.collectionGroup!==null}function Ml(r){const e=Ve(r);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ut(tr.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new ru(a,n))})),t.has(tr.keyField().canonicalString())||e.Te.push(new ru(tr.keyField(),n))}return e.Te}function Vn(r){const e=Ve(r);return e.Ie||(e.Ie=kC(e,Ml(r))),e.Ie}function kC(r,e){if(r.limitType==="F")return Lw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new ru(i.field,a)}));const t=r.endAt?new md(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new md(r.startAt.position,r.startAt.inclusive):null;return Lw(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Np(r,e){const t=r.filters.concat([e]);return new Ia(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Op(r,e,t){return new Ia(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function qd(r,e){return hm(Vn(r),Vn(e))&&r.limitType===e.limitType}function mb(r){return`${dm(Vn(r))}|lt:${r.limitType}`}function oa(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>hb(i))).join(", ")}]`),Bd(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>va(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>va(i))).join(",")),`Target(${n})`})(Vn(r))}; limitType=${r.limitType})`}function Wd(r,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):xe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(r,e)&&(function(n,i){for(const a of Ml(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(u,h,f){const m=jw(u,h,f);return u.inclusive?m<=0:m<0})(n.startAt,Ml(n),i)||n.endAt&&!(function(u,h,f){const m=jw(u,h,f);return u.inclusive?m>=0:m>0})(n.endAt,Ml(n),i))})(r,e)}function SC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gb(r){return(e,t)=>{let n=!1;for(const i of Ml(r)){const a=AC(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function AC(r,e,t){const n=r.field.isKeyField()?xe.comparator(e.key,t.key):(function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?ya(f,m):Oe(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Oe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,((t,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return Z_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new gt(xe.comparator);function fs(){return IC}const yb=new gt(xe.comparator);function Rl(...r){let e=yb;for(const t of r)e=e.insert(t.key,t);return e}function vb(r){let e=yb;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Bi(){return $l()}function wb(){return $l()}function $l(){return new Zi((r=>r.toString()),((r,e)=>r.isEqual(e)))}const CC=new gt(xe.comparator),RC=new Ut(xe.comparator);function Be(...r){let e=RC;for(const t of r)e=e.add(t);return e}const PC=new Ut($e);function NC(){return PC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function _b(r){return{integerValue:""+r}}function OC(r,e){return oC(e)?_b(e):pm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this._=void 0}}function jC(r,e,t){return r instanceof nu?(function(i,a){const u={fields:{[rb]:{stringValue:tb},[sb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&um(a)&&(a=zd(a)),a&&(u.fields[nb]=a),{mapValue:u}})(t,e):r instanceof su?Eb(r,e):r instanceof iu?xb(r,e):(function(i,a){const u=bb(i,a),h=Mw(u)+Mw(i.Ee);return Cp(u)&&Cp(i.Ee)?_b(h):pm(i.serializer,h)})(r,e)}function DC(r,e,t){return r instanceof su?Eb(r,e):r instanceof iu?xb(r,e):t}function bb(r,e){return r instanceof gd?(function(n){return Cp(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class nu extends Hd{}class su extends Hd{constructor(e){super(),this.elements=e}}function Eb(r,e){const t=Tb(e);for(const n of r.elements)t.some((i=>Fn(i,n)))||t.push(n);return{arrayValue:{values:t}}}class iu extends Hd{constructor(e){super(),this.elements=e}}function xb(r,e){let t=Tb(e);for(const n of r.elements)t=t.filter((i=>!Fn(i,n)));return{arrayValue:{values:t}}}class gd extends Hd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Mw(r){return xt(r.integerValue||r.doubleValue)}function Tb(r){return cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t){this.field=e,this.transform=t}}function VC(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof su&&i instanceof su||n instanceof iu&&i instanceof iu?ga(n.elements,i.elements,Fn):n instanceof gd&&i instanceof gd?Fn(n.Ee,i.Ee):n instanceof nu&&i instanceof nu})(r.transform,e.transform)}class MC{constructor(e,t){this.version=e,this.transformResults=t}}class us{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new us}static exists(e){return new us(void 0,e)}static updateTime(e){return new us(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kd{}function kb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ab(r.key,us.none()):new uu(r.key,r.data,us.none());{const t=r.data,n=Xr.empty();let i=new Ut(tr.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?n.delete(a):n.set(a,u),i=i.add(a)}return new eo(r.key,n,new _n(i.toArray()),us.none())}}function $C(r,e,t){r instanceof uu?(function(i,a,u){const h=i.value.clone(),f=Uw(i.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(r,e,t):r instanceof eo?(function(i,a,u){if(!Yc(i.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Uw(i.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Sb(i)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(r,e,t):(function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ul(r,e,t,n){return r instanceof uu?(function(a,u,h,f){if(!Yc(a.precondition,u))return h;const m=a.value.clone(),v=Fw(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(r,e,t,n):r instanceof eo?(function(a,u,h,f){if(!Yc(a.precondition,u))return h;const m=Fw(a.fieldTransforms,f,u),v=u.data;return v.setAll(Sb(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((b=>b.field)))})(r,e,t,n):(function(a,u,h){return Yc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(r,e,t)}function UC(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=bb(n.transform,i||null);a!=null&&(t===null&&(t=Xr.empty()),t.set(n.field,a))}return t||null}function $w(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ga(n,i,((a,u)=>VC(a,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uu extends Kd{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class eo extends Kd{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Sb(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function Uw(r,e,t){const n=new Map;Xe(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let i=0;i<t.length;i++){const a=r[i],u=a.transform,h=e.data.field(a.field);n.set(a.field,DC(u,h,t[i]))}return n}function Fw(r,e,t){const n=new Map;for(const i of r){const a=i.transform,u=t.data.field(i.field);n.set(i.field,jC(a,u,e))}return n}class Ab extends Kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FC extends Kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&$C(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ul(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ul(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=wb();return this.mutations.forEach((i=>{const a=e.get(i.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(i.key)?null:h;const f=kb(u,h);f!==null&&n.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Le.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Be())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,((t,n)=>$w(t,n)))&&ga(this.baseMutations,e.baseMutations,((t,n)=>$w(t,n)))}}class mm{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Xe(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let i=(function(){return CC})();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,n[u].version);return new mm(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,We;function WC(r){switch(r){case X.OK:return Oe(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Oe(15467,{code:r})}}function Ib(r){if(r===void 0)return hs("GRPC error has no .code"),X.UNKNOWN;switch(r){case It.OK:return X.OK;case It.CANCELLED:return X.CANCELLED;case It.UNKNOWN:return X.UNKNOWN;case It.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case It.INTERNAL:return X.INTERNAL;case It.UNAVAILABLE:return X.UNAVAILABLE;case It.UNAUTHENTICATED:return X.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case It.NOT_FOUND:return X.NOT_FOUND;case It.ALREADY_EXISTS:return X.ALREADY_EXISTS;case It.PERMISSION_DENIED:return X.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case It.ABORTED:return X.ABORTED;case It.OUT_OF_RANGE:return X.OUT_OF_RANGE;case It.UNIMPLEMENTED:return X.UNIMPLEMENTED;case It.DATA_LOSS:return X.DATA_LOSS;default:return Oe(39323,{code:r})}}(We=It||(It={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new Ys([4294967295,4294967295],0);function Bw(r){const e=Q_().encode(r),t=new B_;return t.update(e),new Uint8Array(t.digest())}function zw(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ys([t,n],0),new Ys([i,a],0)]}class gm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Pl(`Invalid padding: ${t}`);if(n<0)throw new Pl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ys.fromNumber(this.fe)}pe(e,t,n){let i=e.add(t.multiply(Ys.fromNumber(n)));return i.compare(HC)===1&&(i=new Ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Bw(e),[n,i]=zw(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(n,i,a);if(!this.ye(u))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new gm(a,i,t);return n.forEach((h=>u.insert(h))),u}insert(e){if(this.fe===0)return;const t=Bw(e),[n,i]=zw(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(n,i,a);this.we(u)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Gd(Le.min(),i,new gt($e),fs(),Be())}}class cu{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new cu(n,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t,n,i){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=i}}class Cb{constructor(e,t){this.targetId=e,this.De=t}}class Rb{constructor(e,t,n=rr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class qw{constructor(){this.ve=0,this.Ce=Ww(),this.Fe=rr.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Be(),t=Be(),n=Be();return this.Ce.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Oe(38017,{changeType:a})}})),new cu(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=Ww()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class KC{constructor(e){this.We=e,this.Ge=new Map,this.ze=fs(),this.je=Bc(),this.Je=Bc(),this.He=new gt($e)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((n,i)=>{this.nt(i)&&t(i)}))}it(e){const t=e.targetId,n=e.De.count,i=this.st(t);if(i){const a=i.target;if(Pp(a))if(n===0){const u=new xe(a.path);this.Xe(t,u,ur.newNoDocument(u,Le.min()))}else Xe(n===1,20013,{expectedCount:n});else{const u=this.ot(t);if(u!==n){const h=this._t(e),f=h?this.ut(h,e,u):1;if(f!==0){this.rt(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,m)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let u,h;try{u=ri(n).toUint8Array()}catch(f){if(f instanceof eb)return Ki("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new gm(u,i,a)}catch(f){return Ki(f instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.fe===0?null:h}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let i=0;return n.forEach((a=>{const u=this.We.lt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Xe(t,a,null),i++)})),i}Pt(e){const t=new Map;this.Ge.forEach(((a,u)=>{const h=this.st(u);if(h){if(a.current&&Pp(h.target)){const f=new xe(h.target.path);this.Tt(f).has(u)||this.It(u,f)||this.Xe(u,f,ur.newNoDocument(f,e))}a.Ne&&(t.set(u,a.Le()),a.ke())}}));let n=Be();this.Je.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const m=this.st(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(n=n.add(a))})),this.ze.forEach(((a,u)=>u.setReadTime(e)));const i=new Gd(e,t,this.He,this.ze,n);return this.ze=fs(),this.je=Bc(),this.Je=Bc(),this.He=new gt($e),i}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new qw,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ut($e),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ut($e),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new qw),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Bc(){return new gt(xe.comparator)}function Ww(){return new gt(xe.comparator)}const GC={asc:"ASCENDING",desc:"DESCENDING"},QC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JC={and:"AND",or:"OR"};class YC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jp(r,e){return r.useProto3Json||Bd(e)?e:{value:e}}function yd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function XC(r,e){return yd(r,e.toTimestamp())}function Mn(r){return Xe(!!r,49232),Le.fromTimestamp((function(t){const n=ti(t);return new ct(n.seconds,n.nanos)})(r))}function ym(r,e){return Dp(r,e).canonicalString()}function Dp(r,e){const t=(function(i){return new ot(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Nb(r){const e=ot.fromString(r);return Xe(Vb(e),10190,{key:e.toString()}),e}function Lp(r,e){return ym(r.databaseId,e.path)}function Xf(r,e){const t=Nb(e);if(t.get(1)!==r.databaseId.projectId)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new xe(jb(t))}function Ob(r,e){return ym(r.databaseId,e)}function ZC(r){const e=Nb(r);return e.length===4?ot.emptyPath():jb(e)}function Vp(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function jb(r){return Xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Hw(r,e,t){return{name:Lp(r,e),fields:t.value.mapValue.fields}}function eR(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(m,v){return m.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),rr.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rr.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const v=m.code===void 0?X.UNKNOWN:Ib(m.code);return new pe(v,m.message||"")})(u);t=new Rb(n,i,a,h||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Xf(r,n.document.name),a=Mn(n.document.updateTime),u=n.document.createTime?Mn(n.document.createTime):Le.min(),h=new Xr({mapValue:{fields:n.document.fields}}),f=ur.newFoundDocument(i,a,u,h),m=n.targetIds||[],v=n.removedTargetIds||[];t=new Xc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Xf(r,n.document),a=n.readTime?Mn(n.readTime):Le.min(),u=ur.newNoDocument(i,a),h=n.removedTargetIds||[];t=new Xc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Xf(r,n.document),a=n.removedTargetIds||[];t=new Xc([],a,i,null)}else{if(!("filter"in e))return Oe(11601,{At:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,u=new qC(i,a),h=n.targetId;t=new Cb(h,u)}}return t}function tR(r,e){let t;if(e instanceof uu)t={update:Hw(r,e.key,e.value)};else if(e instanceof Ab)t={delete:Lp(r,e.key)};else if(e instanceof eo)t={update:Hw(r,e.key,e.data),updateMask:cR(e.fieldMask)};else{if(!(e instanceof FC))return Oe(16599,{Rt:e.type});t={verify:Lp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(a,u){const h=u.transform;if(h instanceof nu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof su)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof iu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof gd)return{fieldPath:u.field.canonicalString(),increment:h.Ee};throw Oe(20930,{transform:u.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:XC(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)})(r,e.precondition)),t}function rR(r,e){return r&&r.length>0?(Xe(e!==void 0,14353),r.map((t=>(function(i,a){let u=i.updateTime?Mn(i.updateTime):Mn(a);return u.isEqual(Le.min())&&(u=Mn(a)),new MC(u,i.transformResults||[])})(t,e)))):[]}function nR(r,e){return{documents:[Ob(r,e.path)]}}function sR(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=Ob(r,i);const a=(function(m){if(m.length!==0)return Lb(En.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((v=>(function(E){return{field:aa(E.field),direction:aR(E.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=jp(r,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:t,parent:i}}function iR(r){let e=ZC(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Xe(n===1,65062);const v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(b){const E=Db(b);return E instanceof En&&cb(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(b){return b.map((E=>(function(j){return new ru(la(j.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(E)))})(t.orderBy));let h=null;t.limit&&(h=(function(b){let E;return E=typeof b=="object"?b.value:b,Bd(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(b){const E=!!b.before,C=b.values||[];return new md(C,E)})(t.startAt));let m=null;return t.endAt&&(m=(function(b){const E=!b.before,C=b.values||[];return new md(C,E)})(t.endAt)),TC(e,i,u,a,h,"F",f,m)}function oR(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Db(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=la(t.unaryFilter.field);return Rt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=la(t.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=la(t.unaryFilter.field);return Rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=la(t.unaryFilter.field);return Rt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Rt.create(la(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return En.create(t.compositeFilter.filters.map((n=>Db(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(t.compositeFilter.op))})(r):Oe(30097,{filter:r})}function aR(r){return GC[r]}function lR(r){return QC[r]}function uR(r){return JC[r]}function aa(r){return{fieldPath:r.canonicalString()}}function la(r){return tr.fromServerFormat(r.fieldPath)}function Lb(r){return r instanceof Rt?(function(t){if(t.op==="=="){if(Ow(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NAN"}};if(Nw(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ow(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NOT_NAN"}};if(Nw(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(t.field),op:lR(t.op),value:t.value}}})(r):r instanceof En?(function(t){const n=t.getFilters().map((i=>Lb(i)));return n.length===1?n[0]:{compositeFilter:{op:uR(t.op),filters:n}}})(r):Oe(54877,{filter:r})}function cR(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Vb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t,n,i,a=Le.min(),u=Le.min(),h=rr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.gt=e}}function hR(r){const e=iR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.Dn=new pR}addToCollectionParentIndex(e,t){return this.Dn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(ei.min())}updateCollectionGroup(e,t,n){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class pR{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Ut(ot.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ut(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mb=41943040;class Ar{static withCacheSize(e){return new Ar(e,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar.DEFAULT_COLLECTION_PERCENTILE=10,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ar.DEFAULT=new Ar(Mb,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ar.DISABLED=new Ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new wa(0)}static ur(){return new wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="LruGarbageCollector",$b=1048576;function Qw([r,e],[t,n]){const i=$e(r,t);return i===0?$e(e,n):i}class mR{constructor(e){this.Tr=e,this.buffer=new Ut(Qw),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Qw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gR{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ye(Gw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Aa(t)?ye(Gw,"Ignoring IndexedDB error during garbage collection: ",t):await Sa(t)}await this.Rr(3e5)}))}}class yR{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Fd.ue);const n=new mR(t);return this.Vr.forEachTarget(e,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Kw)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kw):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,i,a,u,h,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,u=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(n=b,h=Date.now(),this.removeTargets(e,n,t)))).next((b=>(a=b,f=Date.now(),this.removeOrphanedDocuments(e,n)))).next((b=>(m=Date.now(),ia()<=He.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:b}))))}}function vR(r,e){return new yR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.changes=new Zi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?te.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&Ul(n.mutation,i,_n.empty(),ct.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Be()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Be()){const i=Bi();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((a=>{let u=Rl();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const n=Bi();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Be())))}populateOverlays(e,t,n){const i=[];return n.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,n,i){let a=fs();const u=$l(),h=(function(){return $l()})();return t.forEach(((f,m)=>{const v=n.get(m.key);i.has(m.key)&&(v===void 0||v.mutation instanceof eo)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Ul(v.mutation,m,v.mutation.getFieldMask(),ct.now())):u.set(m.key,_n.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,v)=>u.set(m,v))),t.forEach(((m,v)=>{var b;return h.set(m,new _R(v,(b=u.get(m))!==null&&b!==void 0?b:null))})),h)))}recalculateAndSaveOverlays(e,t){const n=$l();let i=new gt(((u,h)=>u-h)),a=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let v=n.get(f)||_n.empty();v=h.applyToLocalView(m,v),n.set(f,v);const b=(i.get(h.batchId)||Be()).add(f);i=i.insert(h.batchId,b)}))})).next((()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,b=wb();v.forEach((E=>{if(!a.has(E)){const C=kb(t.get(E),n.get(E));C!==null&&b.set(E,C),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,b))}return te.waitFor(u)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(u){return xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):te.resolve(Bi());let h=Xl,f=a;return u.next((m=>te.forEach(m,((v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),a.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{f=f.insert(v,E)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,Be()))).next((v=>({batchId:h,changes:vb(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next((n=>{let i=Rl();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let u=Rl();return this.indexManager.getCollectionParents(e,a).next((h=>te.forEach(h,(f=>{const m=(function(b,E){return new Ia(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,n,i).next((v=>{v.forEach(((b,E)=>{u=u.insert(b,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i)))).next((u=>{a.forEach(((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,ur.newInvalidDocument(v)))}));let h=Rl();return u.forEach(((f,m)=>{const v=a.get(f);v!==void 0&&Ul(v.mutation,m,_n.empty(),ct.now()),Wd(t,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return te.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Mn(i.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:hR(i.bundledQuery),readTime:Mn(i.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.overlays=new gt(xe.comparator),this.kr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bi();return te.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,a)=>{this.wt(e,t,a)})),te.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.kr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(n)),te.resolve()}getOverlaysForCollection(e,t,n){const i=Bi(),a=t.length+1,u=new xe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>n&&i.set(f.getKey(),f)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new gt(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>n){let v=a.get(m.largestBatchId);v===null&&(v=Bi(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=Bi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=i)););return te.resolve(h)}wt(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const u=this.kr.get(i.largestBatchId).delete(n.key);this.kr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new zC(t,n));let a=this.kr.get(t);a===void 0&&(a=Be(),this.kr.set(t,a)),this.kr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.qr=new Ut(Ht.Qr),this.$r=new Ut(Ht.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new Ht(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Wr(new Ht(e,t))}Gr(e,t){e.forEach((n=>this.removeReference(n,t)))}zr(e){const t=new xe(new ot([])),n=new Ht(t,e),i=new Ht(t,e+1),a=[];return this.$r.forEachInRange([n,i],(u=>{this.Wr(u),a.push(u.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new xe(new ot([])),n=new Ht(t,e),i=new Ht(t,e+1);let a=Be();return this.$r.forEachInRange([n,i],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Ht(e,0),n=this.qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Ht{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return xe.comparator(e.key,t.key)||$e(e.Hr,t.Hr)}static Ur(e,t){return $e(e.Hr,t.Hr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ut(Ht.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new BC(a,t,n,i);this.mutationQueue.push(u);for(const h of i)this.Yr=this.Yr.add(new Ht(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Xr(n),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?lm:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ht(t,0),i=new Ht(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([n,i],(u=>{const h=this.Zr(u.Hr);a.push(h)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ut($e);return t.forEach((i=>{const a=new Ht(i,0),u=new Ht(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],(h=>{n=n.add(h.Hr)}))})),te.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;xe.isDocumentKey(a)||(a=a.child(""));const u=new Ht(new xe(a),0);let h=new Ut($e);return this.Yr.forEachWhile((f=>{const m=f.key.path;return!!n.isPrefixOf(m)&&(m.length===i&&(h=h.add(f.Hr)),!0)}),u),te.resolve(this.ei(h))}ei(e){const t=[];return e.forEach((n=>{const i=this.Zr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Xe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return te.forEach(t.mutations,(i=>{const a=new Ht(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=n}))}rr(e){}containsKey(e,t){const n=new Ht(t,0),i=this.Yr.firstAfterOrEqual(n);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.ni=e,this.docs=(function(){return new gt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,u=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return te.resolve(n?n.document.mutableCopy():ur.newInvalidDocument(t))}getEntries(e,t){let n=fs();return t.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():ur.newInvalidDocument(i))})),te.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=fs();const u=t.path,h=new xe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||rC(tC(v),n)<=0||(i.has(v.key)||Wd(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,n,i){Oe(9500)}ri(e,t){return te.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new AR(this)}getSize(e){return te.resolve(this.size)}}class AR extends wR{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(n)})),te.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.persistence=e,this.ii=new Zi((t=>dm(t)),hm),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.si=0,this.oi=new vm,this.targetCount=0,this._i=wa.ar()}forEachTarget(e,t){return this.ii.forEach(((n,i)=>t(i))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),te.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new wa(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.hr(t),te.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.ii.forEach(((u,h)=>{h.sequenceNumber<=t&&n.get(h.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),te.waitFor(a).next((()=>i))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return te.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),te.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((u=>{a.push(i.markPotentiallyOrphaned(e,u))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return te.resolve(n)}containsKey(e,t){return te.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t){this.ai={},this.overlays={},this.ui=new Fd(0),this.ci=!1,this.ci=!0,this.li=new TR,this.referenceDelegate=e(this),this.hi=new IR(this),this.indexManager=new fR,this.remoteDocumentCache=(function(i){return new SR(i)})((n=>this.referenceDelegate.Pi(n))),this.serializer=new dR(t),this.Ti=new ER(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new kR(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){ye("MemoryPersistence","Starting transaction:",e);const i=new CR(this.ui.next());return this.referenceDelegate.Ii(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,t){return te.or(Object.values(this.ai).map((n=>()=>n.containsKey(e,t))))}}class CR extends sC{constructor(e){super(),this.currentSequenceNumber=e}}class wm{constructor(e){this.persistence=e,this.Ai=new vm,this.Ri=null}static Vi(e){return new wm(e)}get mi(){if(this.Ri)return this.Ri;throw Oe(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),te.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((i=>this.mi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.mi.add(a.toString())))})).next((()=>n.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,(n=>{const i=xe.fromPath(n);return this.fi(e,i).next((a=>{a||t.removeEntry(i,Le.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((n=>{n?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return te.or([()=>te.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class vd{constructor(e,t){this.persistence=e,this.gi=new Zi((n=>aC(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=vR(this,t)}static Vi(e,t){return new vd(e,t)}Ii(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}yr(e){let t=0;return this.gr(e,(n=>{t++})).next((()=>t))}gr(e,t){return te.forEach(this.gi,((n,i)=>this.Sr(e,n,i).next((a=>a?te.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,(u=>this.Sr(e,u,t).next((h=>{h||(n++,a.removeEntry(u,Le.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qc(e.data.value)),t}Sr(e,t,n){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return te.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=i}static Es(e,t){let n=Be(),i=Be();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new _m(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return CA()?8:iC(AA())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.ps(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ys(e,t,i,n).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new RR;return this.ws(e,t,u).next((h=>{if(a.result=h,this.Rs)return this.Ss(e,t,u,h.size)}))})).next((()=>a.result))}Ss(e,t,n,i){return n.documentReadCount<this.Vs?(ia()<=He.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",oa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(ia()<=He.DEBUG&&ye("QueryEngine","Query:",oa(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.fs*i?(ia()<=He.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",oa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(t))):te.resolve())}ps(e,t){if(Vw(t))return te.resolve(null);let n=Vn(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Op(t,null,"F"),n=Vn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const u=Be(...a);return this.gs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,n).next((f=>{const m=this.bs(t,h);return this.Ds(t,m,u,f.readTime)?this.ps(e,Op(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ys(e,t,n,i){return Vw(t)||i.isEqual(Le.min())?te.resolve(null):this.gs.getDocuments(e,n).next((a=>{const u=this.bs(t,a);return this.Ds(t,u,n,i)?te.resolve(null):(ia()<=He.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oa(t)),this.vs(e,u,t,eC(i,Xl)).next((h=>h)))}))}bs(e,t){let n=new Ut(gb(e));return t.forEach(((i,a)=>{Wd(e,a)&&(n=n.add(a))})),n}Ds(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,t,n){return ia()<=He.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",oa(t)),this.gs.getDocumentsMatchingQuery(e,t,ei.min(),n)}vs(e,t,n,i){return this.gs.getDocumentsMatchingQuery(e,n,i).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="LocalStore",NR=3e8;class OR{constructor(e,t,n,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new gt($e),this.Ms=new Zi((a=>dm(a)),hm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bR(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function jR(r,e,t,n){return new OR(r,e,t,n)}async function Fb(r,e){const t=Ve(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(n)))).next((a=>{const u=[],h=[];let f=Be();for(const m of i){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(n,f).next((m=>({Bs:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function DR(r,e){const t=Ve(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,v){const b=m.batch,E=b.keys();let C=te.resolve();return E.forEach((j=>{C=C.next((()=>v.getEntry(f,j))).next((D=>{const N=m.docVersions.get(j);Xe(N!==null,48541),D.version.compareTo(N)<0&&(b.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),v.addEntry(D)))}))})),C.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(t,n,e,a).next((()=>a.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(h){let f=Be();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function Bb(r){const e=Ve(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function LR(r,e){const t=Ve(r),n=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const h=[];e.targetChanges.forEach(((v,b)=>{const E=i.get(b);if(!E)return;h.push(t.hi.removeMatchingKeys(a,v.removedDocuments,b).next((()=>t.hi.addMatchingKeys(a,v.addedDocuments,b))));let C=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(rr.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,n)),i=i.insert(b,C),(function(D,N,K){return D.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=NR?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(E,C,v)&&h.push(t.hi.updateTargetData(a,C))}));let f=fs(),m=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(VR(a,u,e.documentUpdates).next((v=>{f=v.Ls,m=v.ks}))),!n.isEqual(Le.min())){const v=t.hi.getLastRemoteSnapshotVersion(a).next((b=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,n)));h.push(v)}return te.waitFor(h).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Fs=i,a)))}function VR(r,e,t){let n=Be(),i=Be();return t.forEach((a=>n=n.add(a))),e.getEntries(r,n).next((a=>{let u=fs();return t.forEach(((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Le.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ye(bm,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{Ls:u,ks:i}}))}function MR(r,e){const t=Ve(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=lm),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function $R(r,e){const t=Ve(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.hi.getTargetData(n,e).next((a=>a?(i=a,te.resolve(i)):t.hi.allocateTargetId(n).next((u=>(i=new zs(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.hi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.Fs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(n.targetId,n),t.Ms.set(e,n.targetId)),n}))}async function Mp(r,e,t){const n=Ve(r),i=n.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,(u=>n.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Aa(u))throw u;ye(bm,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Fs=n.Fs.remove(e),n.Ms.delete(i.target)}function Jw(r,e,t){const n=Ve(r);let i=Le.min(),a=Be();return n.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,v){const b=Ve(f),E=b.Ms.get(v);return E!==void 0?te.resolve(b.Fs.get(E)):b.hi.getTargetData(m,v)})(n,u,Vn(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>n.Cs.getDocumentsMatchingQuery(u,e,t?i:Le.min(),t?a:Be()))).next((h=>(UR(n,SC(e),h),{documents:h,qs:a})))))}function UR(r,e,t){let n=r.xs.get(e)||Le.min();t.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),r.xs.set(e,n)}class Yw{constructor(){this.activeTargetIds=NC()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FR{constructor(){this.Fo=new Yw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Yw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="ConnectivityMonitor";class Zw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ye(Xw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ye(Xw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function $p(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="RestConnection",zR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qR{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.Ko=this.databaseId.database===fd?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,t,n,i,a){const u=$p(),h=this.Go(e,t.toUriEncodedString());ye(Zf,`Sending RPC '${e}' ${u}:`,h,n);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,i,a);const{host:m}=new URL(h),v=$d(m);return this.jo(e,h,f,n,v).then((b=>(ye(Zf,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Ki(Zf,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",n),b}))}Jo(e,t,n,i,a,u){return this.Wo(e,t,n,i,a)}zo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ka})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}Go(e,t){const n=zR[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="WebChannelConnection";class HR extends qR{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,i,a){const u=$p();return new Promise(((h,f)=>{const m=new z_;m.setWithCredentials(!0),m.listenOnce(q_.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Kc.NO_ERROR:const b=m.getResponseJson();ye(lr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case Kc.TIMEOUT:ye(lr,`RPC '${e}' ${u} timed out`),f(new pe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const E=m.getStatus();if(ye(lr,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const j=C?.error;if(j&&j.status&&j.message){const D=(function(K){const H=K.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(H)>=0?H:X.UNKNOWN})(j.status);f(new pe(D,j.message))}else f(new pe(X.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new pe(X.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{c_:e,streamId:u,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{ye(lr,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(i);ye(lr,`RPC '${e}' ${u} sending request:`,i),m.send(t,"POST",v,n,15)}))}P_(e,t,n){const i=$p(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=K_(),h=H_(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,t,n),f.encodeInitMessageHeaders=!0;const v=a.join("");ye(lr,`Creating RPC '${e}' stream ${i}: ${v}`,f);const b=u.createWebChannel(v,f);this.T_(b);let E=!1,C=!1;const j=new WR({Ho:N=>{C?ye(lr,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(E||(ye(lr,`Opening RPC '${e}' stream ${i} transport.`),b.open(),E=!0),ye(lr,`RPC '${e}' stream ${i} sending:`,N),b.send(N))},Yo:()=>b.close()}),D=(N,K,H)=>{N.listen(K,(z=>{try{H(z)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return D(b,Cl.EventType.OPEN,(()=>{C||(ye(lr,`RPC '${e}' stream ${i} transport opened.`),j.s_())})),D(b,Cl.EventType.CLOSE,(()=>{C||(C=!0,ye(lr,`RPC '${e}' stream ${i} transport closed`),j.__(),this.I_(b))})),D(b,Cl.EventType.ERROR,(N=>{C||(C=!0,Ki(lr,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),j.__(new pe(X.UNAVAILABLE,"The operation could not be completed")))})),D(b,Cl.EventType.MESSAGE,(N=>{var K;if(!C){const H=N.data[0];Xe(!!H,16349);const z=H,ee=z?.error||((K=z[0])===null||K===void 0?void 0:K.error);if(ee){ye(lr,`RPC '${e}' stream ${i} received error:`,ee);const ge=ee.status;let ce=(function(P){const S=It[P];if(S!==void 0)return Ib(S)})(ge),L=ee.message;ce===void 0&&(ce=X.INTERNAL,L="Unknown error status: "+ge+" with message "+ee.message),C=!0,j.__(new pe(ce,L)),b.close()}else ye(lr,`RPC '${e}' stream ${i} received:`,H),j.a_(H)}})),D(h,W_.STAT_EVENT,(N=>{N.stat===Sp.PROXY?ye(lr,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Sp.NOPROXY&&ye(lr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{j.o_()}),0),j}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(r){return new YC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t,n=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=n,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-n);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="PersistentStream";class qb{constructor(e,t,n,i,a,u,h,f){this.Fi=e,this.w_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new zb(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(hs(t.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.b_===t&&this.W_(n,i)}),(n=>{e((()=>{const i=new pe(X.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(i)}))}))}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.e_((()=>{n((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{n((()=>this.G_(i)))})),this.stream.onMessage((i=>{n((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ye(e0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(ye(e0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KR extends qb{constructor(e,t,n,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,u),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=eR(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Le.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Le.min():u.readTime?Mn(u.readTime):Le.min()})(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=Vp(this.serializer),t.addTarget=(function(a,u){let h;const f=u.target;if(h=Pp(f)?{documents:nR(a,f)}:{query:sR(a,f).Vt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Pb(a,u.resumeToken);const m=jp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Le.min())>0){h.readTime=yd(a,u.snapshotVersion.toTimestamp());const m=jp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const n=oR(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=Vp(this.serializer),t.removeTarget=e,this.k_(t)}}class GR extends qb{constructor(e,t,n,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,u),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=rR(e.writeResults,e.commitTime),n=Mn(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=Vp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>tR(this.serializer,n)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{}class JR extends QR{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,Dp(t,n),i,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(X.UNKNOWN,a.toString())}))}Jo(e,t,n,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Jo(e,Dp(t,n),i,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(X.UNKNOWN,u.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class YR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(hs(t),this._a=!1):ye("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="RemoteStore";class XR{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((u=>{n.enqueueAndForget((async()=>{to(this)&&(ye(Gi,"Restarting streams for network reachability change."),await(async function(f){const m=Ve(f);m.Ia.add(4),await du(m),m.Aa.set("Unknown"),m.Ia.delete(4),await Jd(m)})(this))}))})),this.Aa=new YR(n,i)}}async function Jd(r){if(to(r))for(const e of r.da)await e(!0)}async function du(r){for(const e of r.da)await e(!1)}function Wb(r,e){const t=Ve(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),km(t)?Tm(t):Ca(t).x_()&&xm(t,e))}function Em(r,e){const t=Ve(r),n=Ca(t);t.Ta.delete(e),n.x_()&&Hb(t,e),t.Ta.size===0&&(n.x_()?n.B_():to(t)&&t.Aa.set("Unknown"))}function xm(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ca(r).H_(e)}function Hb(r,e){r.Ra.$e(e),Ca(r).Y_(e)}function Tm(r){r.Ra=new KC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Ca(r).start(),r.Aa.aa()}function km(r){return to(r)&&!Ca(r).M_()&&r.Ta.size>0}function to(r){return Ve(r).Ia.size===0}function Kb(r){r.Ra=void 0}async function ZR(r){r.Aa.set("Online")}async function eP(r){r.Ta.forEach(((e,t)=>{xm(r,e)}))}async function tP(r,e){Kb(r),km(r)?(r.Aa.la(e),Tm(r)):r.Aa.set("Unknown")}async function rP(r,e,t){if(r.Aa.set("Online"),e instanceof Rb&&e.state===2&&e.cause)try{await(async function(i,a){const u=a.cause;for(const h of a.targetIds)i.Ta.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.Ta.delete(h),i.Ra.removeTarget(h))})(r,e)}catch(n){ye(Gi,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await wd(r,n)}else if(e instanceof Xc?r.Ra.Ye(e):e instanceof Cb?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Le.min()))try{const n=await Bb(r.localStore);t.compareTo(n)>=0&&await(function(a,u){const h=a.Ra.Pt(u);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ta.get(m);v&&a.Ta.set(m,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,m)=>{const v=a.Ta.get(f);if(!v)return;a.Ta.set(f,v.withResumeToken(rr.EMPTY_BYTE_STRING,v.snapshotVersion)),Hb(a,f);const b=new zs(v.target,f,m,v.sequenceNumber);xm(a,b)})),a.remoteSyncer.applyRemoteEvent(h)})(r,t)}catch(n){ye(Gi,"Failed to raise snapshot:",n),await wd(r,n)}}async function wd(r,e,t){if(!Aa(e))throw e;r.Ia.add(1),await du(r),r.Aa.set("Offline"),t||(t=()=>Bb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ye(Gi,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Jd(r)}))}function Gb(r,e){return e().catch((t=>wd(r,t,e)))}async function Yd(r){const e=Ve(r),t=si(e);let n=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:lm;for(;nP(e);)try{const i=await MR(e.localStore,n);if(i===null){e.Pa.length===0&&t.B_();break}n=i.batchId,sP(e,i)}catch(i){await wd(e,i)}Qb(e)&&Jb(e)}function nP(r){return to(r)&&r.Pa.length<10}function sP(r,e){r.Pa.push(e);const t=si(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function Qb(r){return to(r)&&!si(r).M_()&&r.Pa.length>0}function Jb(r){si(r).start()}async function iP(r){si(r).na()}async function oP(r){const e=si(r);for(const t of r.Pa)e.X_(t.mutations)}async function aP(r,e,t){const n=r.Pa.shift(),i=mm.from(n,e,t);await Gb(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await Yd(r)}async function lP(r,e){e&&si(r).Z_&&await(async function(n,i){if((function(u){return WC(u)&&u!==X.ABORTED})(i.code)){const a=n.Pa.shift();si(n).N_(),await Gb(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Yd(n)}})(r,e),Qb(r)&&Jb(r)}async function t0(r,e){const t=Ve(r);t.asyncQueue.verifyOperationInProgress(),ye(Gi,"RemoteStore received new credentials");const n=to(t);t.Ia.add(3),await du(t),n&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Jd(t)}async function uP(r,e){const t=Ve(r);e?(t.Ia.delete(2),await Jd(t)):e||(t.Ia.add(2),await du(t),t.Aa.set("Unknown"))}function Ca(r){return r.Va||(r.Va=(function(t,n,i){const a=Ve(t);return a.ia(),new KR(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(r.datastore,r.asyncQueue,{Zo:ZR.bind(null,r),e_:eP.bind(null,r),n_:tP.bind(null,r),J_:rP.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),km(r)?Tm(r):r.Aa.set("Unknown")):(await r.Va.stop(),Kb(r))}))),r.Va}function si(r){return r.ma||(r.ma=(function(t,n,i){const a=Ve(t);return a.ia(),new GR(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:iP.bind(null,r),n_:lP.bind(null,r),ea:oP.bind(null,r),ta:aP.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await Yd(r)):(await r.ma.stop(),r.Pa.length>0&&(ye(Gi,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const u=Date.now()+n,h=new Sm(e,t,u,i,a);return h.start(n),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Am(r,e){if(hs("AsyncQueue",`${e}: ${r}`),Aa(r))return new pe(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{static emptySet(e){return new da(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||xe.comparator(t.key,n.key):(t,n)=>xe.comparator(t.key,n.key),this.keyedMap=Rl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new da;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.fa=new gt(xe.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(t,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(t):e.type===1&&n.type===2?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Oe(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class _a{constructor(e,t,n,i,a,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,n,i,a){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new _a(e,t,da.emptySet(t),u,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class dP{constructor(){this.queries=n0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,n){const i=Ve(t),a=i.queries;i.queries=n0(),a.forEach(((u,h)=>{for(const f of h.wa)f.onError(n)}))})(this,new pe(X.ABORTED,"Firestore shutting down"))}}function n0(){return new Zi((r=>mb(r)),qd)}async function hP(r,e){const t=Ve(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.Sa()&&e.ba()&&(n=2):(a=new cP,n=e.ba()?0:1);try{switch(n){case 0:a.ya=await t.onListen(i,!0);break;case 1:a.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Am(u,`Initialization of query '${oa(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&Im(t)}async function fP(r,e){const t=Ve(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function pP(r,e){const t=Ve(r);let n=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const h of u.wa)h.Ca(i)&&(n=!0);u.ya=i}}n&&Im(t)}function mP(r,e,t){const n=Ve(r),i=n.queries.get(e);if(i)for(const a of i.wa)a.onError(t);n.queries.delete(e)}function Im(r){r.Da.forEach((e=>{e.next()}))}var Up,s0;(s0=Up||(Up={})).Fa="default",s0.Cache="cache";class gP{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new _a(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const n=t!=="Offline";return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.key=e}}class Xb{constructor(e){this.key=e}}class yP{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Be(),this.mutatedKeys=Be(),this.Xa=gb(e),this.eu=new da(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new r0,i=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((v,b)=>{const E=i.get(v),C=Wd(this.query,b)?b:null,j=!!E&&this.mutatedKeys.has(E.key),D=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;E&&C?E.data.isEqual(C.data)?j!==D&&(n.track({type:3,doc:C}),N=!0):this.iu(E,C)||(n.track({type:2,doc:C}),N=!0,(f&&this.Xa(C,f)>0||m&&this.Xa(C,m)<0)&&(h=!0)):!E&&C?(n.track({type:0,doc:C}),N=!0):E&&!C&&(n.track({type:1,doc:E}),N=!0,(f||m)&&(h=!0)),N&&(C?(u=u.add(C),a=D?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),n.track({type:1,doc:v})}return{eu:u,ru:n,Ds:h,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort(((v,b)=>(function(C,j){const D=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{At:N})}};return D(C)-D(j)})(v.type,b.type)||this.Xa(v.doc,b.doc))),this.su(n),i=i!=null&&i;const h=t&&!i?this.ou():[],f=this.Za.size===0&&this.current&&!i?1:0,m=f!==this.Ya;return this.Ya=f,u.length!==0||m?{snapshot:new _a(this.query,e.eu,a,u,e.mutatedKeys,f===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new r0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Be(),this.eu.forEach((n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))}));const t=[];return e.forEach((n=>{this.Za.has(n)||t.push(new Xb(n))})),this.Za.forEach((n=>{e.has(n)||t.push(new Yb(n))})),t}uu(e){this.Ha=e.qs,this.Za=Be();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return _a.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Cm="SyncEngine";class vP{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wP{constructor(e){this.key=e,this.lu=!1}}class _P{constructor(e,t,n,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Zi((h=>mb(h)),qd),this.Tu=new Map,this.Iu=new Set,this.du=new gt(xe.comparator),this.Eu=new Map,this.Au=new vm,this.Ru={},this.Vu=new Map,this.mu=wa.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function bP(r,e,t=!0){const n=s1(r);let i;const a=n.Pu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await Zb(n,e,t,!0),i}async function EP(r,e){const t=s1(r);await Zb(t,e,!0,!1)}async function Zb(r,e,t,n){const i=await $R(r.localStore,Vn(e)),a=i.targetId,u=r.sharedClientState.addLocalQueryTarget(a,t);let h;return n&&(h=await xP(r,e,a,u==="current",i.resumeToken)),r.isPrimaryClient&&t&&Wb(r.remoteStore,i),h}async function xP(r,e,t,n,i){r.gu=(b,E,C)=>(async function(D,N,K,H){let z=N.view.nu(K);z.Ds&&(z=await Jw(D.localStore,N.query,!1).then((({documents:L})=>N.view.nu(L,z))));const ee=H&&H.targetChanges.get(N.targetId),ge=H&&H.targetMismatches.get(N.targetId)!=null,ce=N.view.applyChanges(z,D.isPrimaryClient,ee,ge);return o0(D,N.targetId,ce._u),ce.snapshot})(r,b,E,C);const a=await Jw(r.localStore,e,!0),u=new yP(e,a.qs),h=u.nu(a.documents),f=cu.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),m=u.applyChanges(h,r.isPrimaryClient,f);o0(r,t,m._u);const v=new vP(e,t,u);return r.Pu.set(e,v),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),m.snapshot}async function TP(r,e,t){const n=Ve(r),i=n.Pu.get(e),a=n.Tu.get(i.targetId);if(a.length>1)return n.Tu.set(i.targetId,a.filter((u=>!qd(u,e)))),void n.Pu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Mp(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&Em(n.remoteStore,i.targetId),Fp(n,i.targetId)})).catch(Sa)):(Fp(n,i.targetId),await Mp(n.localStore,i.targetId,!0))}async function kP(r,e){const t=Ve(r),n=t.Pu.get(e),i=t.Tu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Em(t.remoteStore,n.targetId))}async function SP(r,e,t){const n=OP(r);try{const i=await(function(u,h){const f=Ve(u),m=ct.now(),v=h.reduce(((C,j)=>C.add(j.key)),Be());let b,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let j=fs(),D=Be();return f.Os.getEntries(C,v).next((N=>{j=N,j.forEach(((K,H)=>{H.isValidDocument()||(D=D.add(K))}))})).next((()=>f.localDocuments.getOverlayedDocuments(C,j))).next((N=>{b=N;const K=[];for(const H of h){const z=UC(H,b.get(H.key).overlayedDocument);z!=null&&K.push(new eo(H.key,z,ab(z.value.mapValue),us.exists(!0)))}return f.mutationQueue.addMutationBatch(C,m,K,h)})).next((N=>{E=N;const K=N.applyToLocalDocumentSet(b,D);return f.documentOverlayCache.saveOverlays(C,N.batchId,K)}))})).then((()=>({batchId:E.batchId,changes:vb(b)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(u,h,f){let m=u.Ru[u.currentUser.toKey()];m||(m=new gt($e)),m=m.insert(h,f),u.Ru[u.currentUser.toKey()]=m})(n,i.batchId,t),await hu(n,i.changes),await Yd(n.remoteStore)}catch(i){const a=Am(i,"Failed to persist write");t.reject(a)}}async function e1(r,e){const t=Ve(r);try{const n=await LR(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const u=t.Eu.get(a);u&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.lu=!0:i.modifiedDocuments.size>0?Xe(u.lu,14607):i.removedDocuments.size>0&&(Xe(u.lu,42227),u.lu=!1))})),await hu(t,n,e)}catch(n){await Sa(n)}}function i0(r,e,t){const n=Ve(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Pu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(u,h){const f=Ve(u);f.onlineState=h;let m=!1;f.queries.forEach(((v,b)=>{for(const E of b.wa)E.va(h)&&(m=!0)})),m&&Im(f)})(n.eventManager,e),i.length&&n.hu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function AP(r,e,t){const n=Ve(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Eu.get(e),a=i&&i.key;if(a){let u=new gt(xe.comparator);u=u.insert(a,ur.newNoDocument(a,Le.min()));const h=Be().add(a),f=new Gd(Le.min(),new Map,new gt($e),u,h);await e1(n,f),n.du=n.du.remove(a),n.Eu.delete(e),Rm(n)}else await Mp(n.localStore,e,!1).then((()=>Fp(n,e,t))).catch(Sa)}async function IP(r,e){const t=Ve(r),n=e.batch.batchId;try{const i=await DR(t.localStore,e);r1(t,n,null),t1(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await hu(t,i)}catch(i){await Sa(i)}}async function CP(r,e,t){const n=Ve(r);try{const i=await(function(u,h){const f=Ve(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next((b=>(Xe(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(m,b)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(n.localStore,e);r1(n,e,t),t1(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await hu(n,i)}catch(i){await Sa(i)}}function t1(r,e){(r.Vu.get(e)||[]).forEach((t=>{t.resolve()})),r.Vu.delete(e)}function r1(r,e,t){const n=Ve(r);let i=n.Ru[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.Ru[n.currentUser.toKey()]=i}}function Fp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Tu.get(e))r.Pu.delete(n),t&&r.hu.pu(n,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((n=>{r.Au.containsKey(n)||n1(r,n)}))}function n1(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Em(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),Rm(r))}function o0(r,e,t){for(const n of t)n instanceof Yb?(r.Au.addReference(n.key,e),RP(r,n)):n instanceof Xb?(ye(Cm,"Document no longer in limbo: "+n.key),r.Au.removeReference(n.key,e),r.Au.containsKey(n.key)||n1(r,n.key)):Oe(19791,{yu:n})}function RP(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Iu.has(n)||(ye(Cm,"New document in limbo: "+t),r.Iu.add(n),Rm(r))}function Rm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new xe(ot.fromString(e)),n=r.mu.next();r.Eu.set(n,new wP(t)),r.du=r.du.insert(t,n),Wb(r.remoteStore,new zs(Vn(fm(t.path)),n,"TargetPurposeLimboResolution",Fd.ue))}}async function hu(r,e,t){const n=Ve(r),i=[],a=[],u=[];n.Pu.isEmpty()||(n.Pu.forEach(((h,f)=>{u.push(n.gu(f,e,t).then((m=>{var v;if((m||t)&&n.isPrimaryClient){const b=m?!m.fromCache:(v=t?.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;n.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(m){i.push(m);const b=_m.Es(f.targetId,m);a.push(b)}})))})),await Promise.all(u),n.hu.J_(i),await(async function(f,m){const v=Ve(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(m,(E=>te.forEach(E.Is,(C=>v.persistence.referenceDelegate.addReference(b,E.targetId,C))).next((()=>te.forEach(E.ds,(C=>v.persistence.referenceDelegate.removeReference(b,E.targetId,C)))))))))}catch(b){if(!Aa(b))throw b;ye(bm,"Failed to update sequence numbers: "+b)}for(const b of m){const E=b.targetId;if(!b.fromCache){const C=v.Fs.get(E),j=C.snapshotVersion,D=C.withLastLimboFreeSnapshotVersion(j);v.Fs=v.Fs.insert(E,D)}}})(n.localStore,a))}async function PP(r,e){const t=Ve(r);if(!t.currentUser.isEqual(e)){ye(Cm,"User change. New user:",e.toKey());const n=await Fb(t.localStore,e);t.currentUser=e,(function(a,u){a.Vu.forEach((h=>{h.forEach((f=>{f.reject(new pe(X.CANCELLED,u))}))})),a.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await hu(t,n.Bs)}}function NP(r,e){const t=Ve(r),n=t.Eu.get(e);if(n&&n.lu)return Be().add(n.key);{let i=Be();const a=t.Tu.get(e);if(!a)return i;for(const u of a){const h=t.Pu.get(u);i=i.unionWith(h.view.tu)}return i}}function s1(r){const e=Ve(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AP.bind(null,e),e.hu.J_=pP.bind(null,e.eventManager),e.hu.pu=mP.bind(null,e.eventManager),e}function OP(r){const e=Ve(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CP.bind(null,e),e}class _d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return jR(this.persistence,new PR,e.initialUser,this.serializer)}Du(e){return new Ub(wm.Vi,this.serializer)}bu(e){return new FR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_d.provider={build:()=>new _d};class jP extends _d{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Xe(this.persistence.referenceDelegate instanceof vd,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new gR(n,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Ar.withCacheSize(this.cacheSizeBytes):Ar.DEFAULT;return new Ub((n=>vd.Vi(n,t)),this.serializer)}}class Bp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>i0(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=PP.bind(null,this.syncEngine),await uP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dP})()}createDatastore(e){const t=Qd(e.databaseInfo.databaseId),n=(function(a){return new HR(a)})(e.databaseInfo);return(function(a,u,h,f){return new JR(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,a,u,h){return new XR(n,i,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>i0(this.syncEngine,t,0)),(function(){return Zw.C()?new Zw:new BR})())}createSyncEngine(e,t){return(function(i,a,u,h,f,m,v){const b=new _P(i,a,u,h,f,m);return v&&(b.fu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const a=Ve(i);ye(Gi,"RemoteStore shutting down."),a.Ia.add(5),await du(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Bp.provider={build:()=>new Bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="FirestoreClient";class LP{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Sr.UNAUTHENTICATED,this.clientId=am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async u=>{ye(ii,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(n,(u=>(ye(ii,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Am(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function tp(r,e){r.asyncQueue.verifyOperationInProgress(),ye(ii,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await Fb(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>{Ki("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{ye("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{Ki("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),r._offlineComponents=e}async function a0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await VP(r);ye(ii,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>t0(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>t0(e.remoteStore,i))),r._onlineComponents=e}async function VP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(ii,"Using user provided OfflineComponentProvider");try{await tp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Ki("Error using user provided cache. Falling back to memory cache: "+t),await tp(r,new _d)}}else ye(ii,"Using default OfflineComponentProvider"),await tp(r,new jP(void 0));return r._offlineComponents}async function i1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(ii,"Using user provided OnlineComponentProvider"),await a0(r,r._uninitializedComponentsProvider._online)):(ye(ii,"Using default OnlineComponentProvider"),await a0(r,new Bp))),r._onlineComponents}function MP(r){return i1(r).then((e=>e.syncEngine))}async function l0(r){const e=await i1(r),t=e.eventManager;return t.onListen=bP.bind(null,e.syncEngine),t.onUnlisten=TP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=EP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kP.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="firestore.googleapis.com",c0=!0;class d0{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$P,this.ssl=c0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:c0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$b)throw new pe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o1((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pm{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new WI;switch(n.type){case"firstParty":return new GI(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new pe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=u0.get(t);n&&(ye("ComponentProvider","Removing Datastore"),u0.delete(t),n.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class $t{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(lu(t,$t._jsonSchema))return new $t(e,n||null,new xe(ot.fromString(t.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:Pt("string",$t._jsonSchemaVersion),referencePath:Pt("string")};class Xs extends ro{constructor(e,t,n){super(e,t,fm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new xe(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function h0(r,e,...t){if(r=Zs(r),J_("collection","path",e),r instanceof Pm){const n=ot.fromString(e,...t);return xw(n),new Xs(r,null,n)}{if(!(r instanceof $t||r instanceof Xs))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ot.fromString(e,...t));return xw(n),new Xs(r.firestore,null,n)}}function UP(r,e,...t){if(r=Zs(r),arguments.length===1&&(e=am.newId()),J_("doc","path",e),r instanceof Pm){const n=ot.fromString(e,...t);return Ew(n),new $t(r,null,new xe(n))}{if(!(r instanceof $t||r instanceof Xs))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ot.fromString(e,...t));return Ew(n),new $t(r.firestore,r instanceof Xs?r.converter:null,new xe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="AsyncQueue";class p0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new zb(this,"async_queue_retry"),this.oc=()=>{const n=ep();n&&ye(f0,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=e;const t=ep();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=ep();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new zi;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Aa(e))throw e;ye(f0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((n=>{throw this.tc=n,this.nc=!1,hs("INTERNAL UNHANDLED ERROR: ",m0(n)),n})).then((n=>(this.nc=!1,n))))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=Sm.createAndSchedule(this,e,t,n,(a=>this.lc(a)));return this.ec.push(i),i}ac(){this.tc&&Oe(47125,{hc:m0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function m0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(r,["next","error","complete"])}class bd extends Pm{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new p0,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p0(e),this._firestoreClient=void 0,await e}}}function FP(r,e,t){t||(t=fd);const n=L_(r,"firestore");if(n.isInitialized(t)){const i=n.getImmediate({identifier:t}),a=n.getOptions(t);if(cd(a,e))return i;throw new pe(X.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new pe(X.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$b)throw new pe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&$d(e.host)&&P_(e.host),n.initialize({options:e,instanceIdentifier:t})}function a1(r){if(r._terminated)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||BP(r),r._firestoreClient}function BP(r){var e,t,n;const i=r._freezeSettings(),a=(function(h,f,m,v){return new cC(h,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,o1(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new LP(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&(function(h){const f=h?._online.build();return{_offline:h?._offline.build(f),_online:f}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zr(rr.fromBase64String(e))}catch(t){throw new pe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zr(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,Zr._jsonSchema))return Zr.fromBase64String(e.bytes)}}Zr._jsonSchemaVersion="firestore/bytes/1.0",Zr._jsonSchema={type:Pt("string",Zr._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$n._jsonSchemaVersion}}static fromJSON(e){if(lu(e,$n._jsonSchema))return new $n(e.latitude,e.longitude)}}$n._jsonSchemaVersion="firestore/geoPoint/1.0",$n._jsonSchema={type:Pt("string",$n._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Un._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Un._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Un(e.vectorValues);throw new pe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Un._jsonSchemaVersion="firestore/vectorValue/1.0",Un._jsonSchema={type:Pt("string",Un._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=/^__.*__$/;class qP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new uu(e,this.data,t,this.fieldTransforms)}}function l1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ec:r})}}class jm{constructor(e,t,n,i,a,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new jm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:n,mc:!1});return i.fc(e),i}gc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:n,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ed(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(l1(this.Ec)&&zP.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class WP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Qd(e)}Dc(e,t,n,i=!1){return new jm({Ec:e,methodName:t,bc:n,path:tr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u1(r){const e=r._freezeSettings(),t=Qd(r._databaseId);return new WP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function HP(r,e,t,n,i,a={}){const u=r.Dc(a.merge||a.mergeFields?2:0,e,t,i);h1("Data must be an object, but it was:",u,n);const h=c1(n,u);let f,m;if(a.merge)f=new _n(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const b of a.mergeFields){const E=GP(e,b,t);if(!u.contains(E))throw new pe(X.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);JP(v,E)||v.push(E)}f=new _n(v),m=u.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,m=u.fieldTransforms;return new qP(new Xr(h),f,m)}class Dm extends Om{_toFieldTransform(e){return new LC(e.path,new nu)}isEqual(e){return e instanceof Dm}}function KP(r,e,t,n=!1){return Lm(t,r.Dc(n?4:3,e))}function Lm(r,e){if(d1(r=Zs(r)))return h1("Unsupported field value:",e,r),c1(r,e);if(r instanceof Om)return(function(n,i){if(!l1(i.Ec))throw i.wc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(n,i){const a=[];let u=0;for(const h of n){let f=Lm(h,i.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(r,e)}return(function(n,i){if((n=Zs(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return OC(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=ct.fromDate(n);return{timestampValue:yd(i.serializer,a)}}if(n instanceof ct){const a=new ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yd(i.serializer,a)}}if(n instanceof $n)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zr)return{bytesValue:Pb(i.serializer,n._byteString)};if(n instanceof $t){const a=i.databaseId,u=n.firestore._databaseId;if(!u.isEqual(a))throw i.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ym(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Un)return(function(u,h){return{mapValue:{fields:{[ib]:{stringValue:ob},[pd]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.wc("VectorValues must only contain numeric values.");return pm(h.serializer,m)}))}}}}}})(n,i);throw i.wc(`Unsupported field value: ${Ud(n)}`)})(r,e)}function c1(r,e){const t={};return Z_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(r,((n,i)=>{const a=Lm(i,e.Vc(n));a!=null&&(t[n]=a)})),{mapValue:{fields:t}}}function d1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ct||r instanceof $n||r instanceof Zr||r instanceof $t||r instanceof Om||r instanceof Un)}function h1(r,e,t){if(!d1(t)||!Y_(t)){const n=Ud(t);throw n==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+n)}}function GP(r,e,t){if((e=Zs(e))instanceof Nm)return e._internalPath;if(typeof e=="string")return f1(r,e);throw Ed("Field path arguments must be of type string or ",r,!1,void 0,t)}const QP=new RegExp("[~\\*/\\[\\]]");function f1(r,e,t){if(e.search(QP)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Nm(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ed(r,e,t,n,i){const a=n&&!n.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${n}`),u&&(f+=` in document ${i}`),f+=")"),new pe(X.INVALID_ARGUMENT,h+r+f)}function JP(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class YP extends p1{data(){return super.data()}}function Vm(r,e){return typeof e=="string"?f1(r,e):e instanceof Nm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mm{}class m1 extends Mm{}function ZP(r,e,...t){let n=[];e instanceof Mm&&n.push(e),n=n.concat(t),(function(a){const u=a.filter((f=>f instanceof Um)).length,h=a.filter((f=>f instanceof $m)).length;if(u>1||u>0&&h>0)throw new pe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)r=i._apply(r);return r}class $m extends m1{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new $m(e,t,n)}_apply(e){const t=this._parse(e);return g1(e._query,t),new ro(e.firestore,e.converter,Np(e._query,t))}_parse(e){const t=u1(e.firestore);return(function(a,u,h,f,m,v,b){let E;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){v0(b,v);const j=[];for(const D of b)j.push(y0(f,a,D));E={arrayValue:{values:j}}}else E=y0(f,a,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||v0(b,v),E=KP(h,u,b,v==="in"||v==="not-in");return Rt.create(m,v,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Um extends Mm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Um(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:En.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let u=i;const h=a.getFlattenedFilters();for(const f of h)g1(u,f),u=Np(u,f)})(e._query,t),new ro(e.firestore,e.converter,Np(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fm extends m1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Fm(e,t)}_apply(e){const t=(function(i,a,u){if(i.startAt!==null)throw new pe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(a,u)})(e._query,this._field,this._direction);return new ro(e.firestore,e.converter,(function(i,a){const u=i.explicitOrderBy.concat([a]);return new Ia(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function eN(r,e="asc"){const t=e,n=Vm("orderBy",r);return Fm._create(n,t)}function y0(r,e,t){if(typeof(t=Zs(t))=="string"){if(t==="")throw new pe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pb(e)&&t.indexOf("/")!==-1)throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ot.fromString(t));if(!xe.isDocumentKey(n))throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Pw(r,new xe(n))}if(t instanceof $t)return Pw(r,t._key);throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ud(t)}.`)}function v0(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g1(r,e){const t=(function(i,a){for(const u of i)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(r.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tN{convertValue(e,t="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Xi(e,((i,a)=>{n[i]=this.convertValue(a,t)})),n}convertVectorValue(e){var t,n,i;const a=(i=(n=(t=e.fields)===null||t===void 0?void 0:t[pd].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((u=>xt(u.doubleValue)));return new Un(a)}convertGeoPoint(e){return new $n(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=zd(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const t=ti(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ot.fromString(e);Xe(Vb(n),9688,{name:e});const i=new eu(n.get(1),n.get(3)),a=new xe(n.popFirst(5));return i.isEqual(t)||hs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class Nl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qi extends p1{constructor(e,t,n,i,a,u){super(e,t,n,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Vm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=qi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}qi._jsonSchemaVersion="firestore/documentSnapshot/1.0",qi._jsonSchema={type:Pt("string",qi._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Zc extends qi{data(e={}){return super.data(e)}}class ha{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Nl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Zc(this._firestore,this._userDataWriter,n.key,n,new Nl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((h=>{const f=new Zc(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Nl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new Zc(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Nl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:nN(h.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ha._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:r})}}ha._jsonSchemaVersion="firestore/querySnapshot/1.0",ha._jsonSchema={type:Pt("string",ha._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class y1 extends tN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,t)}}function sN(r,e){const t=Gc(r.firestore,bd),n=UP(r),i=rN(r.converter,e);return oN(t,[HP(u1(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,us.exists(!1))]).then((()=>n))}function iN(r,...e){var t,n,i;r=Zs(r);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||g0(e[u])||(a=e[u++]);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(g0(e[u])){const b=e[u];e[u]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[u+1]=(n=b.error)===null||n===void 0?void 0:n.bind(b),e[u+2]=(i=b.complete)===null||i===void 0?void 0:i.bind(b)}let f,m,v;if(r instanceof $t)m=Gc(r.firestore,bd),v=fm(r._key.path),f={next:b=>{e[u]&&e[u](aN(m,r,b))},error:e[u+1],complete:e[u+2]};else{const b=Gc(r,ro);m=Gc(b.firestore,bd),v=b._query;const E=new y1(m);f={next:C=>{e[u]&&e[u](new ha(m,E,b,C))},error:e[u+1],complete:e[u+2]},XP(r._query)}return(function(E,C,j,D){const N=new DP(D),K=new gP(C,N,j);return E.asyncQueue.enqueueAndForget((async()=>hP(await l0(E),K))),()=>{N.Ou(),E.asyncQueue.enqueueAndForget((async()=>fP(await l0(E),K)))}})(a1(m),v,h,f)}function oN(r,e){return(function(n,i){const a=new zi;return n.asyncQueue.enqueueAndForget((async()=>SP(await MP(n),i,a))),a.promise})(a1(r),e)}function aN(r,e,t){const n=t.docs.get(e._key),i=new y1(r);return new qi(r,i,e._key,n,new Nl(t.hasPendingWrites,t.fromCache),e.converter)}function lN(){return new Dm("serverTimestamp")}(function(e,t=!0){(function(i){ka=i})(M_),Jl(new ma("firestore",((n,{instanceIdentifier:i,options:a})=>{const u=n.getProvider("app").getImmediate(),h=new bd(new HI(n.getProvider("auth-internal")),new QI(u,n.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(m.options.projectId,v)})(u,i),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Js(yw,vw,e),Js(yw,vw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firebasestorage.googleapis.com",uN="storageBucket",cN=120*1e3,dN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends Yi{constructor(e,t,n=0){super(rp(e),`Firebase Storage: ${t} (${rp(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bn;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bn||(Bn={}));function rp(r){return"storage/"+r}function hN(){const r="An unknown error occurred, please check the error payload for server response.";return new qn(Bn.UNKNOWN,r)}function fN(){return new qn(Bn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pN(){return new qn(Bn.CANCELED,"User canceled the upload/download.")}function mN(r){return new qn(Bn.INVALID_URL,"Invalid URL '"+r+"'.")}function gN(r){return new qn(Bn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function w0(r){return new qn(Bn.INVALID_ARGUMENT,r)}function w1(){return new qn(Bn.APP_DELETED,"The Firebase app was deleted.")}function yN(r){return new qn(Bn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=bn.makeFromUrl(e,t)}catch{return new bn(e,"")}if(n.path==="")return n;throw gN(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+i+u,"i"),f={bucket:1,path:3};function m(ee){ee.path_=decodeURIComponent(ee.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",C=new RegExp(`^https?://${b}/${v}/b/${i}/o${E}`,"i"),j={bucket:1,path:3},D=t===v1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",K=new RegExp(`^https?://${D}/${i}/${N}`,"i"),z=[{regex:h,indices:f,postModify:a},{regex:C,indices:j,postModify:m},{regex:K,indices:{bucket:1,path:2},postModify:m}];for(let ee=0;ee<z.length;ee++){const ge=z[ee],ce=ge.regex.exec(e);if(ce){const L=ce[ge.indices.bucket];let T=ce[ge.indices.path];T||(T=""),n=new bn(L,T),ge.postModify(n);break}}if(n==null)throw mN(e);return n}}class vN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(r,e,t){let n=1,i=null,a=null,u=!1,h=0;function f(){return h===2}let m=!1;function v(...N){m||(m=!0,e.apply(null,N))}function b(N){i=setTimeout(()=>{i=null,r(C,f())},N)}function E(){a&&clearTimeout(a)}function C(N,...K){if(m){E();return}if(N){E(),v.call(null,N,...K);return}if(f()||u){E(),v.call(null,N,...K);return}n<64&&(n*=2);let z;h===1?(h=2,z=0):z=(n+Math.random())*1e3,b(z)}let j=!1;function D(N){j||(j=!0,E(),!m&&(i!==null?(N||(h=2),clearTimeout(i),b(0)):N||(h=1)))}return b(0),a=setTimeout(()=>{u=!0,D(!0)},t),D}function _N(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r){return r!==void 0}function _0(r,e,t,n){if(n<e)throw w0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw w0(`Invalid value for '${r}'. Expected ${t} or less.`)}function EN(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var xd;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(xd||(xd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,t,n,i,a,u,h,f,m,v,b,E=!0,C=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=b,this.retry=E,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,D)=>{this.resolve_=j,this.reject_=D,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new qc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===xd.NO_ERROR,f=a.getStatus();if(!h||xN(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===xd.ABORT;n(!1,new qc(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;n(!0,new qc(m,a))})},t=(n,i)=>{const a=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());bN(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=hN();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(i.canceled){const f=this.appDelete_?w1():pN();u(f)}else{const f=fN();u(f)}};this.canceled_?t(!1,new qc(!1,null,!0)):this.backoffId_=wN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_N(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qc{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function kN(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function SN(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AN(r,e){e&&(r["X-Firebase-GMPID"]=e)}function IN(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function CN(r,e,t,n,i,a,u=!0,h=!1){const f=EN(r.urlParams),m=r.url+f,v=Object.assign({},r.headers);return AN(v,e),kN(v,t),SN(v,a),IN(v,n),new TN(m,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function PN(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t){this._service=e,t instanceof bn?this._location=t:this._location=bn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Td(e,t)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PN(this._location.path)}get storage(){return this._service}get parent(){const e=RN(this._location.path);if(e===null)return null;const t=new bn(this._location.bucket,e);return new Td(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw yN(e)}}function b0(r,e){const t=e?.[uN];return t==null?null:bn.makeFromBucketSpec(t,r)}function NN(r,e,t,n={}){r.host=`${e}:${t}`;const i=$d(e);i&&(P_(`https://${r.host}/b`),SA("Storage",!0)),r._isUsingEmulator=!0,r._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(r._overrideAuthToken=typeof a=="string"?a:xA(a,r.app.options.projectId))}class ON{constructor(e,t,n,i,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=v1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cN,this._maxUploadRetryTime=dN,this._requests=new Set,i!=null?this._bucket=bn.makeFromBucketSpec(i,this._host):this._bucket=b0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=b0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(V_(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Td(this,e)}_makeRequest(e,t,n,i,a=!0){if(this._deleted)return new vN(w1());{const u=CN(e,this._appId,n,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const E0="@firebase/storage",x0="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="storage";function jN(r=OI(),e){r=Zs(r);const n=L_(r,_1).getImmediate({identifier:e}),i=bA("storage");return i&&DN(n,...i),n}function DN(r,e,t,n={}){NN(r,e,t,n)}function LN(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new ON(t,n,i,e,M_)}function VN(){Jl(new ma(_1,LN,"PUBLIC").setMultipleInstances(!0)),Js(E0,x0,""),Js(E0,x0,"esm2017")}VN();var MN="firebase",$N="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(MN,$N,"app");const UN={apiKey:"AIzaSyCqvldVtyKS-xnXp2SYfq-uR5BnasyhEeI",authDomain:"xpensive-media.firebaseapp.com",projectId:"xpensive-media",storageBucket:"xpensive-media.firebasestorage.app",messagingSenderId:"302194834178",appId:"1:302194834178:web:2156ae33f9bd3ad9ace01b",measurementId:"G-ZWNFX2S4Y8"},b1=$_(UN,"comments-app"),T0=FP(b1,{experimentalForceLongPolling:!0,preferRest:!0});jN(b1);const Bm=B.memo(({comment:r,formatDate:e})=>w.jsx("div",{className:"px-4 pt-4 pb-2 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all group hover:shadow-lg hover:-translate-y-0.5",children:w.jsxs("div",{className:"flex items-start gap-3 ",children:[w.jsx("div",{className:"p-2 rounded-full bg-indigo-500/20 text-indigo-400 group-hover:bg-indigo-500/30 transition-colors",children:w.jsx(zx,{className:"w-5 h-5"})}),w.jsxs("div",{className:"flex-grow min-w-0",children:[w.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[w.jsx("h4",{className:"font-medium text-white truncate",children:r.userName}),w.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:e(r.createdAt)})]}),w.jsx("p",{className:"text-gray-300 text-sm break-words leading-relaxed relative bottom-2",children:r.content})]})]})})),zm=B.memo(({onSubmit:r,isSubmitting:e,error:t})=>{const[n,i]=B.useState(""),[a,u]=B.useState(""),h=B.useRef(null),f=B.useCallback(v=>{i(v.target.value),h.current&&(h.current.style.height="auto",h.current.style.height=`${h.current.scrollHeight}px`)},[]),m=B.useCallback(v=>{v.preventDefault(),!(!n.trim()||!a.trim())&&(r({newComment:n,userName:a}),i(""),h.current&&(h.current.style.height="auto"))},[n,a,r]);return w.jsxs("form",{onSubmit:m,className:"space-y-6",children:[w.jsxs("div",{className:"space-y-2","data-aos":"fade-up","data-aos-duration":"1000",children:[w.jsxs("label",{className:"block text-sm font-medium text-white",children:["Name ",w.jsx("span",{className:"text-red-400",children:"*"})]}),w.jsx("input",{type:"text",value:a,onChange:v=>u(v.target.value),placeholder:"Enter your name",className:"w-full p-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 transition-all",required:!0})]}),w.jsxs("div",{className:"space-y-2","data-aos":"fade-up","data-aos-duration":"1200",children:[w.jsxs("label",{className:"block text-sm font-medium text-white",children:["Message ",w.jsx("span",{className:"text-red-400",children:"*"})]}),w.jsx("textarea",{ref:h,value:n,onChange:f,placeholder:"Write your message here...",className:"w-full p-4 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 transition-all resize-none min-h-[120px]",required:!0})]}),t&&w.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm","data-aos":"fade-up","data-aos-duration":"1600",children:[w.jsx(Bx,{className:"w-4 h-4"}),w.jsx("span",{children:t})]}),w.jsxs("button",{type:"submit",className:"w-full py-3 px-6 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:e,"data-aos":"fade-up","data-aos-duration":"1800",children:[e?w.jsx(Yx,{className:"w-5 h-5 animate-spin"}):w.jsx(X0,{className:"w-5 h-5"}),e?"Submitting...":"Submit Comment"]})]})});zm.propTypes={onSubmit:Tt.func.isRequired,isSubmitting:Tt.bool.isRequired,error:Tt.string};zm.displayName="CommentForm";Bm.propTypes={comment:Tt.shape({userName:Tt.string.isRequired,createdAt:Tt.any,createdAtMs:Tt.number,content:Tt.string.isRequired}).isRequired,formatDate:Tt.func.isRequired};Bm.displayName="Comment";const E1=()=>{const[r,e]=B.useState([]),[t,n]=B.useState(!1),[i,a]=B.useState(null);B.useEffect(()=>{Md.init({duration:1e3,once:!0})},[]),B.useEffect(()=>{const f=ZP(h0(T0,"comments"),eN("createdAt","desc")),m=iN(f,v=>{const b=v.docs.map(E=>({id:E.id,...E.data()}));e(b)});return()=>m()},[]);const u=async({newComment:f,userName:m})=>{n(!0),a(null);try{await sN(h0(T0,"comments"),{content:f,userName:m,createdAt:lN(),createdAtMs:Date.now()})}catch(v){console.error("Error adding document: ",v),a("Failed to submit comment. Please try again.")}finally{n(!1)}},h=f=>{let m;if(!f)return"Just now";if(typeof f=="object"&&f.createdAt){const H=f.createdAt;H&&typeof H.toDate=="function"?m=H.toDate():typeof H=="object"&&"seconds"in H?m=new Date(H.seconds*1e3):typeof f.createdAtMs=="number"&&(m=new Date(f.createdAtMs))}else typeof f=="object"&&typeof f.toDate=="function"?m=f.toDate():typeof f=="object"&&"seconds"in f?m=new Date(f.seconds*1e3):typeof f=="number"?m=new Date(f):typeof f=="string"&&(m=new Date(f));if(!m||isNaN(m.getTime()))return"Just now";const v=new Date,b=v.getTime()-m.getTime(),E=Math.floor(b/(1e3*60)),C=Math.floor(b/(1e3*60*60)),j=v.toDateString()===m.toDateString(),D=new Date(v);D.setDate(v.getDate()-1);const N=D.toDateString()===m.toDateString();if(E<1)return"Just now";if(E<60)return`${E}m ago`;if(C<24)return`${C}h ago`;const K=m.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return j?`Today, ${K}`:N?`Yesterday, ${K}`:m.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return w.jsx("section",{id:"comment",className:"py-20 bg-gray-900",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsx("h2",{className:"text-4xl font-bold text-center text-white mb-12","data-aos":"fade-up","data-aos-duration":"800",children:w.jsxs("span",{className:"relative inline-block",children:["Comments",w.jsx("span",{className:"absolute inset-x-0 bottom-0 h-2 bg-indigo-600 transform scale-x-0 origin-left transition-transform group-hover:scale-x-100"})]})}),w.jsxs("div",{className:"max-w-3xl mx-auto bg-gray-800/50 rounded-2xl shadow-lg p-8 border border-gray-700/50",children:[w.jsx("h3",{className:"text-2xl font-semibold text-white mb-6",children:"Leave a Comment"}),w.jsx(zm,{onSubmit:u,isSubmitting:t,error:i})]}),w.jsx("div",{className:"max-w-3xl mx-auto mt-12 space-y-6",children:r.length===0?w.jsx("p",{className:"text-center text-gray-400 text-lg","data-aos":"fade-up","data-aos-duration":"1000",children:"No comments yet. Be the first to leave one!"}):r.map((f,m)=>w.jsx(Bm,{comment:f,formatDate:h,index:m},f.id))})]})})};E1.displayName="Komentar";/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function x1(r,e,t){if(typeof r=="function"?r===e:r.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function FN(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function k0(r,e){return r.get(x1(r,e))}function BN(r,e,t){FN(r,e),e.set(r,t)}function zN(r,e,t){return r.set(x1(r,e),t),t}const qN=100,Ae={},WN=()=>{Ae.previousActiveElement instanceof HTMLElement?(Ae.previousActiveElement.focus(),Ae.previousActiveElement=null):document.body&&document.body.focus()},HN=r=>new Promise(e=>{if(!r)return e();const t=window.scrollX,n=window.scrollY;Ae.restoreFocusTimeout=setTimeout(()=>{WN(),e()},qN),window.scrollTo(t,n)}),T1="swal2-",KN=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Q=KN.reduce((r,e)=>(r[e]=T1+e,r),{}),GN=["success","warning","info","question","error"],kd=GN.reduce((r,e)=>(r[e]=T1+e,r),{}),k1="SweetAlert2:",qm=r=>r.charAt(0).toUpperCase()+r.slice(1),mr=r=>{console.warn(`${k1} ${typeof r=="object"?r.join(" "):r}`)},no=r=>{console.error(`${k1} ${r}`)},S0=[],QN=r=>{S0.includes(r)||(S0.push(r),mr(r))},S1=(r,e=null)=>{QN(`"${r}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Xd=r=>typeof r=="function"?r():r,Wm=r=>r&&typeof r.toPromise=="function",fu=r=>Wm(r)?r.toPromise():Promise.resolve(r),Hm=r=>r&&Promise.resolve(r)===r,gr=()=>document.body.querySelector(`.${Q.container}`),pu=r=>{const e=gr();return e?e.querySelector(r):null},Ur=r=>pu(`.${r}`),Je=()=>Ur(Q.popup),Ra=()=>Ur(Q.icon),JN=()=>Ur(Q["icon-content"]),A1=()=>Ur(Q.title),Km=()=>Ur(Q["html-container"]),I1=()=>Ur(Q.image),Gm=()=>Ur(Q["progress-steps"]),Zd=()=>Ur(Q["validation-message"]),zn=()=>pu(`.${Q.actions} .${Q.confirm}`),Pa=()=>pu(`.${Q.actions} .${Q.cancel}`),so=()=>pu(`.${Q.actions} .${Q.deny}`),YN=()=>Ur(Q["input-label"]),Na=()=>pu(`.${Q.loader}`),mu=()=>Ur(Q.actions),C1=()=>Ur(Q.footer),eh=()=>Ur(Q["timer-progress-bar"]),Qm=()=>Ur(Q.close),XN=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Jm=()=>{const r=Je();if(!r)return[];const e=r.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((a,u)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(u.getAttribute("tabindex")||"0");return h>f?1:h<f?-1:0}),n=r.querySelectorAll(XN),i=Array.from(n).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(i))].filter(a=>Ir(a))},Ym=()=>cs(document.body,Q.shown)&&!cs(document.body,Q["toast-shown"])&&!cs(document.body,Q["no-backdrop"]),th=()=>{const r=Je();return r?cs(r,Q.toast):!1},ZN=()=>{const r=Je();return r?r.hasAttribute("data-loading"):!1},Fr=(r,e)=>{if(r.textContent="",e){const n=new DOMParser().parseFromString(e,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(u=>{r.appendChild(u)});const a=n.querySelector("body");a&&Array.from(a.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?r.appendChild(u.cloneNode(!0)):r.appendChild(u)})}},cs=(r,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let n=0;n<t.length;n++)if(!r.classList.contains(t[n]))return!1;return!0},e5=(r,e)=>{Array.from(r.classList).forEach(t=>{!Object.values(Q).includes(t)&&!Object.values(kd).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&r.classList.remove(t)})},$r=(r,e,t)=>{if(e5(r,e),!e.customClass)return;const n=e.customClass[t];if(n){if(typeof n!="string"&&!n.forEach){mr(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof n}"`);return}Ye(r,n)}},rh=(r,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return r.querySelector(`.${Q.popup} > .${Q[e]}`);case"checkbox":return r.querySelector(`.${Q.popup} > .${Q.checkbox} input`);case"radio":return r.querySelector(`.${Q.popup} > .${Q.radio} input:checked`)||r.querySelector(`.${Q.popup} > .${Q.radio} input:first-child`);case"range":return r.querySelector(`.${Q.popup} > .${Q.range} input`);default:return r.querySelector(`.${Q.popup} > .${Q.input}`)}},R1=r=>{if(r.focus(),r.type!=="file"){const e=r.value;r.value="",r.value=e}},P1=(r,e,t)=>{!r||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(n=>{Array.isArray(r)?r.forEach(i=>{t?i.classList.add(n):i.classList.remove(n)}):t?r.classList.add(n):r.classList.remove(n)}))},Ye=(r,e)=>{P1(r,e,!0)},en=(r,e)=>{P1(r,e,!1)},qs=(r,e)=>{const t=Array.from(r.children);for(let n=0;n<t.length;n++){const i=t[n];if(i instanceof HTMLElement&&cs(i,e))return i}},Wi=(r,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?r.style.setProperty(e,typeof t=="number"?`${t}px`:t):r.style.removeProperty(e)},Kt=(r,e="flex")=>{r&&(r.style.display=e)},cr=r=>{r&&(r.style.display="none")},Xm=(r,e="block")=>{r&&new MutationObserver(()=>{gu(r,r.innerHTML,e)}).observe(r,{childList:!0,subtree:!0})},A0=(r,e,t,n)=>{const i=r.querySelector(e);i&&i.style.setProperty(t,n)},gu=(r,e,t="flex")=>{e?Kt(r,t):cr(r)},Ir=r=>!!(r&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)),t5=()=>!Ir(zn())&&!Ir(so())&&!Ir(Pa()),zp=r=>r.scrollHeight>r.clientHeight,r5=(r,e)=>{let t=r;for(;t&&t!==e;){if(zp(t))return!0;t=t.parentElement}return!1},N1=r=>{const e=window.getComputedStyle(r),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),n=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||n>0},Zm=(r,e=!1)=>{const t=eh();t&&Ir(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${r/1e3}s linear`,t.style.width="0%"},10))},n5=()=>{const r=eh();if(!r)return;const e=parseInt(window.getComputedStyle(r).width);r.style.removeProperty("transition"),r.style.width="100%";const t=parseInt(window.getComputedStyle(r).width),n=e/t*100;r.style.width=`${n}%`},s5=()=>typeof window>"u"||typeof document>"u",i5=`
 <div aria-labelledby="${Q.title}" aria-describedby="${Q["html-container"]}" class="${Q.popup}" tabindex="-1">
   <button type="button" class="${Q.close}"></button>
   <ul class="${Q["progress-steps"]}"></ul>
   <div class="${Q.icon}"></div>
   <img class="${Q.image}" />
   <h2 class="${Q.title}" id="${Q.title}"></h2>
   <div class="${Q["html-container"]}" id="${Q["html-container"]}"></div>
   <input class="${Q.input}" id="${Q.input}" />
   <input type="file" class="${Q.file}" />
   <div class="${Q.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Q.select}" id="${Q.select}"></select>
   <div class="${Q.radio}"></div>
   <label class="${Q.checkbox}">
     <input type="checkbox" id="${Q.checkbox}" />
     <span class="${Q.label}"></span>
   </label>
   <textarea class="${Q.textarea}" id="${Q.textarea}"></textarea>
   <div class="${Q["validation-message"]}" id="${Q["validation-message"]}"></div>
   <div class="${Q.actions}">
     <div class="${Q.loader}"></div>
     <button type="button" class="${Q.confirm}"></button>
     <button type="button" class="${Q.deny}"></button>
     <button type="button" class="${Q.cancel}"></button>
   </div>
   <div class="${Q.footer}"></div>
   <div class="${Q["timer-progress-bar-container"]}">
     <div class="${Q["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),o5=()=>{const r=gr();return r?(r.remove(),en([document.documentElement,document.body],[Q["no-backdrop"],Q["toast-shown"],Q["has-column"]]),!0):!1},Li=()=>{Ae.currentInstance.resetValidationMessage()},a5=()=>{const r=Je(),e=qs(r,Q.input),t=qs(r,Q.file),n=r.querySelector(`.${Q.range} input`),i=r.querySelector(`.${Q.range} output`),a=qs(r,Q.select),u=r.querySelector(`.${Q.checkbox} input`),h=qs(r,Q.textarea);e.oninput=Li,t.onchange=Li,a.onchange=Li,u.onchange=Li,h.oninput=Li,n.oninput=()=>{Li(),i.value=n.value},n.onchange=()=>{Li(),i.value=n.value}},l5=r=>typeof r=="string"?document.querySelector(r):r,u5=r=>{const e=Je();e.setAttribute("role",r.toast?"alert":"dialog"),e.setAttribute("aria-live",r.toast?"polite":"assertive"),r.toast||e.setAttribute("aria-modal","true")},c5=r=>{window.getComputedStyle(r).direction==="rtl"&&Ye(gr(),Q.rtl)},d5=r=>{const e=o5();if(s5()){no("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=Q.container,e&&Ye(t,Q["no-transition"]),Fr(t,i5),t.dataset.swal2Theme=r.theme;const n=l5(r.target);n.appendChild(t),r.topLayer&&(t.setAttribute("popover",""),t.showPopover()),u5(r),c5(n),a5()},eg=(r,e)=>{r instanceof HTMLElement?e.appendChild(r):typeof r=="object"?h5(r,e):r&&Fr(e,r)},h5=(r,e)=>{r.jquery?f5(e,r):Fr(e,r.toString())},f5=(r,e)=>{if(r.textContent="",0 in e)for(let t=0;t in e;t++)r.appendChild(e[t].cloneNode(!0));else r.appendChild(e.cloneNode(!0))},p5=(r,e)=>{const t=mu(),n=Na();!t||!n||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?cr(t):Kt(t),$r(t,e,"actions"),m5(t,n,e),Fr(n,e.loaderHtml||""),$r(n,e,"loader"))};function m5(r,e,t){const n=zn(),i=so(),a=Pa();!n||!i||!a||(sp(n,"confirm",t),sp(i,"deny",t),sp(a,"cancel",t),g5(n,i,a,t),t.reverseButtons&&(t.toast?(r.insertBefore(a,n),r.insertBefore(i,n)):(r.insertBefore(a,e),r.insertBefore(i,e),r.insertBefore(n,e))))}function g5(r,e,t,n){if(!n.buttonsStyling){en([r,e,t],Q.styled);return}Ye([r,e,t],Q.styled),n.confirmButtonColor&&r.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),np(r),np(e),np(t)}function np(r){const e=window.getComputedStyle(r);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");r.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function sp(r,e,t){const n=qm(e);gu(r,t[`show${n}Button`],"inline-block"),Fr(r,t[`${e}ButtonText`]||""),r.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),r.className=Q[e],$r(r,t,`${e}Button`)}const y5=(r,e)=>{const t=Qm();t&&(Fr(t,e.closeButtonHtml||""),$r(t,e,"closeButton"),gu(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},v5=(r,e)=>{const t=gr();t&&(w5(t,e.backdrop),_5(t,e.position),b5(t,e.grow),$r(t,e,"container"))};function w5(r,e){typeof e=="string"?r.style.background=e:e||Ye([document.documentElement,document.body],Q["no-backdrop"])}function _5(r,e){e&&(e in Q?Ye(r,Q[e]):(mr('The "position" parameter is not valid, defaulting to "center"'),Ye(r,Q.center)))}function b5(r,e){e&&Ye(r,Q[`grow-${e}`])}var at={innerParams:new WeakMap,domCache:new WeakMap};const E5=["input","file","range","select","radio","checkbox","textarea"],x5=(r,e)=>{const t=Je();if(!t)return;const n=at.innerParams.get(r),i=!n||e.input!==n.input;E5.forEach(a=>{const u=qs(t,Q[a]);u&&(S5(a,e.inputAttributes),u.className=Q[a],i&&cr(u))}),e.input&&(i&&T5(e),A5(e))},T5=r=>{if(!r.input)return;if(!Et[r.input]){no(`Unexpected type of input! Expected ${Object.keys(Et).join(" | ")}, got "${r.input}"`);return}const e=O1(r.input);if(!e)return;const t=Et[r.input](e,r);Kt(e),r.inputAutoFocus&&setTimeout(()=>{R1(t)})},k5=r=>{for(let e=0;e<r.attributes.length;e++){const t=r.attributes[e].name;["id","type","value","style"].includes(t)||r.removeAttribute(t)}},S5=(r,e)=>{const t=Je();if(!t)return;const n=rh(t,r);if(n){k5(n);for(const i in e)n.setAttribute(i,e[i])}},A5=r=>{if(!r.input)return;const e=O1(r.input);e&&$r(e,r,"input")},tg=(r,e)=>{!r.placeholder&&e.inputPlaceholder&&(r.placeholder=e.inputPlaceholder)},yu=(r,e,t)=>{if(t.inputLabel){const n=document.createElement("label"),i=Q["input-label"];n.setAttribute("for",r.id),n.className=i,typeof t.customClass=="object"&&Ye(n,t.customClass.inputLabel),n.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",n)}},O1=r=>{const e=Je();if(e)return qs(e,Q[r]||Q.input)},Sd=(r,e)=>{["string","number"].includes(typeof e)?r.value=`${e}`:Hm(e)||mr(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Et={};Et.text=Et.email=Et.password=Et.number=Et.tel=Et.url=Et.search=Et.date=Et["datetime-local"]=Et.time=Et.week=Et.month=(r,e)=>(Sd(r,e.inputValue),yu(r,r,e),tg(r,e),r.type=e.input,r);Et.file=(r,e)=>(yu(r,r,e),tg(r,e),r);Et.range=(r,e)=>{const t=r.querySelector("input"),n=r.querySelector("output");return Sd(t,e.inputValue),t.type=e.input,Sd(n,e.inputValue),yu(t,r,e),r};Et.select=(r,e)=>{if(r.textContent="",e.inputPlaceholder){const t=document.createElement("option");Fr(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,r.appendChild(t)}return yu(r,r,e),r};Et.radio=r=>(r.textContent="",r);Et.checkbox=(r,e)=>{const t=rh(Je(),"checkbox");t.value="1",t.checked=!!e.inputValue;const n=r.querySelector("span");return Fr(n,e.inputPlaceholder||e.inputLabel),t};Et.textarea=(r,e)=>{Sd(r,e.inputValue),tg(r,e),yu(r,r,e);const t=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Je()).width),i=()=>{if(!document.body.contains(r))return;const a=r.offsetWidth+t(r);a>n?Je().style.width=`${a}px`:Wi(Je(),"width",e.width)};new MutationObserver(i).observe(r,{attributes:!0,attributeFilter:["style"]})}}),r};const I5=(r,e)=>{const t=Km();t&&(Xm(t),$r(t,e,"htmlContainer"),e.html?(eg(e.html,t),Kt(t,"block")):e.text?(t.textContent=e.text,Kt(t,"block")):cr(t),x5(r,e))},C5=(r,e)=>{const t=C1();t&&(Xm(t),gu(t,e.footer,"block"),e.footer&&eg(e.footer,t),$r(t,e,"footer"))},R5=(r,e)=>{const t=at.innerParams.get(r),n=Ra();if(!n)return;if(t&&e.icon===t.icon){C0(n,e),I0(n,e);return}if(!e.icon&&!e.iconHtml){cr(n);return}if(e.icon&&Object.keys(kd).indexOf(e.icon)===-1){no(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),cr(n);return}Kt(n),C0(n,e),I0(n,e),Ye(n,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",j1)},I0=(r,e)=>{for(const[t,n]of Object.entries(kd))e.icon!==t&&en(r,n);Ye(r,e.icon&&kd[e.icon]),O5(r,e),j1(),$r(r,e,"icon")},j1=()=>{const r=Je();if(!r)return;const e=window.getComputedStyle(r).getPropertyValue("background-color"),t=r.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<t.length;n++)t[n].style.backgroundColor=e},P5=r=>`
  ${r.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${r.animation?'<div class="swal2-success-fix"></div>':""}
  ${r.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,N5=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,C0=(r,e)=>{if(!e.icon&&!e.iconHtml)return;let t=r.innerHTML,n="";e.iconHtml?n=R0(e.iconHtml):e.icon==="success"?(n=P5(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?n=N5:e.icon&&(n=R0({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==n.trim()&&Fr(r,n)},O5=(r,e)=>{if(e.iconColor){r.style.color=e.iconColor,r.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])A0(r,t,"background-color",e.iconColor);A0(r,".swal2-success-ring","border-color",e.iconColor)}},R0=r=>`<div class="${Q["icon-content"]}">${r}</div>`,j5=(r,e)=>{const t=I1();if(t){if(!e.imageUrl){cr(t);return}Kt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Wi(t,"width",e.imageWidth),Wi(t,"height",e.imageHeight),t.className=Q.image,$r(t,e,"image")}};let rg=!1,D1=0,L1=0,V1=0,M1=0;const D5=r=>{r.addEventListener("mousedown",Ad),document.body.addEventListener("mousemove",Id),r.addEventListener("mouseup",Cd),r.addEventListener("touchstart",Ad),document.body.addEventListener("touchmove",Id),r.addEventListener("touchend",Cd)},L5=r=>{r.removeEventListener("mousedown",Ad),document.body.removeEventListener("mousemove",Id),r.removeEventListener("mouseup",Cd),r.removeEventListener("touchstart",Ad),document.body.removeEventListener("touchmove",Id),r.removeEventListener("touchend",Cd)},Ad=r=>{const e=Je();if(r.target===e||Ra().contains(r.target)){rg=!0;const t=$1(r);D1=t.clientX,L1=t.clientY,V1=parseInt(e.style.insetInlineStart)||0,M1=parseInt(e.style.insetBlockStart)||0,Ye(e,"swal2-dragging")}},Id=r=>{const e=Je();if(rg){let{clientX:t,clientY:n}=$1(r);e.style.insetInlineStart=`${V1+(t-D1)}px`,e.style.insetBlockStart=`${M1+(n-L1)}px`}},Cd=()=>{const r=Je();rg=!1,en(r,"swal2-dragging")},$1=r=>{let e=0,t=0;return r.type.startsWith("mouse")?(e=r.clientX,t=r.clientY):r.type.startsWith("touch")&&(e=r.touches[0].clientX,t=r.touches[0].clientY),{clientX:e,clientY:t}},V5=(r,e)=>{const t=gr(),n=Je();if(!(!t||!n)){if(e.toast){Wi(t,"width",e.width),n.style.width="100%";const i=Na();i&&n.insertBefore(i,Ra())}else Wi(n,"width",e.width);Wi(n,"padding",e.padding),e.color&&(n.style.color=e.color),e.background&&(n.style.background=e.background),cr(Zd()),M5(n,e),e.draggable&&!e.toast?(Ye(n,Q.draggable),D5(n)):(en(n,Q.draggable),L5(n))}},M5=(r,e)=>{const t=e.showClass||{};r.className=`${Q.popup} ${Ir(r)?t.popup:""}`,e.toast?(Ye([document.documentElement,document.body],Q["toast-shown"]),Ye(r,Q.toast)):Ye(r,Q.modal),$r(r,e,"popup"),typeof e.customClass=="string"&&Ye(r,e.customClass),e.icon&&Ye(r,Q[`icon-${e.icon}`])},$5=(r,e)=>{const t=Gm();if(!t)return;const{progressSteps:n,currentProgressStep:i}=e;if(!n||n.length===0||i===void 0){cr(t);return}Kt(t),t.textContent="",i>=n.length&&mr("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((a,u)=>{const h=U5(a);if(t.appendChild(h),u===i&&Ye(h,Q["active-progress-step"]),u!==n.length-1){const f=F5(e);t.appendChild(f)}})},U5=r=>{const e=document.createElement("li");return Ye(e,Q["progress-step"]),Fr(e,r),e},F5=r=>{const e=document.createElement("li");return Ye(e,Q["progress-step-line"]),r.progressStepsDistance&&Wi(e,"width",r.progressStepsDistance),e},B5=(r,e)=>{const t=A1();t&&(Xm(t),gu(t,e.title||e.titleText,"block"),e.title&&eg(e.title,t),e.titleText&&(t.innerText=e.titleText),$r(t,e,"title"))},U1=(r,e)=>{V5(r,e),v5(r,e),$5(r,e),R5(r,e),j5(r,e),B5(r,e),y5(r,e),I5(r,e),p5(r,e),C5(r,e);const t=Je();typeof e.didRender=="function"&&t&&e.didRender(t),Ae.eventEmitter.emit("didRender",t)},z5=()=>Ir(Je()),F1=()=>{var r;return(r=zn())===null||r===void 0?void 0:r.click()},q5=()=>{var r;return(r=so())===null||r===void 0?void 0:r.click()},W5=()=>{var r;return(r=Pa())===null||r===void 0?void 0:r.click()},Oa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),B1=r=>{r.keydownTarget&&r.keydownHandlerAdded&&(r.keydownTarget.removeEventListener("keydown",r.keydownHandler,{capture:r.keydownListenerCapture}),r.keydownHandlerAdded=!1)},H5=(r,e,t)=>{B1(r),e.toast||(r.keydownHandler=n=>G5(e,n,t),r.keydownTarget=e.keydownListenerCapture?window:Je(),r.keydownListenerCapture=e.keydownListenerCapture,r.keydownTarget.addEventListener("keydown",r.keydownHandler,{capture:r.keydownListenerCapture}),r.keydownHandlerAdded=!0)},qp=(r,e)=>{var t;const n=Jm();if(n.length){r=r+e,r===-2&&(r=n.length-1),r===n.length?r=0:r===-1&&(r=n.length-1),n[r].focus();return}(t=Je())===null||t===void 0||t.focus()},z1=["ArrowRight","ArrowDown"],K5=["ArrowLeft","ArrowUp"],G5=(r,e,t)=>{r&&(e.isComposing||e.keyCode===229||(r.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?Q5(e,r):e.key==="Tab"?J5(e):[...z1,...K5].includes(e.key)?Y5(e.key):e.key==="Escape"&&X5(e,r,t)))},Q5=(r,e)=>{if(!Xd(e.allowEnterKey))return;const t=rh(Je(),e.input);if(r.target&&t&&r.target instanceof HTMLElement&&r.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;F1(),r.preventDefault()}},J5=r=>{const e=r.target,t=Jm();let n=-1;for(let i=0;i<t.length;i++)if(e===t[i]){n=i;break}r.shiftKey?qp(n,-1):qp(n,1),r.stopPropagation(),r.preventDefault()},Y5=r=>{const e=mu(),t=zn(),n=so(),i=Pa();if(!e||!t||!n||!i)return;const a=[t,n,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const u=z1.includes(r)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let f=0;f<e.children.length;f++){if(h=h[u],!h)return;if(h instanceof HTMLButtonElement&&Ir(h))break}h instanceof HTMLButtonElement&&h.focus()}},X5=(r,e,t)=>{r.preventDefault(),Xd(e.allowEscapeKey)&&t(Oa.esc)};var ba={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Z5=()=>{const r=gr();Array.from(document.body.children).forEach(t=>{t.contains(r)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},q1=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},W1=typeof window<"u"&&!!window.GestureEvent,e4=()=>{if(W1&&!cs(document.body,Q.iosfix)){const r=document.body.scrollTop;document.body.style.top=`${r*-1}px`,Ye(document.body,Q.iosfix),t4()}},t4=()=>{const r=gr();if(!r)return;let e;r.ontouchstart=t=>{e=r4(t)},r.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},r4=r=>{const e=r.target,t=gr(),n=Km();return!t||!n||n4(r)||s4(r)?!1:e===t||!zp(t)&&e instanceof HTMLElement&&!r5(e,n)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(zp(n)&&n.contains(e))},n4=r=>r.touches&&r.touches.length&&r.touches[0].touchType==="stylus",s4=r=>r.touches&&r.touches.length>1,i4=()=>{if(cs(document.body,Q.iosfix)){const r=parseInt(document.body.style.top,10);en(document.body,Q.iosfix),document.body.style.top="",document.body.scrollTop=r*-1}},o4=()=>{const r=document.createElement("div");r.className=Q["scrollbar-measure"],document.body.appendChild(r);const e=r.getBoundingClientRect().width-r.clientWidth;return document.body.removeChild(r),e};let fa=null;const a4=r=>{fa===null&&(document.body.scrollHeight>window.innerHeight||r==="scroll")&&(fa=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${fa+o4()}px`)},l4=()=>{fa!==null&&(document.body.style.paddingRight=`${fa}px`,fa=null)};function H1(r,e,t,n){th()?P0(r,n):(HN(t).then(()=>P0(r,n)),B1(Ae)),W1?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Ym()&&(l4(),i4(),q1()),u4()}function u4(){en([document.documentElement,document.body],[Q.shown,Q["height-auto"],Q["no-backdrop"],Q["toast-shown"]])}function Ws(r){r=d4(r);const e=ba.swalPromiseResolve.get(this),t=c4(this);this.isAwaitingPromise?r.isDismissed||(vu(this),e(r)):t&&e(r)}const c4=r=>{const e=Je();if(!e)return!1;const t=at.innerParams.get(r);if(!t||cs(e,t.hideClass.popup))return!1;en(e,t.showClass.popup),Ye(e,t.hideClass.popup);const n=gr();return en(n,t.showClass.backdrop),Ye(n,t.hideClass.backdrop),h4(r,e,t),!0};function K1(r){const e=ba.swalPromiseReject.get(this);vu(this),e&&e(r)}const vu=r=>{r.isAwaitingPromise&&(delete r.isAwaitingPromise,at.innerParams.get(r)||r._destroy())},d4=r=>typeof r>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},r),h4=(r,e,t)=>{var n;const i=gr(),a=N1(e);typeof t.willClose=="function"&&t.willClose(e),(n=Ae.eventEmitter)===null||n===void 0||n.emit("willClose",e),a?f4(r,e,i,t.returnFocus,t.didClose):H1(r,i,t.returnFocus,t.didClose)},f4=(r,e,t,n,i)=>{Ae.swalCloseEventFinishedCallback=H1.bind(null,r,t,n,i);const a=function(u){if(u.target===e){var h;(h=Ae.swalCloseEventFinishedCallback)===null||h===void 0||h.call(Ae),delete Ae.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},P0=(r,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(r.params)(),(t=Ae.eventEmitter)===null||t===void 0||t.emit("didClose"),r._destroy&&r._destroy()})},Ea=r=>{let e=Je();if(e||new Hs,e=Je(),!e)return;const t=Na();th()?cr(Ra()):p4(e,r),Kt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},p4=(r,e)=>{const t=mu(),n=Na();!t||!n||(!e&&Ir(zn())&&(e=zn()),Kt(t),e&&(cr(e),n.setAttribute("data-button-to-replace",e.className),t.insertBefore(n,e)),Ye([r,t],Q.loading))},m4=(r,e)=>{e.input==="select"||e.input==="radio"?_4(r,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Wm(e.inputValue)||Hm(e.inputValue))&&(Ea(zn()),b4(r,e))},g4=(r,e)=>{const t=r.getInput();if(!t)return null;switch(e.input){case"checkbox":return y4(t);case"radio":return v4(t);case"file":return w4(t);default:return e.inputAutoTrim?t.value.trim():t.value}},y4=r=>r.checked?1:0,v4=r=>r.checked?r.value:null,w4=r=>r.files&&r.files.length?r.getAttribute("multiple")!==null?r.files:r.files[0]:null,_4=(r,e)=>{const t=Je();if(!t)return;const n=i=>{e.input==="select"?E4(t,Rd(i),e):e.input==="radio"&&x4(t,Rd(i),e)};Wm(e.inputOptions)||Hm(e.inputOptions)?(Ea(zn()),fu(e.inputOptions).then(i=>{r.hideLoading(),n(i)})):typeof e.inputOptions=="object"?n(e.inputOptions):no(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},b4=(r,e)=>{const t=r.getInput();t&&(cr(t),fu(e.inputValue).then(n=>{t.value=e.input==="number"?`${parseFloat(n)||0}`:`${n}`,Kt(t),t.focus(),r.hideLoading()}).catch(n=>{no(`Error in inputValue promise: ${n}`),t.value="",Kt(t),t.focus(),r.hideLoading()}))};function E4(r,e,t){const n=qs(r,Q.select);if(!n)return;const i=(a,u,h)=>{const f=document.createElement("option");f.value=h,Fr(f,u),f.selected=G1(h,t.inputValue),a.appendChild(f)};e.forEach(a=>{const u=a[0],h=a[1];if(Array.isArray(h)){const f=document.createElement("optgroup");f.label=u,f.disabled=!1,n.appendChild(f),h.forEach(m=>i(f,m[1],m[0]))}else i(n,h,u)}),n.focus()}function x4(r,e,t){const n=qs(r,Q.radio);if(!n)return;e.forEach(a=>{const u=a[0],h=a[1],f=document.createElement("input"),m=document.createElement("label");f.type="radio",f.name=Q.radio,f.value=u,G1(u,t.inputValue)&&(f.checked=!0);const v=document.createElement("span");Fr(v,h),v.className=Q.label,m.appendChild(f),m.appendChild(v),n.appendChild(m)});const i=n.querySelectorAll("input");i.length&&i[0].focus()}const Rd=r=>{const e=[];return r instanceof Map?r.forEach((t,n)=>{let i=t;typeof i=="object"&&(i=Rd(i)),e.push([n,i])}):Object.keys(r).forEach(t=>{let n=r[t];typeof n=="object"&&(n=Rd(n)),e.push([t,n])}),e},G1=(r,e)=>!!e&&e.toString()===r.toString(),T4=r=>{const e=at.innerParams.get(r);r.disableButtons(),e.input?Q1(r,"confirm"):sg(r,!0)},k4=r=>{const e=at.innerParams.get(r);r.disableButtons(),e.returnInputValueOnDeny?Q1(r,"deny"):ng(r,!1)},S4=(r,e)=>{r.disableButtons(),e(Oa.cancel)},Q1=(r,e)=>{const t=at.innerParams.get(r);if(!t.input){no(`The "input" parameter is needed to be set when using returnInputValueOn${qm(e)}`);return}const n=r.getInput(),i=g4(r,t);t.inputValidator?A4(r,i,e):n&&!n.checkValidity()?(r.enableButtons(),r.showValidationMessage(t.validationMessage||n.validationMessage)):e==="deny"?ng(r,i):sg(r,i)},A4=(r,e,t)=>{const n=at.innerParams.get(r);r.disableInput(),Promise.resolve().then(()=>fu(n.inputValidator(e,n.validationMessage))).then(a=>{r.enableButtons(),r.enableInput(),a?r.showValidationMessage(a):t==="deny"?ng(r,e):sg(r,e)})},ng=(r,e)=>{const t=at.innerParams.get(r||void 0);t.showLoaderOnDeny&&Ea(so()),t.preDeny?(r.isAwaitingPromise=!0,Promise.resolve().then(()=>fu(t.preDeny(e,t.validationMessage))).then(i=>{i===!1?(r.hideLoading(),vu(r)):r.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>J1(r||void 0,i))):r.close({isDenied:!0,value:e})},N0=(r,e)=>{r.close({isConfirmed:!0,value:e})},J1=(r,e)=>{r.rejectPromise(e)},sg=(r,e)=>{const t=at.innerParams.get(r||void 0);t.showLoaderOnConfirm&&Ea(),t.preConfirm?(r.resetValidationMessage(),r.isAwaitingPromise=!0,Promise.resolve().then(()=>fu(t.preConfirm(e,t.validationMessage))).then(i=>{Ir(Zd())||i===!1?(r.hideLoading(),vu(r)):N0(r,typeof i>"u"?e:i)}).catch(i=>J1(r||void 0,i))):N0(r,e)};function Pd(){const r=at.innerParams.get(this);if(!r)return;const e=at.domCache.get(this);cr(e.loader),th()?r.icon&&Kt(Ra()):I4(e),en([e.popup,e.actions],Q.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const I4=r=>{const e=r.popup.getElementsByClassName(r.loader.getAttribute("data-button-to-replace"));e.length?Kt(e[0],"inline-block"):t5()&&cr(r.actions)};function Y1(){const r=at.innerParams.get(this),e=at.domCache.get(this);return e?rh(e.popup,r.input):null}function X1(r,e,t){const n=at.domCache.get(r);e.forEach(i=>{n[i].disabled=t})}function Z1(r,e){const t=Je();if(!(!t||!r))if(r.type==="radio"){const n=t.querySelectorAll(`[name="${Q.radio}"]`);for(let i=0;i<n.length;i++)n[i].disabled=e}else r.disabled=e}function eE(){X1(this,["confirmButton","denyButton","cancelButton"],!1)}function tE(){X1(this,["confirmButton","denyButton","cancelButton"],!0)}function rE(){Z1(this.getInput(),!1)}function nE(){Z1(this.getInput(),!0)}function sE(r){const e=at.domCache.get(this),t=at.innerParams.get(this);Fr(e.validationMessage,r),e.validationMessage.className=Q["validation-message"],t.customClass&&t.customClass.validationMessage&&Ye(e.validationMessage,t.customClass.validationMessage),Kt(e.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",Q["validation-message"]),R1(n),Ye(n,Q.inputerror))}function iE(){const r=at.domCache.get(this);r.validationMessage&&cr(r.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),en(e,Q.inputerror))}const pa={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},C4=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],R4={allowEnterKey:void 0},P4=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],oE=r=>Object.prototype.hasOwnProperty.call(pa,r),aE=r=>C4.indexOf(r)!==-1,lE=r=>R4[r],N4=r=>{oE(r)||mr(`Unknown parameter "${r}"`)},O4=r=>{P4.includes(r)&&mr(`The parameter "${r}" is incompatible with toasts`)},j4=r=>{const e=lE(r);e&&S1(r,e)},uE=r=>{r.backdrop===!1&&r.allowOutsideClick&&mr('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),r.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(r.theme)&&mr(`Invalid theme "${r.theme}"`);for(const e in r)N4(e),r.toast&&O4(e),j4(e)};function cE(r){const e=gr(),t=Je(),n=at.innerParams.get(this);if(!t||cs(t,n.hideClass.popup)){mr("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=D4(r),a=Object.assign({},n,i);uE(a),e.dataset.swal2Theme=a.theme,U1(this,a),at.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,r),writable:!1,enumerable:!0}})}const D4=r=>{const e={};return Object.keys(r).forEach(t=>{aE(t)?e[t]=r[t]:mr(`Invalid parameter to update: ${t}`)}),e};function dE(){const r=at.domCache.get(this),e=at.innerParams.get(this);if(!e){hE(this);return}r.popup&&Ae.swalCloseEventFinishedCallback&&(Ae.swalCloseEventFinishedCallback(),delete Ae.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Ae.eventEmitter.emit("didDestroy"),L4(this)}const L4=r=>{hE(r),delete r.params,delete Ae.keydownHandler,delete Ae.keydownTarget,delete Ae.currentInstance},hE=r=>{r.isAwaitingPromise?(ip(at,r),r.isAwaitingPromise=!0):(ip(ba,r),ip(at,r),delete r.isAwaitingPromise,delete r.disableButtons,delete r.enableButtons,delete r.getInput,delete r.disableInput,delete r.enableInput,delete r.hideLoading,delete r.disableLoading,delete r.showValidationMessage,delete r.resetValidationMessage,delete r.close,delete r.closePopup,delete r.closeModal,delete r.closeToast,delete r.rejectPromise,delete r.update,delete r._destroy)},ip=(r,e)=>{for(const t in r)r[t].delete(e)};var V4=Object.freeze({__proto__:null,_destroy:dE,close:Ws,closeModal:Ws,closePopup:Ws,closeToast:Ws,disableButtons:tE,disableInput:nE,disableLoading:Pd,enableButtons:eE,enableInput:rE,getInput:Y1,handleAwaitingPromise:vu,hideLoading:Pd,rejectPromise:K1,resetValidationMessage:iE,showValidationMessage:sE,update:cE});const M4=(r,e,t)=>{r.toast?$4(r,e,t):(F4(e),B4(e),z4(r,e,t))},$4=(r,e,t)=>{e.popup.onclick=()=>{r&&(U4(r)||r.timer||r.input)||t(Oa.close)}},U4=r=>!!(r.showConfirmButton||r.showDenyButton||r.showCancelButton||r.showCloseButton);let Nd=!1;const F4=r=>{r.popup.onmousedown=()=>{r.container.onmouseup=function(e){r.container.onmouseup=()=>{},e.target===r.container&&(Nd=!0)}}},B4=r=>{r.container.onmousedown=e=>{e.target===r.container&&e.preventDefault(),r.popup.onmouseup=function(t){r.popup.onmouseup=()=>{},(t.target===r.popup||t.target instanceof HTMLElement&&r.popup.contains(t.target))&&(Nd=!0)}}},z4=(r,e,t)=>{e.container.onclick=n=>{if(Nd){Nd=!1;return}n.target===e.container&&Xd(r.allowOutsideClick)&&t(Oa.backdrop)}},q4=r=>typeof r=="object"&&r.jquery,O0=r=>r instanceof Element||q4(r),W4=r=>{const e={};return typeof r[0]=="object"&&!O0(r[0])?Object.assign(e,r[0]):["title","html","icon"].forEach((t,n)=>{const i=r[n];typeof i=="string"||O0(i)?e[t]=i:i!==void 0&&no(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof i}`)}),e};function H4(...r){return new this(...r)}function K4(r){class e extends this{_main(n,i){return super._main(n,Object.assign({},r,i))}}return e}const G4=()=>Ae.timeout&&Ae.timeout.getTimerLeft(),fE=()=>{if(Ae.timeout)return n5(),Ae.timeout.stop()},pE=()=>{if(Ae.timeout){const r=Ae.timeout.start();return Zm(r),r}},Q4=()=>{const r=Ae.timeout;return r&&(r.running?fE():pE())},J4=r=>{if(Ae.timeout){const e=Ae.timeout.increase(r);return Zm(e,!0),e}},Y4=()=>!!(Ae.timeout&&Ae.timeout.isRunning());let j0=!1;const Wp={};function X4(r="data-swal-template"){Wp[r]=this,j0||(document.body.addEventListener("click",Z4),j0=!0)}const Z4=r=>{for(let e=r.target;e&&e!==document;e=e.parentNode)for(const t in Wp){const n=e.getAttribute(t);if(n){Wp[t].fire({template:n});return}}};class eO{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){const n=(...i)=>{this.removeListener(e,n),t.apply(this,i)};this.on(e,n)}emit(e,...t){this._getHandlersByEventName(e).forEach(n=>{try{n.apply(this,t)}catch(i){console.error(i)}})}removeListener(e,t){const n=this._getHandlersByEventName(e),i=n.indexOf(t);i>-1&&n.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Ae.eventEmitter=new eO;const tO=(r,e)=>{Ae.eventEmitter.on(r,e)},rO=(r,e)=>{Ae.eventEmitter.once(r,e)},nO=(r,e)=>{if(!r){Ae.eventEmitter.reset();return}e?Ae.eventEmitter.removeListener(r,e):Ae.eventEmitter.removeAllListeners(r)};var sO=Object.freeze({__proto__:null,argsToParams:W4,bindClickHandler:X4,clickCancel:W5,clickConfirm:F1,clickDeny:q5,enableLoading:Ea,fire:H4,getActions:mu,getCancelButton:Pa,getCloseButton:Qm,getConfirmButton:zn,getContainer:gr,getDenyButton:so,getFocusableElements:Jm,getFooter:C1,getHtmlContainer:Km,getIcon:Ra,getIconContent:JN,getImage:I1,getInputLabel:YN,getLoader:Na,getPopup:Je,getProgressSteps:Gm,getTimerLeft:G4,getTimerProgressBar:eh,getTitle:A1,getValidationMessage:Zd,increaseTimer:J4,isDeprecatedParameter:lE,isLoading:ZN,isTimerRunning:Y4,isUpdatableParameter:aE,isValidParameter:oE,isVisible:z5,mixin:K4,off:nO,on:tO,once:rO,resumeTimer:pE,showLoading:Ea,stopTimer:fE,toggleTimer:Q4});class iO{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const mE=["swal-title","swal-html","swal-footer"],oO=r=>{const e=typeof r.template=="string"?document.querySelector(r.template):r.template;if(!e)return{};const t=e.content;return pO(t),Object.assign(aO(t),lO(t),uO(t),cO(t),dO(t),hO(t),fO(t,mE))},aO=r=>{const e={};return Array.from(r.querySelectorAll("swal-param")).forEach(n=>{Qi(n,["name","value"]);const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(typeof pa[i]=="boolean"?e[i]=a!=="false":typeof pa[i]=="object"?e[i]=JSON.parse(a):e[i]=a)}),e},lO=r=>{const e={};return Array.from(r.querySelectorAll("swal-function-param")).forEach(n=>{const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(e[i]=new Function(`return ${a}`)())}),e},uO=r=>{const e={};return Array.from(r.querySelectorAll("swal-button")).forEach(n=>{Qi(n,["type","color","aria-label"]);const i=n.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=n.innerHTML,e[`show${qm(i)}Button`]=!0,n.hasAttribute("color")&&(e[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),e},cO=r=>{const e={},t=r.querySelector("swal-image");return t&&(Qi(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},dO=r=>{const e={},t=r.querySelector("swal-icon");return t&&(Qi(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},hO=r=>{const e={},t=r.querySelector("swal-input");t&&(Qi(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const n=Array.from(r.querySelectorAll("swal-input-option"));return n.length&&(e.inputOptions={},n.forEach(i=>{Qi(i,["value"]);const a=i.getAttribute("value");if(!a)return;const u=i.innerHTML;e.inputOptions[a]=u})),e},fO=(r,e)=>{const t={};for(const n in e){const i=e[n],a=r.querySelector(i);a&&(Qi(a,[]),t[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return t},pO=r=>{const e=mE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(r.children).forEach(t=>{const n=t.tagName.toLowerCase();e.includes(n)||mr(`Unrecognized element <${n}>`)})},Qi=(r,e)=>{Array.from(r.attributes).forEach(t=>{e.indexOf(t.name)===-1&&mr([`Unrecognized attribute "${t.name}" on <${r.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},gE=10,mO=r=>{const e=gr(),t=Je();typeof r.willOpen=="function"&&r.willOpen(t),Ae.eventEmitter.emit("willOpen",t);const i=window.getComputedStyle(document.body).overflowY;vO(e,t,r),setTimeout(()=>{gO(e,t)},gE),Ym()&&(yO(e,r.scrollbarPadding,i),Z5()),!th()&&!Ae.previousActiveElement&&(Ae.previousActiveElement=document.activeElement),typeof r.didOpen=="function"&&setTimeout(()=>r.didOpen(t)),Ae.eventEmitter.emit("didOpen",t),en(e,Q["no-transition"])},Od=r=>{const e=Je();if(r.target!==e)return;const t=gr();e.removeEventListener("animationend",Od),e.removeEventListener("transitionend",Od),t.style.overflowY="auto"},gO=(r,e)=>{N1(e)?(r.style.overflowY="hidden",e.addEventListener("animationend",Od),e.addEventListener("transitionend",Od)):r.style.overflowY="auto"},yO=(r,e,t)=>{e4(),e&&t!=="hidden"&&a4(t),setTimeout(()=>{r.scrollTop=0})},vO=(r,e,t)=>{Ye(r,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Kt(e,"grid"),setTimeout(()=>{Ye(e,t.showClass.popup),e.style.removeProperty("opacity")},gE)):Kt(e,"grid"),Ye([document.documentElement,document.body],Q.shown),t.heightAuto&&t.backdrop&&!t.toast&&Ye([document.documentElement,document.body],Q["height-auto"])};var D0={email:(r,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(r)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(r,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(r)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function wO(r){r.inputValidator||(r.input==="email"&&(r.inputValidator=D0.email),r.input==="url"&&(r.inputValidator=D0.url))}function _O(r){(!r.target||typeof r.target=="string"&&!document.querySelector(r.target)||typeof r.target!="string"&&!r.target.appendChild)&&(mr('Target parameter is not valid, defaulting to "body"'),r.target="body")}function bO(r){wO(r),r.showLoaderOnConfirm&&!r.preConfirm&&mr(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),_O(r),typeof r.title=="string"&&(r.title=r.title.split(`
`).join("<br />")),d5(r)}let Dn;var Wc=new WeakMap;class kt{constructor(...e){if(BN(this,Wc,void 0),typeof window>"u")return;Dn=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,zN(Wc,this,this._main(Dn.params))}_main(e,t={}){if(uE(Object.assign({},t,e)),Ae.currentInstance){const a=ba.swalPromiseResolve.get(Ae.currentInstance),{isAwaitingPromise:u}=Ae.currentInstance;Ae.currentInstance._destroy(),u||a({isDismissed:!0}),Ym()&&q1()}Ae.currentInstance=Dn;const n=xO(e,t);bO(n),Object.freeze(n),Ae.timeout&&(Ae.timeout.stop(),delete Ae.timeout),clearTimeout(Ae.restoreFocusTimeout);const i=TO(Dn);return U1(Dn,n),at.innerParams.set(Dn,n),EO(Dn,i,n)}then(e){return k0(Wc,this).then(e)}finally(e){return k0(Wc,this).finally(e)}}const EO=(r,e,t)=>new Promise((n,i)=>{const a=u=>{r.close({isDismissed:!0,dismiss:u})};ba.swalPromiseResolve.set(r,n),ba.swalPromiseReject.set(r,i),e.confirmButton.onclick=()=>{T4(r)},e.denyButton.onclick=()=>{k4(r)},e.cancelButton.onclick=()=>{S4(r,a)},e.closeButton.onclick=()=>{a(Oa.close)},M4(t,e,a),H5(Ae,t,a),m4(r,t),mO(t),kO(Ae,t,a),SO(e,t),setTimeout(()=>{e.container.scrollTop=0})}),xO=(r,e)=>{const t=oO(r),n=Object.assign({},pa,e,t,r);return n.showClass=Object.assign({},pa.showClass,n.showClass),n.hideClass=Object.assign({},pa.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},TO=r=>{const e={popup:Je(),container:gr(),actions:mu(),confirmButton:zn(),denyButton:so(),cancelButton:Pa(),loader:Na(),closeButton:Qm(),validationMessage:Zd(),progressSteps:Gm()};return at.domCache.set(r,e),e},kO=(r,e,t)=>{const n=eh();cr(n),e.timer&&(r.timeout=new iO(()=>{t("timer"),delete r.timeout},e.timer),e.timerProgressBar&&(Kt(n),$r(n,e,"timerProgressBar"),setTimeout(()=>{r.timeout&&r.timeout.running&&Zm(e.timer)})))},SO=(r,e)=>{if(!e.toast){if(!Xd(e.allowEnterKey)){S1("allowEnterKey"),CO();return}AO(r)||IO(r,e)||qp(-1,1)}},AO=r=>{const e=Array.from(r.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Ir(t))return t.focus(),!0;return!1},IO=(r,e)=>e.focusDeny&&Ir(r.denyButton)?(r.denyButton.focus(),!0):e.focusCancel&&Ir(r.cancelButton)?(r.cancelButton.focus(),!0):e.focusConfirm&&Ir(r.confirmButton)?(r.confirmButton.focus(),!0):!1,CO=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};kt.prototype.disableButtons=tE;kt.prototype.enableButtons=eE;kt.prototype.getInput=Y1;kt.prototype.disableInput=nE;kt.prototype.enableInput=rE;kt.prototype.hideLoading=Pd;kt.prototype.disableLoading=Pd;kt.prototype.showValidationMessage=sE;kt.prototype.resetValidationMessage=iE;kt.prototype.close=Ws;kt.prototype.closePopup=Ws;kt.prototype.closeModal=Ws;kt.prototype.closeToast=Ws;kt.prototype.rejectPromise=K1;kt.prototype.update=cE;kt.prototype._destroy=dE;Object.assign(kt,sO);Object.keys(V4).forEach(r=>{kt[r]=function(...e){return Dn&&Dn[r]?Dn[r](...e):null}});kt.DismissReason=Oa;kt.version="11.22.4";const Hs=kt;Hs.default=Hs;typeof document<"u"&&(function(r,e){var t=r.createElement("style");if(r.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const RO=()=>{const[r,e]=B.useState({name:"",email:"",message:""}),[t,n]=B.useState(!1);B.useEffect(()=>{Md.init({once:!1})},[]);const i=u=>{const{name:h,value:f}=u.target;e(m=>({...m,[h]:f}))},a=async u=>{u.preventDefault(),n(!0),Hs.fire({title:"Sending Message...",html:"Please wait while we send your message",allowOutsideClick:!1,didOpen:()=>{Hs.showLoading()}});try{const h=u.target,f=new FormData(h);await h.submit(),Hs.fire({title:"Success!",text:"Your message has been sent successfully!",icon:"success",confirmButtonColor:"#6366f1",timer:2e3,timerProgressBar:!0}),e({name:"",email:"",message:""})}catch{Hs.fire({title:"Error!",text:"Something went wrong. Please try again later.",icon:"error",confirmButtonColor:"#6366f1"})}finally{n(!1)}};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"text-center lg:mt-[5%] mt-10 mb-2 sm:px-0 px-[5%]",children:[w.jsx("h2",{"data-aos":"fade-down","data-aos-duration":"1000",className:"inline-block text-3xl md:text-5xl font-bold text-center mx-auto text-transparent bg-clip-text bg-gradient-to-r from-[#6366f1] to-[#a855f7]",children:w.jsx("span",{style:{color:"#6366f1",backgroundImage:"linear-gradient(45deg, #6366f1 10%, #a855f7 93%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Contact Us"})}),w.jsx("p",{"data-aos":"fade-up","data-aos-duration":"1100",className:"text-slate-400 max-w-2xl mx-auto text-sm md:text-base mt-2",children:"Got a question? Send us a message, and w'll get back to you soon."}),w.jsx("div",{className:"mt-4",children:w.jsx("a",{href:sA,download:"XpensiveMedia-Brochure.pdf",className:"inline-block",children:w.jsxs("button",{className:"sm:px-6 py-2 rounded-lg border border-[#a855f7]/50 text-white font-medium transition-all duration-300 hover:scale-105 flex items-center justify-center gap-2 bg-gradient-to-r from-[#6366f1] to-[#a855f7]",children:[w.jsx(Y0,{className:"w-4 h-4 sm:w-5 sm:h-5"})," Download CV"]})})})]}),w.jsx("div",{className:"h-auto py-10 flex items-center justify-center px-[5%] md:px-0",id:"Contact",children:w.jsxs("div",{className:"container px-[1%] grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-[45%_55%] 2xl:grid-cols-[35%_65%] gap-12",children:[w.jsxs("div",{"data-aos":"fade-right","data-aos-duration":"1200",className:"bg-white/5 backdrop-blur-xl rounded-3xl shadow-2xl p-5 py-10 sm:p-10 transform transition-all duration-300 hover:shadow-[#6366f1]/10",children:[w.jsxs("div",{className:"flex justify-between items-start mb-8",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-4xl font-bold mb-3 text-transparent bg-clip-text bg-gradient-to-r from-[#6366f1] to-[#a855f7]",children:"Get in Touch"}),w.jsx("p",{className:"text-gray-400",children:"Have something to discuss? Send us a message and let's talk."})]}),w.jsx(eT,{className:"w-10 h-10 text-[#6366f1] opacity-50"})]}),w.jsxs("form",{action:"https://formsubmit.co/xpensivemedia.co@gmail.com ",method:"POST",onSubmit:a,className:"space-y-6",children:[w.jsx("input",{type:"hidden",name:"_template",value:"table"}),w.jsx("input",{type:"hidden",name:"_captcha",value:"false"}),w.jsxs("div",{"data-aos":"fade-up","data-aos-delay":"100",className:"relative group",children:[w.jsx(rT,{className:"absolute left-4 top-4 w-5 h-5 text-gray-400 group-focus-within:text-[#6366f1] transition-colors"}),w.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:r.name,onChange:i,disabled:t,className:"w-full p-4 pl-12 bg-white/10 rounded-xl border border-white/20 placeholder-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-[#6366f1]/30 transition-all duration-300 hover:border-[#6366f1]/30 disabled:opacity-50",required:!0})]}),w.jsxs("div",{"data-aos":"fade-up","data-aos-delay":"200",className:"relative group",children:[w.jsx(Jp,{className:"absolute left-4 top-4 w-5 h-5 text-gray-400 group-focus-within:text-[#6366f1] transition-colors"}),w.jsx("input",{type:"email",name:"email",placeholder:"Your Email",value:r.email,onChange:i,disabled:t,className:"w-full p-4 pl-12 bg-white/10 rounded-xl border border-white/20 placeholder-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-[#6366f1]/30 transition-all duration-300 hover:border-[#6366f1]/30 disabled:opacity-50",required:!0})]}),w.jsxs("div",{"data-aos":"fade-up","data-aos-delay":"300",className:"relative group",children:[w.jsx(Zx,{className:"absolute left-4 top-4 w-5 h-5 text-gray-400 group-focus-within:text-[#6366f1] transition-colors"}),w.jsx("textarea",{name:"message",placeholder:"Your Message",value:r.message,onChange:i,disabled:t,className:"w-full resize-none p-4 pl-12 bg-white/10 rounded-xl border border-white/20 placeholder-gray-500 text-white focus:outline-none focus:ring-2 focus:ring-[#6366f1]/30 transition-all duration-300 hover:border-[#6366f1]/30 h-[9.9rem] disabled:opacity-50",required:!0})]}),w.jsxs("button",{"data-aos":"fade-up","data-aos-delay":"400",type:"submit",disabled:t,className:"w-full bg-gradient-to-r from-[#6366f1] to-[#a855f7] text-white py-4 rounded-xl font-semibold transition-all duration-300 hover:scale-[1.02] hover:shadow-lg hover:shadow-[#6366f1]/20 active:scale-[0.98] flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[w.jsx(X0,{className:"w-5 h-5"}),t?"Sending...":"Send Message"]})]}),w.jsx("div",{className:"mt-10 pt-6 border-t border-white/10 flex justify-center space-x-6",children:w.jsx(cA,{})})]}),w.jsx("div",{className:"bg-white/5 backdrop-blur-xl rounded-3xl p-3 py-3 md:p-10 md:py-8 shadow-2xl transform transition-all duration-300 hover:shadow-[#6366f1]/10",children:w.jsx(PO,{})})]})})]})};function PO(){const[r,e]=B.useState(!1),t=B.useRef(null);return B.useEffect(()=>{const n=t.current;if(!n)return;const i=new IntersectionObserver(a=>{a.some(u=>u.isIntersecting)&&(e(!0),i.disconnect())},{root:null,threshold:.25});return i.observe(n),()=>i.disconnect()},[]),w.jsx("div",{ref:t,children:r?w.jsx(E1,{}):null})}const yE=({feature:r})=>w.jsxs("li",{className:"group flex items-start space-x-3 p-2.5 md:p-3.5 rounded-xl hover:bg-white/5 transition-all duration-300 border border-transparent hover:border-white/10",children:[w.jsxs("div",{className:"relative mt-2",children:[w.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-full blur group-hover:opacity-100 opacity-0 transition-opacity duration-300"}),w.jsx("div",{className:"relative w-1.5 h-1.5 md:w-2 md:h-2 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 group-hover:scale-125 transition-transform duration-300"})]}),w.jsx("span",{className:"text-sm md:text-base text-gray-300 group-hover:text-white transition-colors",children:r})]});yE.propTypes={feature:Tt.string.isRequired};const vE=({project:r})=>{vE.propTypes={project:Tt.shape({Features:Tt.array}).isRequired};const e=r?.Features?.length||0;return w.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 p-3 md:p-4 bg-[#0a0a1a] rounded-xl overflow-hidden relative",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 to-purple-900/20 opacity-50 blur-2xl z-0"}),w.jsxs("div",{className:"relative z-10 flex items-center space-x-2 md:space-x-3 bg-white/5 p-2 md:p-3 rounded-lg border border-blue-500/20 transition-all duration-300 hover:scale-105 hover:border-blue-500/50 hover:shadow-lg",children:[w.jsx("div",{className:"bg-blue-500/20 p-1.5 md:p-2 rounded-full",children:w.jsx(qx,{className:"text-blue-300 w-4 h-4 md:w-6 md:h-6",strokeWidth:1.5})}),w.jsx("div",{className:"flex-grow"})]}),w.jsxs("div",{className:"relative z-10 flex items-center space-x-2 md:space-x-3 bg-white/5 p-2 md:p-3 rounded-lg border border-purple-500/20 transition-all duration-300 hover:scale-105 hover:border-purple-500/50 hover:shadow-lg",children:[w.jsx("div",{className:"bg-purple-500/20 p-1.5 md:p-2 rounded-full",children:w.jsx(Qx,{className:"text-purple-300 w-4 h-4 md:w-6 md:h-6",strokeWidth:1.5})}),w.jsxs("div",{className:"flex-grow",children:[w.jsx("div",{className:"text-lg md:text-xl font-semibold text-purple-200",children:e}),w.jsx("div",{className:"text-[10px] md:text-xs text-gray-400",children:"Fitur Utama"})]})]})]})},NO=r=>r==="Private"?(Hs.fire({icon:"info",title:"Source Code Private",text:"Maaf, source code untuk proyek ini bersifat privat.",confirmButtonText:"Mengerti",confirmButtonColor:"#3085d6",background:"#030014",color:"#ffffff"}),!1):!0,wE=()=>{const{id:r}=ux(),e=Qp(),[t,n]=B.useState(null);return B.useEffect(()=>{window.scrollTo(0,0);const i=T_.find(a=>String(a.id)===r);if(i){const a={...i,Features:i.Features||[],Github:i.Github||"https://github.com/gurudeepdeeps"};n(a)}},[r]),t?w.jsxs("div",{className:"min-h-screen bg-[#030014] px-[2%] sm:px-0 relative overflow-hidden",children:[w.jsxs("div",{className:"fixed inset-0",children:[w.jsxs("div",{className:"absolute -inset-[10px] opacity-20",children:[w.jsx("div",{className:"absolute top-0 -left-4 w-72 md:w-96 h-72 md:h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob"}),w.jsx("div",{className:"absolute top-0 -right-4 w-72 md:w-96 h-72 md:h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-2000"}),w.jsx("div",{className:"absolute -bottom-8 left-20 w-72 md:w-96 h-72 md:h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-4000"})]}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/5 to-transparent opacity-[0.02]"})]}),w.jsx("div",{className:"relative",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-8 md:py-16",children:[w.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 mb-8 md:mb-12 animate-fadeIn",children:[w.jsxs("button",{onClick:()=>e(-1),className:"group inline-flex items-center space-x-1.5 md:space-x-2 px-3 md:px-5 py-2 md:py-2.5 bg-white/5 backdrop-blur-xl rounded-xl text-white/90 hover:bg-white/10 transition-all duration-300 border border-white/10 hover:border-white/20 text-sm md:text-base",children:[w.jsx($x,{className:"w-4 h-4 md:w-5 md:h-5 group-hover:-translate-x-1 transition-transform"}),w.jsx("span",{children:"Back"})]}),w.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 text-sm md:text-base text-white/50",children:[w.jsx("span",{children:"Projects"}),w.jsx(td,{className:"w-3 h-3 md:w-4 md:h-4"}),w.jsx("span",{className:"text-white/90 truncate",children:t.Title})]})]}),w.jsx("div",{className:"grid lg:grid-cols-2 gap-8 md:gap-16",children:w.jsxs("div",{className:"space-y-6 md:space-y-10 animate-slideInLeft",children:[w.jsxs("div",{className:"space-y-4 md:space-y-6",children:[w.jsx("h1",{className:"text-3xl md:text-6xl font-bold bg-gradient-to-r from-blue-200 via-purple-200 to-pink-200 bg-clip-text text-transparent leading-tight",children:t.Title}),w.jsxs("div",{className:"relative h-1 w-16 md:w-24",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full blur-sm"})]})]}),w.jsx("div",{className:"prose prose-invert max-w-none",children:w.jsx("p",{className:"text-base md:text-lg text-gray-300/90 leading-relaxed",children:t.Description})}),w.jsx(vE,{project:t}),w.jsxs("div",{className:"flex flex-wrap gap-3 md:gap-4",children:[w.jsxs("a",{href:t.Link,target:"_blank",rel:"noopener noreferrer",className:"group relative inline-flex items-center space-x-1.5 md:space-x-2 px-4 md:px-8 py-2.5 md:py-4 bg-gradient-to-r from-blue-600/10 to-purple-600/10 hover:from-blue-600/20 hover:to-purple-600/20 text-blue-300 rounded-xl transition-all duration-300 border border-blue-500/20 hover:border-blue-500/40 backdrop-blur-xl overflow-hidden text-sm md:text-base",children:[w.jsx("div",{className:"absolute inset-0 translate-y-[100%] bg-gradient-to-r from-blue-600/10 to-purple-600/10 transition-transform duration-300 group-hover:translate-y-[0%]"}),w.jsx(Ol,{className:"relative w-4 h-4 md:w-5 md:h-5 group-hover:rotate-12 transition-transform"}),w.jsx("span",{className:"relative font-medium",children:"Live Demo"})]}),w.jsxs("a",{href:t.Github,target:"_blank",rel:"noopener noreferrer",className:"group relative inline-flex items-center space-x-1.5 md:space-x-2 px-4 md:px-8 py-2.5 md:py-4 bg-gradient-to-r from-purple-600/10 to-pink-600/10 hover:from-purple-600/20 hover:to-pink-600/20 text-purple-300 rounded-xl transition-all duration-300 border border-purple-500/20 hover:border-purple-500/40 backdrop-blur-xl overflow-hidden text-sm md:text-base",onClick:i=>!NO(t.Github)&&i.preventDefault(),children:[w.jsx("div",{className:"absolute inset-0 translate-y-[100%] bg-gradient-to-r from-purple-600/10 to-pink-600/10 transition-transform duration-300 group-hover:translate-y-[0%]"}),w.jsx(Hx,{className:"relative w-4 h-4 md:w-5 md:h-5 group-hover:rotate-12 transition-transform"}),w.jsx("span",{className:"relative font-medium",children:"Github"})]})]})]})}),w.jsxs("div",{className:"space-y-6 md:space-y-10 animate-slideInRight",children:[w.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-white/10 shadow-2xl group",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#030014] via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),w.jsx("img",{src:t.Img,alt:t.Title,className:"w-full  object-cover transform transition-transform duration-700 will-change-transform group-hover:scale-105"}),w.jsx("div",{className:"absolute inset-0 border-2 border-white/0 group-hover:border-white/10 transition-colors duration-300 rounded-2xl"})]}),w.jsxs("div",{className:"bg-white/[0.02] backdrop-blur-xl rounded-2xl p-8 border border-white/10 space-y-6 hover:border-white/20 transition-colors duration-300 group",children:[w.jsxs("h3",{className:"text-xl font-semibold text-white/90 flex items-center gap-3",children:[w.jsx(tT,{className:"w-5 h-5 text-yellow-400 group-hover:rotate-[20deg] transition-transform duration-300"}),"Key Features"]}),t.Features.length>0?w.jsx("ul",{className:"list-none space-y-2",children:t.Features.map((i,a)=>w.jsx(yE,{feature:i},a))}):w.jsx("p",{className:"text-gray-400 opacity-50",children:"No features added."})]})]})]})})]}):w.jsx("div",{className:"min-h-screen bg-[#030014] flex items-center justify-center",children:w.jsxs("div",{className:"text-center space-y-6 animate-fadeIn",children:[w.jsx("div",{className:"w-16 h-16 md:w-24 md:h-24 mx-auto border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),w.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white",children:"Loading Project..."})]})})};wE.propTypes={project:Tt.shape({Title:Tt.string.isRequired,Description:Tt.string.isRequired,Link:Tt.string.isRequired,Github:Tt.string.isRequired,Features:Tt.array})};const OO=()=>{const r=Ta();return B.useEffect(()=>{if(typeof window<"u"&&r&&r.hash){const e=r.hash;setTimeout(()=>{const t=document.querySelector(e);if(t){const n=t.offsetTop-80;window.scrollTo({top:n,behavior:"smooth"})}},100)}},[r]),w.jsxs(w.Fragment,{children:[w.jsx(Z0,{}),w.jsx(aA,{}),w.jsx(nA,{}),w.jsx(oA,{}),w.jsx(lA,{}),w.jsx(RO,{}),w.jsx("footer",{children:w.jsxs("center",{children:[w.jsx("hr",{className:"my-3 border-gray-400 opacity-15 sm:mx-auto lg:my-6 text-center"}),w.jsxs("span",{className:"block text-sm pb-4 text-gray-500 text-center dark:text-gray-400",children:[" 2025"," ",w.jsx("a",{href:"#",className:"hover:underline",children:"Xpensive Media"}),". All Rights Reserved"]})]})})]})},jO=()=>w.jsxs(w.Fragment,{children:[w.jsx(wE,{}),w.jsx("footer",{children:w.jsxs("center",{children:[w.jsx("hr",{className:"my-3 border-gray-400 opacity-15 sm:mx-auto lg:my-6 text-center"}),w.jsxs("span",{className:"block text-sm pb-4 text-gray-500 text-center dark:text-gray-400",children:[" 2025"," ",w.jsx("a",{href:"#",className:"hover:underline",children:"Xpensive Media"}),". All Rights Reserved."]})]})})]});function DO(){return w.jsxs(kx,{children:[w.jsx(Al,{path:"/",element:w.jsx(OO,{})}),w.jsx(Al,{path:"/showcase",element:w.jsx(GS,{})}),w.jsx(Al,{path:"/project/:id",element:w.jsx(jO,{})}),w.jsx(Al,{path:"/services",element:w.jsx(nm,{})})]})}class LO extends Ln.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error in React tree:",e,t)}render(){return this.state.hasError?w.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0b0720",color:"#fff",padding:32},children:w.jsxs("div",{style:{maxWidth:800,textAlign:"center"},children:[w.jsx("h2",{style:{color:"#ff6b6b"},children:"Something went wrong"}),w.jsx("pre",{style:{textAlign:"left",whiteSpace:"pre-wrap",background:"#000",padding:12,borderRadius:8,overflowX:"auto"},children:String(this.state.error)}),w.jsx("p",{style:{opacity:.8},children:"Open DevTools Console for full stack trace."})]})}):this.props.children}}O2.createRoot(document.getElementById("root")).render(w.jsx(Ln.StrictMode,{children:w.jsx(LO,{children:w.jsx(Nx,{children:w.jsx(DO,{})})})}));
